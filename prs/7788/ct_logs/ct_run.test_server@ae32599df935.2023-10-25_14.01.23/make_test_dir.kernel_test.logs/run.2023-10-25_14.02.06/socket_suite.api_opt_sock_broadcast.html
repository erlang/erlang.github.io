<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test socket_SUITE:api_opt_sock_broadcast result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="socket_suite.src.html#api_opt_sock_broadcast-1">socket_SUITE:api_opt_sock_broadcast/1</a> (click for source code)

=== Config value:

    [{watchdog,&lt;0.122526.0&gt;},
     {kernel_factor,9},
     {label,{host,undefined}},
     {tc_logfile,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@ae32599df935.2023-10-25_14.01.23/make_test_dir.kernel_test.logs/run.2023-10-25_14.02.06/socket_suite.api_opt_sock_broadcast.html"},
     {tc_group_properties,[{name,api_options_socket}]},
     {tc_group_path,[[{name,api_options}],[{name,api}]]},
     {data_dir,"/buildroot/otp/lib/kernel/make_test_dir/kernel_test/socket_SUITE_data/"},
     {priv_dir,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@ae32599df935.2023-10-25_14.01.23/make_test_dir.kernel_test.logs/run.2023-10-25_14.02.06/log_private/"},
     {nodenames,[]}]

=== Current directory is "/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@ae32599df935.2023-10-25_14.01.23"

=== Started at 2023-10-25 14:54:12

<br />
init_per_testcase(api_opt_sock_broadcast) -&gt; entry with
   Config: [{watchdog,&lt;0.122554.0&gt;},
            {kernel_factor,9},
            {label,{host,undefined}},
            {tc_logfile,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@ae32599df935.2023-10-25_14.01.23/make_test_dir.kernel_test.logs/run.2023-10-25_14.02.06/socket_suite.api_opt_sock_broadcast.html"},
            {tc_group_properties,[{name,api_options_socket}]},
            {tc_group_path,[[{name,api_options}],[{name,api}]]},
            {data_dir,"/buildroot/otp/lib/kernel/make_test_dir/kernel_test/socket_SUITE_data/"},
            {priv_dir,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@ae32599df935.2023-10-25_14.01.23/make_test_dir.kernel_test.logs/run.2023-10-25_14.02.06/log_private/"},
            {nodenames,[]}]

[14:54:12] start tester evaluator
[14:54:12][tester][&lt;0.122556.0&gt;] evaluate command  1: which local address
[14:54:12][tester][&lt;0.122556.0&gt;] local host info: 
   Name:           "eth0"
   Addr:           {172,17,0,2}
   Broadcast Addr: {172,17,255,255}
[14:54:12] await evaluator(s)
[14:54:12][tester][&lt;0.122556.0&gt;] evaluate command  2: [socket 1] create UDP socket (listening 1)
[14:54:12][tester][&lt;0.122556.0&gt;] evaluate command  3: [socket 1] Bind UDP socket (to limited broadcast address)
[14:54:12][tester][&lt;0.122556.0&gt;] Try bind (socket 1) to: 
   #{addr =&gt; broadcast,family =&gt; inet}
[14:54:12][tester][&lt;0.122556.0&gt;] Expected Success (bound): 38023
[14:54:12][tester][&lt;0.122556.0&gt;] evaluate command  4: [socket 1] UDP socket sockname
[14:54:12][tester][&lt;0.122556.0&gt;] SA: #{port =&gt; 38023,
                                       addr =&gt; {255,255,255,255},
                                       family =&gt; inet}
[14:54:12][tester][&lt;0.122556.0&gt;] evaluate command  5: sleep
[14:54:13][tester][&lt;0.122556.0&gt;] evaluate command  6: [socket 2] create UDP socket (listening 2)
[14:54:13][tester][&lt;0.122556.0&gt;] evaluate command  7: [socket 2] Bind UDP socket (to subnet-directed broadcast address)
[14:54:13][tester][&lt;0.122556.0&gt;] Try bind (socket 1) to: 
   #{addr =&gt; {172,17,255,255},family =&gt; inet}
[14:54:13][tester][&lt;0.122556.0&gt;] Expected Success (bound): 56759
[14:54:13][tester][&lt;0.122556.0&gt;] evaluate command  8: [socket 2] UDP socket sockname
[14:54:13][tester][&lt;0.122556.0&gt;] SA: #{port =&gt; 56759,
                                       addr =&gt; {172,17,255,255},
                                       family =&gt; inet}
[14:54:13][tester][&lt;0.122556.0&gt;] evaluate command  9: sleep
[14:54:14][tester][&lt;0.122556.0&gt;] evaluate command 10: [socket 3] create UDP socket (sender)
[14:54:14][tester][&lt;0.122556.0&gt;] evaluate command 11: [socket 3][get] verify UDP socket (before bind and set)
[14:54:14][tester][&lt;0.122556.0&gt;] Expected Success: broadcast not allowed
[14:54:14][tester][&lt;0.122556.0&gt;] evaluate command 12: [socket 3] Try make broadcast allowed
[14:54:14][tester][&lt;0.122556.0&gt;] Expected Success: broadcast now allowed
[14:54:14][tester][&lt;0.122556.0&gt;] evaluate command 13: [socket 3] verify UDP socket broadcast allowed
[14:54:14][tester][&lt;0.122556.0&gt;] Expected Success: broadcast allowed
[14:54:14][tester][&lt;0.122556.0&gt;] evaluate command 14: [socket 3] Bind UDP socket (to local address)
[14:54:14][tester][&lt;0.122556.0&gt;] Try bind (socket 2) to: 
   #{addr =&gt; {172,17,0,2},family =&gt; inet}
[14:54:14][tester][&lt;0.122556.0&gt;] Expected Success (bound): 47392
[14:54:14][tester][&lt;0.122556.0&gt;] evaluate command 15: [socket 3] verify UDP socket (after set)
[14:54:14][tester][&lt;0.122556.0&gt;] Expected Success: broadcast allowed
[14:54:14][tester][&lt;0.122556.0&gt;] evaluate command 16: sleep
[14:54:15][tester][&lt;0.122556.0&gt;] evaluate command 17: [socket 3] try send to limited broadcast address
[14:54:15][tester][&lt;0.122556.0&gt;] try send to broadcast address: 
   #{port =&gt; 38023,addr =&gt; broadcast,family =&gt; inet}
[14:54:15][tester][&lt;0.122556.0&gt;] Expected Success: broadcast message sent
[14:54:15][tester][&lt;0.122556.0&gt;] evaluate command 18: [socket 1] try recv
[14:54:15][tester][&lt;0.122556.0&gt;] Expected Success: received message
[14:54:15][tester][&lt;0.122556.0&gt;] evaluate command 19: sleep
[14:54:16][tester][&lt;0.122556.0&gt;] evaluate command 20: [socket 2] try send to subnet-directed broadcast address
[14:54:16][tester][&lt;0.122556.0&gt;] try send to broadcast address: 
   #{port =&gt; 56759,addr =&gt; {172,17,255,255},family =&gt; inet}
[14:54:16][tester][&lt;0.122556.0&gt;] &lt;ERROR&gt; Unexpected Failure: eacces =&gt; SKIP
[14:54:16][tester][&lt;0.122556.0&gt;] command 20 skip: 
   eacces
[14:54:16] await_finish -&gt; skip (exit) received: 
   Pid:    &lt;0.122556.0&gt;
   Reason: eacces
[14:54:16] evaluator 'tester' (&lt;0.122556.0&gt;) issued SKIP: 
   eacces
[14:54:16] ensure (1) evaluator(s) are terminated
[14:54:16] issue skip
<a name="end"></a>


=== Ended at 2023-10-25 14:54:16
=== Location: {socket_SUITE,api_opt_sock_broadcast}
=== Reason: eacces
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2023 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Wed Oct 25 2023 14:54:12<!--/date--><br />
</div>
</center>
</body>
</html>
