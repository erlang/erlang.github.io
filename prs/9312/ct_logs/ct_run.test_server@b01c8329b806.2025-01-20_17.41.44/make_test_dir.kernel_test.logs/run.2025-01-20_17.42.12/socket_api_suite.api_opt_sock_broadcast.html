<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test socket_api_SUITE:api_opt_sock_broadcast result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="socket_api_suite.src.html#api_opt_sock_broadcast-1">socket_api_SUITE:api_opt_sock_broadcast/1</a> (click for source code)

=== Config value:

    [{watchdog,&lt;0.125006.0&gt;},
     {kernel_factor,5},
     {label,{host,undefined}},
     {tc_logfile,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@b01c8329b806.2025-01-20_17.41.44/make_test_dir.kernel_test.logs/run.2025-01-20_17.42.12/socket_api_suite.api_opt_sock_broadcast.html"},
     {tc_group_properties,[{name,options_socket}]},
     {tc_group_path,[[{name,options}]]},
     {data_dir,"/buildroot/otp/lib/kernel/make_test_dir/kernel_test/socket_api_SUITE_data/"},
     {priv_dir,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@b01c8329b806.2025-01-20_17.41.44/make_test_dir.kernel_test.logs/run.2025-01-20_17.42.12/log_private/"},
     {nodenames,[]}]

=== Current directory is "/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@b01c8329b806.2025-01-20_17.41.44"

=== Started at 2025-01-20 18:42:27

<br />
init_per_testcase(api_opt_sock_broadcast) -&gt; entry with
   Config: [{watchdog,&lt;0.125034.0&gt;},
            {kernel_factor,5},
            {label,{host,undefined}},
            {tc_logfile,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@b01c8329b806.2025-01-20_17.41.44/make_test_dir.kernel_test.logs/run.2025-01-20_17.42.12/socket_api_suite.api_opt_sock_broadcast.html"},
            {tc_group_properties,[{name,options_socket}]},
            {tc_group_path,[[{name,options}]]},
            {data_dir,"/buildroot/otp/lib/kernel/make_test_dir/kernel_test/socket_api_SUITE_data/"},
            {priv_dir,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@b01c8329b806.2025-01-20_17.41.44/make_test_dir.kernel_test.logs/run.2025-01-20_17.42.12/log_private/"},
            {nodenames,[]}]

[18:42:27] local host info: 
   Name:           "eth0"
   Addr:           {172,17,0,2}
   Broadcast Addr: {172,17,255,255}
[18:42:27.499] start tester evaluator
[18:42:27][tester][&lt;0.125036.0&gt;] evaluate command  1: [socket 1] create UDP socket (listening 1)
[18:42:27][tester][&lt;0.125036.0&gt;] evaluate command  2: [socket 1] Bind UDP socket (to limited broadcast address)
[18:42:27.499] await evaluator(s)
[18:42:27][tester][&lt;0.125036.0&gt;] Try bind (socket 1) to: 
   #{addr =&gt; broadcast,family =&gt; inet}
[18:42:27][tester][&lt;0.125036.0&gt;] Expected Success (bound): 33455
[18:42:27][tester][&lt;0.125036.0&gt;] evaluate command  3: [socket 1] UDP socket sockname
[18:42:27][tester][&lt;0.125036.0&gt;] SA: #{port =&gt; 33455,
                                       addr =&gt; {255,255,255,255},
                                       family =&gt; inet}
[18:42:27][tester][&lt;0.125036.0&gt;] evaluate command  4: sleep
[18:42:28][tester][&lt;0.125036.0&gt;] evaluate command  5: [socket 2] create UDP socket (listening 2)
[18:42:28][tester][&lt;0.125036.0&gt;] evaluate command  6: [socket 2] Bind UDP socket (to subnet-directed broadcast address)
[18:42:28][tester][&lt;0.125036.0&gt;] Try bind (socket 1) to: 
   #{addr =&gt; {172,17,255,255},family =&gt; inet}
[18:42:28][tester][&lt;0.125036.0&gt;] Expected Success (bound): 56864
[18:42:28][tester][&lt;0.125036.0&gt;] evaluate command  7: [socket 2] UDP socket sockname
[18:42:28][tester][&lt;0.125036.0&gt;] SA: #{port =&gt; 56864,
                                       addr =&gt; {172,17,255,255},
                                       family =&gt; inet}
[18:42:28][tester][&lt;0.125036.0&gt;] evaluate command  8: sleep
[18:42:29][tester][&lt;0.125036.0&gt;] evaluate command  9: [socket 3] create UDP socket (sender)
[18:42:29][tester][&lt;0.125036.0&gt;] evaluate command 10: [socket 3][get] verify UDP socket (before bind and set)
[18:42:29][tester][&lt;0.125036.0&gt;] Expected Success: broadcast not allowed
[18:42:29][tester][&lt;0.125036.0&gt;] evaluate command 11: [socket 3] Try make broadcast allowed
[18:42:29][tester][&lt;0.125036.0&gt;] Expected Success: broadcast now allowed
[18:42:29][tester][&lt;0.125036.0&gt;] evaluate command 12: [socket 3] verify UDP socket broadcast allowed
[18:42:29][tester][&lt;0.125036.0&gt;] Expected Success: broadcast allowed
[18:42:29][tester][&lt;0.125036.0&gt;] evaluate command 13: [socket 3] Bind UDP socket (to local address)
[18:42:29][tester][&lt;0.125036.0&gt;] Try bind (socket 2) to: 
   #{addr =&gt; {172,17,0,2},family =&gt; inet}
[18:42:29][tester][&lt;0.125036.0&gt;] Expected Success (bound): 47969
[18:42:29][tester][&lt;0.125036.0&gt;] evaluate command 14: [socket 3] verify UDP socket (after set)
[18:42:29][tester][&lt;0.125036.0&gt;] Expected Success: broadcast allowed
[18:42:29][tester][&lt;0.125036.0&gt;] evaluate command 15: sleep
[18:42:30][tester][&lt;0.125036.0&gt;] evaluate command 16: [socket 3] try send to limited broadcast address
[18:42:30][tester][&lt;0.125036.0&gt;] try send to broadcast address: 
   #{port =&gt; 33455,addr =&gt; broadcast,family =&gt; inet}
[18:42:30][tester][&lt;0.125036.0&gt;] Expected Success: broadcast message sent
[18:42:30][tester][&lt;0.125036.0&gt;] evaluate command 17: [socket 1] try recv
[18:42:30][tester][&lt;0.125036.0&gt;] Expected Success: received message
[18:42:30][tester][&lt;0.125036.0&gt;] evaluate command 18: sleep
[18:42:31][tester][&lt;0.125036.0&gt;] evaluate command 19: [socket 2] try send to subnet-directed broadcast address
[18:42:31][tester][&lt;0.125036.0&gt;] try send to broadcast address: 
   #{port =&gt; 56864,addr =&gt; {172,17,255,255},family =&gt; inet}
[18:42:31][tester][&lt;0.125036.0&gt;] &lt;ERROR&gt; Unexpected Failure: eacces =&gt; SKIP
[18:42:31][tester][&lt;0.125036.0&gt;] command 19 skip: 
   eacces
[18:42:31] await_finish -&gt; skip (exit) received: 
   Pid:    &lt;0.125036.0&gt;
   Reason: eacces
[18:42:31] evaluator 'tester' (&lt;0.125036.0&gt;) issued SKIP: 
   eacces
[18:42:31] ensure (1) evaluator(s) are terminated
[18:42:31] issue skip
<a name="end"></a>


=== Ended at 2025-01-20 18:42:31
=== Location: {socket_api_SUITE,api_opt_sock_broadcast}
=== Reason: eacces
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2025 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Mon Jan 20 2025 18:42:27<!--/date--><br />
</div>
</center>
</body>
</html>
