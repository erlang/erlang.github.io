<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.1">
    <meta name="project" content="odbc v2.14.3">


    <title>Examples — odbc v2.14.3</title>
    <link rel="stylesheet" href="dist/html-erlang-APNLKZCW.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-F33BBB34.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-7XSQ4GTY.js"></script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../../../doc/index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="odbc" />
        </a>

      <div>
        <a href="../../../../doc/index.html" class="sidebar-projectName" translate="no">
odbc
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v2.14.3
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of odbc</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/wojtekmach/otp/blob/wm-gha-wxwidgets/lib/odbc/doc/guides/getting_started.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>Examples</span>
  </h1>

<h2 id="setting-things-up" class="section-heading">
  <a href="#setting-things-up" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Setting things up</span>
</h2>
<p>As the Erlang ODBC application is dependent on third party products there are a
few administrative things that needs to be done before you can get things up and
running.</p><ul><li>The first thing you need to do, is to make sure you have an ODBC driver
installed for the database that you want to access. Both the client machine
where you plan to run your erlang node and the server machine running the
database needs the the ODBC driver. (In some cases the client and the server
may be the same machine).</li><li>Secondly you might need to set environment variables and paths to appropriate
values. This may differ a lot between different os's, databases and ODBC
drivers. This is a configuration problem related to the third party product
and hence we cannot give you a standard solution in this guide.</li><li>The Erlang ODBC application consists of both <code class="inline">Erlang</code> and <code class="inline">C</code> code. The <code class="inline">C</code>
code is delivered as a precompiled executable for windows, solaris and linux
(SLES10) in the commercial build. In the open source distribution it is built
the same way as all other application using configure and make. You may want
to provide the the path to your ODBC libraries using --with-odbc=PATH.</li></ul><blockquote><h4 class="info">Note</h4><p>The Erlang ODBC application should run on all Unix dialects including Linux,
Windows 2000, Windows XP and NT. But currently it is only tested for Solaris,
Windows 2000, Windows XP and NT.</p></blockquote><h2 id="using-the-erlang-api" class="section-heading">
  <a href="#using-the-erlang-api" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Using the Erlang API</span>
</h2>
<p>The following dialog within the Erlang shell illustrates the functionality of
the Erlang ODBC interface. The table used in the example does not have any
relevance to anything that exist in reality, it is just a simple example. The
example was created using <code class="inline">sqlserver 7.0 with servicepack 1</code> as database and the
ODBC driver for <code class="inline">sqlserver</code> with version <code class="inline">2000.80.194.00</code>.</p><pre><code class="text"> 1 &gt; odbc:start().
      ok</code></pre><p>Connect to the database</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p" data-group-id="1312624427-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Ref</span><span class="p" data-group-id="1312624427-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">connect</span><span class="p" data-group-id="1312624427-2">(</span><span class="s">&quot;DSN=sql-server;UID=aladdin;PWD=sesame&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1312624427-3">[</span><span class="p" data-group-id="1312624427-3">]</span><span class="p" data-group-id="1312624427-2">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="1312624427-4">{</span><span class="ss">ok</span><span class="p">,</span><span class="o">&lt;</span><span class="mf">0.342</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="p" data-group-id="1312624427-4">}</span></code></pre><p>Create a table</p><pre><code class="text"> 3 &gt; odbc:sql_query(Ref, &quot;CREATE TABLE EMPLOYEE (NR integer,
      FIRSTNAME  char varying(20), LASTNAME  char varying(20), GENDER char(1),
      PRIMARY KEY(NR))&quot;).
      {updated,undefined}</code></pre><p>Insert some data</p><pre><code class="text"> 4 &gt; odbc:sql_query(Ref, &quot;INSERT INTO EMPLOYEE VALUES(1, 'Jane', 'Doe', 'F')&quot;).
      {updated,1}</code></pre><p>Check what data types the database assigned for the columns. Hopefully this is
not a surprise, some times it can be! These are the data types that you should
use if you want to do a parameterized query.</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">describe_table</span><span class="p" data-group-id="3455186291-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EMPLOYEE&quot;</span><span class="p" data-group-id="3455186291-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="3455186291-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3455186291-3">[</span><span class="p" data-group-id="3455186291-4">{</span><span class="s">&quot;NR&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">sql_integer</span><span class="p" data-group-id="3455186291-4">}</span><span class="p">,</span><span class="w">
            </span><span class="p" data-group-id="3455186291-5">{</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3455186291-6">{</span><span class="ss">sql_varchar</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p" data-group-id="3455186291-6">}</span><span class="p" data-group-id="3455186291-5">}</span><span class="p">,</span><span class="w">
            </span><span class="p" data-group-id="3455186291-7">{</span><span class="s">&quot;LASTNAME&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3455186291-8">{</span><span class="ss">sql_varchar</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p" data-group-id="3455186291-8">}</span><span class="p" data-group-id="3455186291-7">}</span><span class="w">
            </span><span class="p" data-group-id="3455186291-9">{</span><span class="s">&quot;GENDER&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3455186291-10">{</span><span class="ss">sql_char</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="3455186291-10">}</span><span class="p" data-group-id="3455186291-9">}</span><span class="p" data-group-id="3455186291-3">]</span><span class="p" data-group-id="3455186291-2">}</span></code></pre><p><a href="" id="param_query"></a> Use a parameterized query to insert many rows in one go.</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">param_query</span><span class="p" data-group-id="1691435859-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="s">&quot;INSERT INTO EMPLOYEE (NR, FIRSTNAME, &quot;</span><span class="w">
                  </span><span class="s">&quot;LASTNAME, GENDER) VALUES(?, ?, ?, ?)&quot;</span><span class="p">,</span><span class="w">
                   </span><span class="p" data-group-id="1691435859-2">[</span><span class="p" data-group-id="1691435859-3">{</span><span class="ss">sql_integer</span><span class="p">,</span><span class="p" data-group-id="1691435859-4">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p" data-group-id="1691435859-4">]</span><span class="p" data-group-id="1691435859-3">}</span><span class="p">,</span><span class="w">
                    </span><span class="p" data-group-id="1691435859-5">{</span><span class="p" data-group-id="1691435859-6">{</span><span class="ss">sql_varchar</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p" data-group-id="1691435859-6">}</span><span class="p">,</span><span class="w">
                             </span><span class="p" data-group-id="1691435859-7">[</span><span class="s">&quot;John&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Monica&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Ross&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Rachel&quot;</span><span class="p">,</span><span class="w">
                             </span><span class="s">&quot;Piper&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Prue&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Louise&quot;</span><span class="p" data-group-id="1691435859-7">]</span><span class="p" data-group-id="1691435859-5">}</span><span class="p">,</span><span class="w">
                   </span><span class="p" data-group-id="1691435859-8">{</span><span class="p" data-group-id="1691435859-9">{</span><span class="ss">sql_varchar</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p" data-group-id="1691435859-9">}</span><span class="p">,</span><span class="w">
                             </span><span class="p" data-group-id="1691435859-10">[</span><span class="s">&quot;Doe&quot;</span><span class="p">,</span><span class="s">&quot;Geller&quot;</span><span class="p">,</span><span class="s">&quot;Geller&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Green&quot;</span><span class="p">,</span><span class="w">
                              </span><span class="s">&quot;Halliwell&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Halliwell&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Lane&quot;</span><span class="p" data-group-id="1691435859-10">]</span><span class="p" data-group-id="1691435859-8">}</span><span class="p">,</span><span class="w">
                   </span><span class="p" data-group-id="1691435859-11">{</span><span class="p" data-group-id="1691435859-12">{</span><span class="ss">sql_char</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1691435859-12">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1691435859-13">[</span><span class="s">&quot;M&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p">,</span><span class="s">&quot;M&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="1691435859-13">]</span><span class="p" data-group-id="1691435859-11">}</span><span class="p" data-group-id="1691435859-2">]</span><span class="p" data-group-id="1691435859-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="1691435859-14">{</span><span class="ss">updated</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p" data-group-id="1691435859-14">}</span></code></pre><p>Fetch all data in the table employee</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">7</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">sql_query</span><span class="p" data-group-id="3409278476-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;SELECT * FROM EMPLOYEE&quot;</span><span class="p" data-group-id="3409278476-1">)</span><span class="p">.</span><span class="w">
    </span><span class="p" data-group-id="3409278476-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="3409278476-3">[</span><span class="s">&quot;NR&quot;</span><span class="p">,</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;LASTNAME&quot;</span><span class="p">,</span><span class="s">&quot;GENDER&quot;</span><span class="p" data-group-id="3409278476-3">]</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="3409278476-4">[</span><span class="p" data-group-id="3409278476-5">{</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Jane&quot;</span><span class="p">,</span><span class="s">&quot;Doe&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="3409278476-5">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3409278476-6">{</span><span class="mi">2</span><span class="p">,</span><span class="s">&quot;John&quot;</span><span class="p">,</span><span class="s">&quot;Doe&quot;</span><span class="p">,</span><span class="s">&quot;M&quot;</span><span class="p" data-group-id="3409278476-6">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3409278476-7">{</span><span class="mi">3</span><span class="p">,</span><span class="s">&quot;Monica&quot;</span><span class="p">,</span><span class="s">&quot;Geller&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="3409278476-7">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3409278476-8">{</span><span class="mi">4</span><span class="p">,</span><span class="s">&quot;Ross&quot;</span><span class="p">,</span><span class="s">&quot;Geller&quot;</span><span class="p">,</span><span class="s">&quot;M&quot;</span><span class="p" data-group-id="3409278476-8">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3409278476-9">{</span><span class="mi">5</span><span class="p">,</span><span class="s">&quot;Rachel&quot;</span><span class="p">,</span><span class="s">&quot;Green&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="3409278476-9">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3409278476-10">{</span><span class="mi">6</span><span class="p">,</span><span class="s">&quot;Piper&quot;</span><span class="p">,</span><span class="s">&quot;Halliwell&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="3409278476-10">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3409278476-11">{</span><span class="mi">7</span><span class="p">,</span><span class="s">&quot;Prue&quot;</span><span class="p">,</span><span class="s">&quot;Halliwell&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="3409278476-11">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3409278476-12">{</span><span class="mi">8</span><span class="p">,</span><span class="s">&quot;Louise&quot;</span><span class="p">,</span><span class="s">&quot;Lane&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="3409278476-12">}</span><span class="p" data-group-id="3409278476-4">]</span><span class="p">]</span><span class="p" data-group-id="3409278476-2">}</span></code></pre><p>Associate a result set containing the whole table <code class="inline">EMPLOYEE</code> to the connection.
The number of rows in the result set is returned.</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">select_count</span><span class="p" data-group-id="0411110315-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;SELECT * FROM EMPLOYEE&quot;</span><span class="p" data-group-id="0411110315-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="0411110315-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="mi">8</span><span class="p" data-group-id="0411110315-2">}</span></code></pre><p>You can always traverse the result set sequential by using next</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">next</span><span class="p" data-group-id="3361285304-1">(</span><span class="n">Ref</span><span class="p" data-group-id="3361285304-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="3361285304-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="3361285304-3">[</span><span class="s">&quot;NR&quot;</span><span class="p">,</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;LASTNAME&quot;</span><span class="p">,</span><span class="s">&quot;GENDER&quot;</span><span class="p" data-group-id="3361285304-3">]</span><span class="p">,</span><span class="p" data-group-id="3361285304-4">[</span><span class="p" data-group-id="3361285304-5">{</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Jane&quot;</span><span class="p">,</span><span class="s">&quot;Doe&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="3361285304-5">}</span><span class="p" data-group-id="3361285304-4">]</span><span class="p" data-group-id="3361285304-2">}</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">next</span><span class="p" data-group-id="0202208235-1">(</span><span class="n">Ref</span><span class="p" data-group-id="0202208235-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="0202208235-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="0202208235-3">[</span><span class="s">&quot;NR&quot;</span><span class="p">,</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;LASTNAME&quot;</span><span class="p">,</span><span class="s">&quot;GENDER&quot;</span><span class="p" data-group-id="0202208235-3">]</span><span class="p">,</span><span class="p" data-group-id="0202208235-4">[</span><span class="p" data-group-id="0202208235-5">{</span><span class="mi">2</span><span class="p">,</span><span class="s">&quot;John&quot;</span><span class="p">,</span><span class="s">&quot;Doe&quot;</span><span class="p">,</span><span class="s">&quot;M&quot;</span><span class="p" data-group-id="0202208235-5">}</span><span class="p" data-group-id="0202208235-4">]</span><span class="p" data-group-id="0202208235-2">}</span></code></pre><p>If your driver supports scrollable cursors you have a little more freedom, and
can do things like this.</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">last</span><span class="p" data-group-id="5988202620-1">(</span><span class="n">Ref</span><span class="p" data-group-id="5988202620-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="5988202620-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="5988202620-3">[</span><span class="s">&quot;NR&quot;</span><span class="p">,</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;LASTNAME&quot;</span><span class="p">,</span><span class="s">&quot;GENDER&quot;</span><span class="p" data-group-id="5988202620-3">]</span><span class="p">,</span><span class="p" data-group-id="5988202620-4">[</span><span class="p" data-group-id="5988202620-5">{</span><span class="mi">8</span><span class="p">,</span><span class="s">&quot;Louise&quot;</span><span class="p">,</span><span class="s">&quot;Lane&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="5988202620-5">}</span><span class="p" data-group-id="5988202620-4">]</span><span class="p" data-group-id="5988202620-2">}</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">prev</span><span class="p" data-group-id="0483188862-1">(</span><span class="n">Ref</span><span class="p" data-group-id="0483188862-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="0483188862-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="0483188862-3">[</span><span class="s">&quot;NR&quot;</span><span class="p">,</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;LASTNAME&quot;</span><span class="p">,</span><span class="s">&quot;GENDER&quot;</span><span class="p" data-group-id="0483188862-3">]</span><span class="p">,</span><span class="p" data-group-id="0483188862-4">[</span><span class="p" data-group-id="0483188862-5">{</span><span class="mi">7</span><span class="p">,</span><span class="s">&quot;Prue&quot;</span><span class="p">,</span><span class="s">&quot;Halliwell&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="0483188862-5">}</span><span class="p" data-group-id="0483188862-4">]</span><span class="p" data-group-id="0483188862-2">}</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">first</span><span class="p" data-group-id="1423904048-1">(</span><span class="n">Ref</span><span class="p" data-group-id="1423904048-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="1423904048-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="1423904048-3">[</span><span class="s">&quot;NR&quot;</span><span class="p">,</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;LASTNAME&quot;</span><span class="p">,</span><span class="s">&quot;GENDER&quot;</span><span class="p" data-group-id="1423904048-3">]</span><span class="p">,</span><span class="p" data-group-id="1423904048-4">[</span><span class="p" data-group-id="1423904048-5">{</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Jane&quot;</span><span class="p">,</span><span class="s">&quot;Doe&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p" data-group-id="1423904048-5">}</span><span class="p" data-group-id="1423904048-4">]</span><span class="p" data-group-id="1423904048-2">}</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">next</span><span class="p" data-group-id="9624921455-1">(</span><span class="n">Ref</span><span class="p" data-group-id="9624921455-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="9624921455-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="9624921455-3">[</span><span class="s">&quot;NR&quot;</span><span class="p">,</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;LASTNAME&quot;</span><span class="p">,</span><span class="s">&quot;GENDER&quot;</span><span class="p" data-group-id="9624921455-3">]</span><span class="p">,</span><span class="p" data-group-id="9624921455-4">[</span><span class="p" data-group-id="9624921455-5">{</span><span class="mi">2</span><span class="p">,</span><span class="s">&quot;John&quot;</span><span class="p">,</span><span class="s">&quot;Doe&quot;</span><span class="p">,</span><span class="s">&quot;M&quot;</span><span class="p" data-group-id="9624921455-5">}</span><span class="p" data-group-id="9624921455-4">]</span><span class="p" data-group-id="9624921455-2">}</span></code></pre><p>Fetch the fields <code class="inline">FIRSTNAME</code>and <code class="inline">NR</code>for all female employees</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">sql_query</span><span class="p" data-group-id="1210587270-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;SELECT FIRSTNAME, NR FROM EMPLOYEE WHERE GENDER = &#39;F&#39;&quot;</span><span class="p" data-group-id="1210587270-1">)</span><span class="p">.</span><span class="w">
     </span><span class="p" data-group-id="1210587270-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="1210587270-3">[</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;NR&quot;</span><span class="p" data-group-id="1210587270-3">]</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="1210587270-4">[</span><span class="p" data-group-id="1210587270-5">{</span><span class="s">&quot;Jane&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="1210587270-5">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="1210587270-6">{</span><span class="s">&quot;Monica&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="1210587270-6">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="1210587270-7">{</span><span class="s">&quot;Rachel&quot;</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="1210587270-7">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="1210587270-8">{</span><span class="s">&quot;Piper&quot;</span><span class="p">,</span><span class="mi">6</span><span class="p" data-group-id="1210587270-8">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="1210587270-9">{</span><span class="s">&quot;Prue&quot;</span><span class="p">,</span><span class="mi">7</span><span class="p" data-group-id="1210587270-9">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="1210587270-10">{</span><span class="s">&quot;Louise&quot;</span><span class="p">,</span><span class="mi">8</span><span class="p" data-group-id="1210587270-10">}</span><span class="p" data-group-id="1210587270-4">]</span><span class="p" data-group-id="1210587270-2">}</span></code></pre><p>Fetch the fields <code class="inline">FIRSTNAME</code>and <code class="inline">NR</code>for all female employees and sort them on
the field <code class="inline">FIRSTNAME</code>.</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">sql_query</span><span class="p" data-group-id="3326656921-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;SELECT FIRSTNAME, NR FROM EMPLOYEE WHERE GENDER = &#39;F&#39;
      ORDER BY FIRSTNAME&quot;</span><span class="p" data-group-id="3326656921-1">)</span><span class="p">.</span><span class="w">
    </span><span class="p" data-group-id="3326656921-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="3326656921-3">[</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;NR&quot;</span><span class="p" data-group-id="3326656921-3">]</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="3326656921-4">[</span><span class="p" data-group-id="3326656921-5">{</span><span class="s">&quot;Jane&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="3326656921-5">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3326656921-6">{</span><span class="s">&quot;Louise&quot;</span><span class="p">,</span><span class="mi">8</span><span class="p" data-group-id="3326656921-6">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3326656921-7">{</span><span class="s">&quot;Monica&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="3326656921-7">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3326656921-8">{</span><span class="s">&quot;Piper&quot;</span><span class="p">,</span><span class="mi">6</span><span class="p" data-group-id="3326656921-8">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3326656921-9">{</span><span class="s">&quot;Prue&quot;</span><span class="p">,</span><span class="mi">7</span><span class="p" data-group-id="3326656921-9">}</span><span class="p">,</span><span class="w">
           </span><span class="p" data-group-id="3326656921-10">{</span><span class="s">&quot;Rachel&quot;</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="3326656921-10">}</span><span class="p" data-group-id="3326656921-4">]</span><span class="p" data-group-id="3326656921-2">}</span></code></pre><p>Associate a result set that contains the fields <code class="inline">FIRSTNAME</code> and <code class="inline">NR</code>for all
female employees to the connection. The number of rows in the result set is
returned.</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">select_count</span><span class="p" data-group-id="6183340882-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;SELECT FIRSTNAME, NR FROM EMPLOYEE WHERE GENDER = &#39;F&#39;&quot;</span><span class="p" data-group-id="6183340882-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="6183340882-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="mi">6</span><span class="p" data-group-id="6183340882-2">}</span></code></pre><p>A few more ways of retrieving parts of the result set when the driver supports
scrollable cursors. Note that next will work even without support for scrollable
cursors.</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="5253273931-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5253273931-2">{</span><span class="ss">relative</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="5253273931-2">}</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="5253273931-1">)</span><span class="p">.</span><span class="w">
    </span><span class="p" data-group-id="5253273931-3">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="5253273931-4">[</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;NR&quot;</span><span class="p" data-group-id="5253273931-4">]</span><span class="p">,</span><span class="p" data-group-id="5253273931-5">[</span><span class="p" data-group-id="5253273931-6">{</span><span class="s">&quot;Monica&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="5253273931-6">}</span><span class="p">,</span><span class="p" data-group-id="5253273931-7">{</span><span class="s">&quot;Rachel&quot;</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="5253273931-7">}</span><span class="p">,</span><span class="p" data-group-id="5253273931-8">{</span><span class="s">&quot;Piper&quot;</span><span class="p">,</span><span class="mi">6</span><span class="p" data-group-id="5253273931-8">}</span><span class="p" data-group-id="5253273931-5">]</span><span class="p" data-group-id="5253273931-3">}</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">19</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="6532222519-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="ss">next</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="6532222519-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="6532222519-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="6532222519-3">[</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;NR&quot;</span><span class="p" data-group-id="6532222519-3">]</span><span class="p">,</span><span class="p" data-group-id="6532222519-4">[</span><span class="p" data-group-id="6532222519-5">{</span><span class="s">&quot;Prue&quot;</span><span class="p">,</span><span class="mi">7</span><span class="p" data-group-id="6532222519-5">}</span><span class="p">,</span><span class="p" data-group-id="6532222519-6">{</span><span class="s">&quot;Louise&quot;</span><span class="p">,</span><span class="mi">8</span><span class="p" data-group-id="6532222519-6">}</span><span class="p" data-group-id="6532222519-4">]</span><span class="p" data-group-id="6532222519-2">}</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="9608105428-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9608105428-2">{</span><span class="ss">absolute</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="9608105428-2">}</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="9608105428-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="9608105428-3">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="9608105428-4">[</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;NR&quot;</span><span class="p" data-group-id="9608105428-4">]</span><span class="p">,</span><span class="p" data-group-id="9608105428-5">[</span><span class="p" data-group-id="9608105428-6">{</span><span class="s">&quot;Jane&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="9608105428-6">}</span><span class="p">,</span><span class="p" data-group-id="9608105428-7">{</span><span class="s">&quot;Monica&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="9608105428-7">}</span><span class="p" data-group-id="9608105428-5">]</span><span class="p" data-group-id="9608105428-3">}</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">21</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="3431746668-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="ss">next</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="3431746668-1">)</span><span class="p">.</span><span class="w">
    </span><span class="p" data-group-id="3431746668-2">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="3431746668-3">[</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;NR&quot;</span><span class="p" data-group-id="3431746668-3">]</span><span class="p">,</span><span class="p" data-group-id="3431746668-4">[</span><span class="p" data-group-id="3431746668-5">{</span><span class="s">&quot;Rachel&quot;</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="3431746668-5">}</span><span class="p">,</span><span class="p" data-group-id="3431746668-6">{</span><span class="s">&quot;Piper&quot;</span><span class="p">,</span><span class="mi">6</span><span class="p" data-group-id="3431746668-6">}</span><span class="p" data-group-id="3431746668-4">]</span><span class="p" data-group-id="3431746668-2">}</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="9605471533-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9605471533-2">{</span><span class="ss">absolute</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="9605471533-2">}</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p" data-group-id="9605471533-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="9605471533-3">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="9605471533-4">[</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;NR&quot;</span><span class="p" data-group-id="9605471533-4">]</span><span class="p">,</span><span class="w">
                </span><span class="p" data-group-id="9605471533-5">[</span><span class="p" data-group-id="9605471533-6">{</span><span class="s">&quot;Jane&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="9605471533-6">}</span><span class="p">,</span><span class="p" data-group-id="9605471533-7">{</span><span class="s">&quot;Monica&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="9605471533-7">}</span><span class="p">,</span><span class="p" data-group-id="9605471533-8">{</span><span class="s">&quot;Rachel&quot;</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="9605471533-8">}</span><span class="p">,</span><span class="p" data-group-id="9605471533-9">{</span><span class="s">&quot;Piper&quot;</span><span class="p">,</span><span class="mi">6</span><span class="p" data-group-id="9605471533-9">}</span><span class="p" data-group-id="9605471533-5">]</span><span class="p" data-group-id="9605471533-3">}</span></code></pre><p>Select, using a parameterized query.</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">param_query</span><span class="p" data-group-id="6721246941-1">(</span><span class="n">Ref</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;SELECT * FROM EMPLOYEE WHERE GENDER=?&quot;</span><span class="p">,</span><span class="w">
      </span><span class="p" data-group-id="6721246941-2">[</span><span class="p" data-group-id="6721246941-3">{</span><span class="p" data-group-id="6721246941-4">{</span><span class="ss">sql_char</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="6721246941-4">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6721246941-5">[</span><span class="s">&quot;M&quot;</span><span class="p" data-group-id="6721246941-5">]</span><span class="p" data-group-id="6721246941-3">}</span><span class="p" data-group-id="6721246941-2">]</span><span class="p" data-group-id="6721246941-1">)</span><span class="p">.</span><span class="w">
      </span><span class="p" data-group-id="6721246941-6">{</span><span class="ss">selected</span><span class="p">,</span><span class="p" data-group-id="6721246941-7">[</span><span class="s">&quot;NR&quot;</span><span class="p">,</span><span class="s">&quot;FIRSTNAME&quot;</span><span class="p">,</span><span class="s">&quot;LASTNAME&quot;</span><span class="p">,</span><span class="s">&quot;GENDER&quot;</span><span class="p" data-group-id="6721246941-7">]</span><span class="p">,</span><span class="w">
                </span><span class="p" data-group-id="6721246941-8">[</span><span class="p" data-group-id="6721246941-9">{</span><span class="mi">2</span><span class="p">,</span><span class="s">&quot;John&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Doe&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;M&quot;</span><span class="p" data-group-id="6721246941-9">}</span><span class="p">,</span><span class="p" data-group-id="6721246941-10">{</span><span class="mi">4</span><span class="p">,</span><span class="s">&quot;Ross&quot;</span><span class="p">,</span><span class="s">&quot;Geller&quot;</span><span class="p">,</span><span class="s">&quot;M&quot;</span><span class="p" data-group-id="6721246941-10">}</span><span class="p" data-group-id="6721246941-8">]</span><span class="p" data-group-id="6721246941-6">}</span></code></pre><p>Delete the table <code class="inline">EMPLOYEE</code>.</p><pre><code class="text"> 24 &gt; odbc:sql_query(Ref, &quot;DROP TABLE EMPLOYEE&quot;).
      {updated,undefined}</code></pre><p>Shut down the connection.</p><pre><code class="makeup erlang" translate="no"><span class="w"> </span><span class="mi">25</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nc">odbc</span><span class="p">:</span><span class="nf">disconnect</span><span class="p" data-group-id="2602099667-1">(</span><span class="n">Ref</span><span class="p" data-group-id="2602099667-1">)</span><span class="p">.</span><span class="w">
      </span><span class="ss">ok</span></code></pre><p>Shut down the application.</p><pre><code class="text"> 26 &gt; odbc:stop().
    =INFO REPORT==== 7-Jan-2004::17:00:59 ===
    application: odbc
    exited: stopped
    type: temporary

    ok</code></pre>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="introduction.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Overview
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="databases.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Databases
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="odbc.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2024 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
<script>
  function mermaidLoaded() {
    mermaid.initialize({
      startOnLoad: false,
      theme: document.body.className.includes("dark") ? "dark" : "default"
    });
    let id = 0;
    for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
        graphEl.innerHTML = svg;
        bindFunctions?.(graphEl);
        preEl.insertAdjacentElement("afterend", graphEl);
        preEl.remove();
      });
    }
  }
</script>
<script async src="https://cdn.jsdelivr.net/npm/mermaid@10.2.3/dist/mermaid.min.js" onload="mermaidLoaded();"></script>

  </body>
</html>
