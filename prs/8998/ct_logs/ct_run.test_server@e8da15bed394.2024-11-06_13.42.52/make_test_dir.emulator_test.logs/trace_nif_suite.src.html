<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- autogenerated by 'erl2html2'. -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/></meta>
<title>/buildroot/otp/erts/emulator/make_test_dir/emulator_test/trace_nif_SUITE.erl</title>
</head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<pre>
<a name="1"/>    1: <i>%%</i>
<a name="2"/>    2: <i>%% %CopyrightBegin%</i>
<a name="3"/>    3: <i>%% </i>
<a name="4"/>    4: <i>%% Copyright Ericsson AB 2010-2024. All Rights Reserved.</i>
<a name="5"/>    5: <i>%% </i>
<a name="6"/>    6: <i>%% Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</i>
<a name="7"/>    7: <i>%% you may not use this file except in compliance with the License.</i>
<a name="8"/>    8: <i>%% You may obtain a copy of the License at</i>
<a name="9"/>    9: <i>%%</i>
<a name="10"/>   10: <i>%%     http://www.apache.org/licenses/LICENSE-2.0</i>
<a name="11"/>   11: <i>%%</i>
<a name="12"/>   12: <i>%% Unless required by applicable law or agreed to in writing, software</i>
<a name="13"/>   13: <i>%% distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</i>
<a name="14"/>   14: <i>%% WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</i>
<a name="15"/>   15: <i>%% See the License for the specific language governing permissions and</i>
<a name="16"/>   16: <i>%% limitations under the License.</i>
<a name="17"/>   17: <i>%% </i>
<a name="18"/>   18: <i>%% %CopyrightEnd%</i>
<a name="19"/>   19: <i>%%</i>
<a name="20"/>   20: 
<a name="21"/>   21: <b>-module</b>(trace_nif_SUITE).
<a name="22"/>   22: 
<a name="23"/>   23: <b>-include_lib</b>(&quot;common_test/include/ct.hrl&quot;).
<a name="24"/>   24: 
<a name="25"/>   25: <b>-export</b>([all/0, suite/0, groups/0,
<a name="26"/>   26:          init_per_suite/1, end_per_suite/1,
<a name="27"/>   27:          init_per_group/2, end_per_group/2,
<a name="28"/>   28:          init_per_testcase/2, end_per_testcase/2]).
<a name="29"/>   29: 
<a name="30"/>   30: <b>-export</b>([trace_nif/1,
<a name="31"/>   31: 	 trace_nif_timestamp/1,
<a name="32"/>   32: 	 trace_nif_local/1,
<a name="33"/>   33: 	 trace_nif_meta/1,
<a name="34"/>   34: 	 trace_nif_timestamp_local/1,
<a name="35"/>   35: 	 trace_nif_return/1]).
<a name="36"/>   36: 
<a name="37"/>   37: <b>-export</b>([nif_process/0, nif/0, nif/1]).
<a name="38"/>   38: 
<a name="suite-0"/><a name="suite-last_expr"/><a name="39"/>   39: <b>suite</b>() -&gt; [{ct_hooks,[ts_install_cth]}].
<a name="40"/>   40: 
<a name="all-0"/><a name="41"/>   41: <b>all</b>() -&gt;
<a name="all-last_expr"/><a name="42"/>   42: <b>    trace_sessions:all</b>().
<a name="43"/>   43: 
<a name="groups-0"/><a name="44"/>   44: <b>groups</b>() -&gt;
<a name="groups-last_expr"/><a name="45"/>   45: <b>    trace_sessions:groups</b>(testcases()).
<a name="46"/>   46: 
<a name="testcases-0"/><a name="47"/>   47: <b>testcases</b>() -&gt;
<a name="testcases-last_expr"/><a name="48"/>   48:     [trace_nif, trace_nif_timestamp, trace_nif_local,
<a name="49"/>   49:      trace_nif_meta, trace_nif_timestamp_local,
<a name="50"/>   50:      trace_nif_return].
<a name="51"/>   51: 
<a name="52"/>   52: 
<a name="init_per_suite-1"/><a name="53"/>   53: <b>init_per_suite</b>(Config) -&gt;
<a name="init_per_suite-last_expr"/><a name="54"/>   54: <b>    trace_sessions:init_per_suite</b>(Config, ?MODULE).
<a name="55"/>   55: 
<a name="end_per_suite-1"/><a name="56"/>   56: <b>end_per_suite</b>(Config) -&gt;
<a name="end_per_suite-last_expr"/><a name="57"/>   57: <b>    trace_sessions:end_per_suite</b>(Config).
<a name="58"/>   58: 
<a name="init_per_group-2"/><a name="59"/>   59: <b>init_per_group</b>(Group, Config) -&gt;
<a name="init_per_group-last_expr"/><a name="60"/>   60: <b>    trace_sessions:init_per_group</b>(Group, Config).
<a name="61"/>   61: 
<a name="end_per_group-2"/><a name="62"/>   62: <b>end_per_group</b>(Group, Config) -&gt;
<a name="end_per_group-last_expr"/><a name="63"/>   63: <b>    trace_sessions:end_per_group</b>(Group, Config).
<a name="64"/>   64: 
<a name="65"/>   65: 
<a name="init_per_testcase-2"/><a name="66"/>   66: <b>init_per_testcase</b>(Func, Config) when is_atom(Func), is_list(Config) -&gt;
<a name="init_per_testcase-last_expr"/><a name="67"/>   67:     Config.
<a name="68"/>   68: 
<a name="end_per_testcase-2"/><a name="69"/>   69: <b>end_per_testcase</b>(_Func, Config) -&gt;
<a name="end_per_testcase-last_expr"/><a name="70"/>   70: <b>    trace_sessions:end_per_testcase</b>(Config).
<a name="71"/>   71: 
<a name="erlang_trace-3"/><a name="72"/>   72: <b>erlang_trace</b>(A,B,C) -&gt;
<a name="erlang_trace-last_expr"/><a name="73"/>   73: <b>    trace_sessions:erlang_trace</b>(A,B,C).
<a name="74"/>   74: 
<a name="erlang_trace_pattern-3"/><a name="75"/>   75: <b>erlang_trace_pattern</b>(A,B,C) -&gt;
<a name="erlang_trace_pattern-last_expr"/><a name="76"/>   76: <b>    trace_sessions:erlang_trace_pattern</b>(A,B,C).
<a name="77"/>   77: 
<a name="78"/>   78: <i>%erlang_trace_info(A,B) -&gt;</i>
<a name="79"/>   79: <i>%    trace_sessions:erlang_trace_info(A,B).</i>
<a name="80"/>   80: 
<a name="81"/>   81: 
<a name="82"/>   82: <i>%% Test tracing NIFs.</i>
<a name="trace_nif-1"/><a name="83"/>   83: <b>trace_nif</b>(Config) when is_list(Config) -&gt;
<a name="84"/>   84:     load_nif(Config),
<a name="85"/>   85: 
<a name="trace_nif-last_expr"/><a name="86"/>   86: <b>    do_trace_nif</b>([]).
<a name="87"/>   87: 
<a name="88"/>   88: <i>%% Test tracing NIFs with local flag.</i>
<a name="trace_nif_local-1"/><a name="89"/>   89: <b>trace_nif_local</b>(Config) when is_list(Config) -&gt;
<a name="90"/>   90:     load_nif(Config),
<a name="trace_nif_local-last_expr"/><a name="91"/>   91: <b>    do_trace_nif</b>([local]).
<a name="92"/>   92: 
<a name="93"/>   93: <i>%% Test tracing NIFs with meta flag.</i>
<a name="trace_nif_meta-1"/><a name="94"/>   94: <b>trace_nif_meta</b>(Config) when is_list(Config) -&gt;
<a name="95"/>   95:     load_nif(Config),
<a name="96"/>   96:     Pid=spawn_link(?MODULE, nif_process, []),
<a name="97"/>   97:     erlang_trace_pattern({?MODULE,nif,'_'}, [], [meta]),
<a name="98"/>   98: 
<a name="99"/>   99:     Pid ! {apply_nif, nif, []},
<a name="100"/>  100:     receive_trace_msg_ts({trace_ts,Pid,call,{?MODULE,nif,[]}}),
<a name="101"/>  101: 
<a name="102"/>  102:     Pid ! {apply_nif, nif, [&quot;Arg1&quot;]},
<a name="103"/>  103:     receive_trace_msg_ts({trace_ts,Pid,call,
<a name="104"/>  104:                           {?MODULE,nif, [&quot;Arg1&quot;]}}),
<a name="105"/>  105: 
<a name="106"/>  106:     Pid ! {call_nif, nif, []},
<a name="107"/>  107:     receive_trace_msg_ts({trace_ts,Pid,call,
<a name="108"/>  108:                           {?MODULE,nif, []}}),
<a name="109"/>  109: 
<a name="110"/>  110:     Pid ! {call_nif, nif, [&quot;Arg1&quot;]},
<a name="111"/>  111:     receive_trace_msg_ts({trace_ts,Pid,call,
<a name="112"/>  112:                           {?MODULE,nif, [&quot;Arg1&quot;]}}),
<a name="trace_nif_meta-last_expr"/><a name="113"/>  113:     ok.
<a name="do_trace_nif-1"/><a name="114"/>  114: <b>do_trace_nif</b>(Flags) -&gt;
<a name="115"/>  115:     Pid = spawn_link(?MODULE, nif_process, []),
<a name="116"/>  116:     1 = erlang_trace(Pid, true, [call]),
<a name="117"/>  117:     erlang_trace_pattern({?MODULE,nif,'_'}, [], Flags),
<a name="118"/>  118:     Pid ! {apply_nif, nif, []},
<a name="119"/>  119:     receive_trace_msg({trace,Pid,call,{?MODULE,nif, []}}),
<a name="120"/>  120:     Pid ! {apply_nif, nif, [&quot;Arg1&quot;]},
<a name="121"/>  121:     receive_trace_msg({trace,Pid,call,{?MODULE,nif, [&quot;Arg1&quot;]}}),
<a name="122"/>  122: 
<a name="123"/>  123:     Pid ! {call_nif, nif, []},
<a name="124"/>  124:     receive_trace_msg({trace, Pid, call, {?MODULE,nif, []}}),
<a name="125"/>  125: 
<a name="126"/>  126:     Pid ! {call_nif, nif, [&quot;Arg1&quot;]},
<a name="127"/>  127:     receive_trace_msg({trace, Pid, call, {?MODULE,nif, [&quot;Arg1&quot;]}}),
<a name="128"/>  128: 
<a name="129"/>  129: 
<a name="130"/>  130:     %% Switch off
<a name="131"/>  131:     1 = erlang_trace(Pid, false, [call]),
<a name="132"/>  132: 
<a name="133"/>  133:     Pid ! {apply_nif, nif, []},
<a name="134"/>  134:     receive_nothing(),
<a name="135"/>  135:     Pid ! {apply_nif, nif, [&quot;Arg1&quot;]},
<a name="136"/>  136:     receive_nothing(),
<a name="137"/>  137:     Pid ! {call_nif, nif, []},
<a name="138"/>  138:     receive_nothing(),
<a name="139"/>  139:     Pid ! {call_nif, nif, [&quot;Arg1&quot;]},
<a name="140"/>  140:     receive_nothing(),
<a name="141"/>  141: 
<a name="142"/>  142:     %% Switch on again
<a name="143"/>  143:     1 = erlang_trace(Pid, true, [call]),
<a name="144"/>  144:     erlang_trace_pattern({?MODULE,nif,'_'}, [], Flags),
<a name="145"/>  145:     Pid ! {apply_nif, nif, []},
<a name="146"/>  146:     receive_trace_msg({trace,Pid,call,{?MODULE,nif, []}}),
<a name="147"/>  147:     Pid ! {apply_nif, nif, [&quot;Arg1&quot;]},
<a name="148"/>  148:     receive_trace_msg({trace,Pid,call,{?MODULE,nif, [&quot;Arg1&quot;]}}),
<a name="149"/>  149: 
<a name="150"/>  150:     Pid ! {call_nif, nif, []},
<a name="151"/>  151:     receive_trace_msg({trace, Pid, call, {?MODULE,nif, []}}),
<a name="152"/>  152: 
<a name="153"/>  153:     Pid ! {call_nif, nif, [&quot;Arg1&quot;]},
<a name="154"/>  154:     receive_trace_msg({trace, Pid, call, {?MODULE,nif, [&quot;Arg1&quot;]}}),
<a name="155"/>  155: 
<a name="156"/>  156:     1 = erlang_trace(Pid, false, [call]),
<a name="157"/>  157:     erlang_trace_pattern({?MODULE,nif,'_'}, false, Flags),
<a name="158"/>  158: 
<a name="159"/>  159:     unlink(Pid),
<a name="160"/>  160:     exit(Pid, die),
<a name="do_trace_nif-last_expr"/><a name="161"/>  161:     ok.
<a name="162"/>  162: 
<a name="163"/>  163: <i>%% Test tracing NIFs with timestamps.</i>
<a name="trace_nif_timestamp-1"/><a name="164"/>  164: <b>trace_nif_timestamp</b>(Config) when is_list(Config) -&gt;
<a name="165"/>  165:     load_nif(Config),
<a name="trace_nif_timestamp-last_expr"/><a name="166"/>  166: <b>    do_trace_nif_timestamp</b>([]).
<a name="167"/>  167: 
<a name="168"/>  168: <i>%% Test tracing NIFs with timestamps and local flag.</i>
<a name="trace_nif_timestamp_local-1"/><a name="169"/>  169: <b>trace_nif_timestamp_local</b>(Config) when is_list(Config) -&gt;
<a name="170"/>  170:     load_nif(Config),
<a name="trace_nif_timestamp_local-last_expr"/><a name="171"/>  171: <b>    do_trace_nif_timestamp</b>([local]).
<a name="172"/>  172: 
<a name="do_trace_nif_timestamp-1"/><a name="173"/>  173: <b>do_trace_nif_timestamp</b>(Flags) -&gt;
<a name="174"/>  174:     Pid = spawn_link(?MODULE, nif_process, []),
<a name="175"/>  175:     1 = erlang_trace(Pid, true, [call,timestamp]),
<a name="176"/>  176:     erlang_trace_pattern({?MODULE,nif,'_'}, [], Flags),
<a name="177"/>  177: 
<a name="178"/>  178:     Pid ! {apply_nif, nif, []},
<a name="179"/>  179:     receive_trace_msg_ts({trace_ts,Pid,call,{?MODULE,nif,[]}}),
<a name="180"/>  180: 
<a name="181"/>  181:     Pid ! {apply_nif, nif, [&quot;Arg1&quot;]},
<a name="182"/>  182:     receive_trace_msg_ts({trace_ts,Pid,call,
<a name="183"/>  183:                           {?MODULE,nif, [&quot;Arg1&quot;]}}),
<a name="184"/>  184: 
<a name="185"/>  185:     Pid ! {call_nif, nif, []},
<a name="186"/>  186:     receive_trace_msg_ts({trace_ts,Pid,call,
<a name="187"/>  187:                           {?MODULE,nif, []}}),
<a name="188"/>  188: 
<a name="189"/>  189:     Pid ! {call_nif, nif, [&quot;Arg1&quot;]},
<a name="190"/>  190:     receive_trace_msg_ts({trace_ts,Pid,call,
<a name="191"/>  191:                           {?MODULE,nif, [&quot;Arg1&quot;]}}),
<a name="192"/>  192: 
<a name="193"/>  193:     %% We should be able to turn off the timestamp.
<a name="194"/>  194:     1 = erlang_trace(Pid, false, [timestamp]),
<a name="195"/>  195: 
<a name="196"/>  196:     Pid ! {call_nif, nif, []},
<a name="197"/>  197:     receive_trace_msg({trace,Pid,call,
<a name="198"/>  198:                        {?MODULE,nif, []}}),
<a name="199"/>  199: 
<a name="200"/>  200:     Pid ! {apply_nif, nif, [&quot;tjoho&quot;]},
<a name="201"/>  201:     receive_trace_msg({trace,Pid,call,
<a name="202"/>  202:                        {?MODULE,nif, [&quot;tjoho&quot;]}}),
<a name="203"/>  203: 
<a name="204"/>  204:     1 = erlang_trace(Pid, false, [call]),
<a name="205"/>  205:     erlang_trace_pattern({erlang,'_','_'}, false, Flags),
<a name="206"/>  206: 
<a name="207"/>  207:     unlink(Pid),
<a name="208"/>  208:     exit(Pid, die),
<a name="do_trace_nif_timestamp-last_expr"/><a name="209"/>  209:     ok.
<a name="210"/>  210: 
<a name="211"/>  211: <i>%% Test tracing NIF's with return/return_to trace.</i>
<a name="trace_nif_return-1"/><a name="212"/>  212: <b>trace_nif_return</b>(Config) when is_list(Config) -&gt;
<a name="213"/>  213:     load_nif(Config),
<a name="214"/>  214: 
<a name="215"/>  215:     Pid = spawn_link(?MODULE, nif_process, []),
<a name="216"/>  216:     1 = erlang_trace(Pid, true, [call,timestamp,return_to]),
<a name="217"/>  217:     erlang_trace_pattern({?MODULE,nif,'_'}, [{'_',[],[{return_trace}]}],
<a name="218"/>  218:                          [local]),
<a name="219"/>  219: 
<a name="220"/>  220:     Pid ! {apply_nif, nif, []},
<a name="221"/>  221:     receive_trace_msg_ts({trace_ts,Pid,call,{?MODULE,nif,[]}}),
<a name="222"/>  222:     receive_trace_msg_ts_return_from({trace_ts,Pid,return_from,
<a name="223"/>  223:                                       {?MODULE,nif,0}}),
<a name="224"/>  224:     receive_trace_msg_ts_return_to({trace_ts,Pid,return_to, 
<a name="225"/>  225:                                     {?MODULE, nif_process,0}}),
<a name="226"/>  226: 
<a name="227"/>  227:     Pid ! {call_nif, nif, [&quot;Arg1&quot;]},
<a name="228"/>  228:     receive_trace_msg_ts({trace_ts,Pid,call,
<a name="229"/>  229:                           {?MODULE,nif, [&quot;Arg1&quot;]}}),
<a name="230"/>  230:     receive_trace_msg_ts_return_from({trace_ts,Pid,return_from,
<a name="231"/>  231:                                       {?MODULE,nif,1}}),
<a name="232"/>  232:     receive_trace_msg_ts_return_to({trace_ts,Pid,return_to, 
<a name="233"/>  233:                                     {?MODULE, nif_process,0}}),
<a name="trace_nif_return-last_expr"/><a name="234"/>  234:     ok.
<a name="235"/>  235: 
<a name="236"/>  236: 
<a name="receive_trace_msg-1"/><a name="237"/>  237: <b>receive_trace_msg</b>(Mess) -&gt;
<a name="receive_trace_msg-last_expr"/><a name="238"/>  238:     receive
<a name="239"/>  239:         Mess -&gt;
<a name="240"/>  240:             ok;
<a name="241"/>  241:         Other -&gt;
<a name="242"/>  242:             ct:fail(&quot;Expected: ~p,~nGot: ~p~n&quot;, [Mess, Other])
<a name="243"/>  243:     after 5000 -&gt;
<a name="244"/>  244:               ct:fail(&quot;Expected: ~p,~nGot: timeout~n&quot;, [Mess])
<a name="245"/>  245:     end.
<a name="246"/>  246: 
<a name="receive_nothing-0"/><a name="247"/>  247: <b>receive_nothing</b>() -&gt;
<a name="receive_nothing-last_expr"/><a name="248"/>  248:     timeout = receive M -&gt; M after 100 -&gt; timeout end.
<a name="249"/>  249: 
<a name="receive_trace_msg_ts-1"/><a name="250"/>  250: <b>receive_trace_msg_ts</b>({trace_ts, Pid, call, {M,F,A}}) -&gt;
<a name="receive_trace_msg_ts-last_expr"/><a name="251"/>  251:     receive
<a name="252"/>  252:         {trace_ts, Pid, call, {M, F, A}, _Ts} -&gt;
<a name="253"/>  253:             ok;
<a name="254"/>  254:         Other -&gt;
<a name="255"/>  255:             ct:fail(&quot;Expected: {trace, ~p, call, {~p, ~p, ~p}, TimeStamp}},~n&quot;
<a name="256"/>  256:                     &quot;Got: ~p~n&quot;, [Pid, M, F, A, Other])
<a name="257"/>  257:     after 5000 -&gt;
<a name="258"/>  258:               ct:fail(&quot;Got timeout~n&quot;, [])
<a name="259"/>  259:     end.
<a name="260"/>  260: 
<a name="receive_trace_msg_ts_return_from-1"/><a name="261"/>  261: <b>receive_trace_msg_ts_return_from</b>({trace_ts, Pid, return_from, {M,F,A}}) -&gt;
<a name="receive_trace_msg_ts_return_from-last_expr"/><a name="262"/>  262:     receive
<a name="263"/>  263:         {trace_ts, Pid, return_from, {M, F, A}, _Value, _Ts} -&gt;
<a name="264"/>  264:             ok;
<a name="265"/>  265:         Other -&gt;
<a name="266"/>  266:             ct:fail(&quot;Expected: {trace_ts, ~p, return_from, {~p, ~p, ~p}, Value, TimeStamp}},~n&quot;
<a name="267"/>  267:                     &quot;Got: ~p~n&quot;, [Pid, M, F, A, Other])
<a name="268"/>  268:     after 5000 -&gt;
<a name="269"/>  269:               ct:fail(&quot;Got timeout~n&quot;, [])
<a name="270"/>  270:     end.
<a name="271"/>  271: 
<a name="receive_trace_msg_ts_return_to-1"/><a name="272"/>  272: <b>receive_trace_msg_ts_return_to</b>({trace_ts, Pid, return_to, {M,F,A}}) -&gt;
<a name="receive_trace_msg_ts_return_to-last_expr"/><a name="273"/>  273:     receive
<a name="274"/>  274:         {trace_ts, Pid, return_to, {M, F, A}, _Ts} -&gt;
<a name="275"/>  275:             ok;
<a name="276"/>  276:         Other -&gt;
<a name="277"/>  277:             ct:fail(&quot;Expected: {trace_ts, ~p, return_to, {~p, ~p, ~p}, TimeStamp}},~n&quot;
<a name="278"/>  278:                     &quot;Got: ~p~n&quot;, [Pid, M, F, A, Other])
<a name="279"/>  279:     after 5000 -&gt;
<a name="280"/>  280:               ct:fail(&quot;Got timeout~n&quot;, [])
<a name="281"/>  281:     end.
<a name="282"/>  282: 
<a name="nif_process-0"/><a name="283"/>  283: <b>nif_process</b>() -&gt;
<a name="284"/>  284:     receive
<a name="285"/>  285:         {apply_nif, Name, Args} -&gt;
<a name="286"/>  286:             {ok,Args} = apply(?MODULE, Name, Args);
<a name="287"/>  287: 
<a name="288"/>  288:         {call_nif, Name, []} -&gt;
<a name="289"/>  289:             {ok, []} = ?MODULE:Name();
<a name="290"/>  290: 
<a name="291"/>  291:         {call_nif, Name, [A1]} -&gt;
<a name="292"/>  292:             {ok, [A1]} = ?MODULE:Name(A1);
<a name="293"/>  293: 
<a name="294"/>  294:         {call_nif, Name, [A1,A2]} -&gt;
<a name="295"/>  295:             {ok,[A1,A2]} = ?MODULE:Name(A1,A2);
<a name="296"/>  296: 
<a name="297"/>  297:         {call_nif, Name, [A1,A2,A3]} -&gt;
<a name="298"/>  298:             {ok,[A1,A2,A3]} = ?MODULE:Name(A1,A2,A3)    
<a name="299"/>  299:     end,
<a name="nif_process-last_expr"/><a name="300"/>  300: <b>    nif_process</b>().    
<a name="301"/>  301: 
<a name="load_nif-1"/><a name="302"/>  302: <b>load_nif</b>(Config) -&gt;    
<a name="load_nif-last_expr"/><a name="303"/>  303: <b>    case is_nif_loaded</b>() of
<a name="304"/>  304:         true -&gt;
<a name="305"/>  305:             ok;
<a name="306"/>  306:         false -&gt;
<a name="307"/>  307:             Path = proplists:get_value(data_dir, Config),
<a name="308"/>  308:             ok = erlang:load_nif(filename:join(Path,&quot;trace_nif&quot;), 0)
<a name="309"/>  309:     end.
<a name="310"/>  310: 
<a name="is_nif_loaded-0"/><a name="311"/>  311: <b>is_nif_loaded</b>() -&gt;
<a name="is_nif_loaded-last_expr"/><a name="312"/>  312:     false.
<a name="313"/>  313: 
<a name="nif-0"/><a name="314"/>  314: <b>nif</b>() -&gt;
<a name="nif-last_expr"/><a name="315"/>  315: <b>    {&quot;Stub0&quot;,[]}. %exit</b>(&quot;nif/0 stub called&quot;).
<a name="316"/>  316: 
<a name="nif-1"/><a name="317"/>  317: <b>nif</b>(A1) -&gt;
<a name="nif-last_expr"/><a name="318"/>  318: <b>    {&quot;Stub1&quot;,[A1]}. %exit</b>([&quot;nif/1 stub called&quot;,A1]).
</pre>
<script>
var hash = window.location.hash.substring(1);
var anchor = document.getElementsByName(hash);
anchor[0].style.backgroundColor="orange";
</script>
</body>
</html>
