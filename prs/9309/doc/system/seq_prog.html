<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.1">
    <meta name="project" content="Erlang System Documentation v27.2">


    <title>Sequential Programming — Erlang System Documentation v27.2</title>
    <link rel="stylesheet" href="dist/html-erlang-APNLKZCW.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-4A143270.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-7XSQ4GTY.js"></script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Erlang System Documentation" />
        </a>

      <div>
        <a href="../index.html" class="sidebar-projectName" translate="no">
Erlang System Documentation
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v27.2
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Erlang System Documentation</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/u3s/otp/blob/kuba/ssh/sftp_large_transfer_fix/OTP-19435/system/doc/getting_started/seq_prog.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>Sequential Programming</span>
  </h1>

<h2 id="the-erlang-shell" class="section-heading">
  <a href="#the-erlang-shell" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">The Erlang Shell</span>
</h2>
<p>Most operating systems have a command interpreter or shell, UNIX and Linux have
many, Windows has the command prompt, powershell and more. Erlang has its own shell
where bits of Erlang code can be written directly, and be evaluated to see what happens (see
the <a href="../../lib/stdlib-6.2/doc/html/shell.html"><code class="inline">shell</code></a> manual page in STDLIB).</p><p>Start the Erlang shell (in Linux or UNIX) by starting a shell or command
interpreter in your operating system and typing <code class="inline">erl</code>. You will see something
like this.</p><pre><code class="text">$ erl
Erlang R15B (erts-5.9.1) [source] [smp:8:8] [rq:8] [async-threads:0] [hipe] [kernel-poll:false]

Eshell V5.9.1  (abort with ^G)
1&gt;</code></pre><p>Type <code class="inline">2 + 5.</code> in the shell and then press Enter (carriage return). Notice that
you tell the shell you are done entering code by finishing with a full stop <code class="inline">.</code>
and a carriage return.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="p">.</span><span class="w">
</span><span class="mi">7</span><span class="gp unselectable">
2&gt; </span></code></pre><p>As shown, the Erlang shell numbers the lines that can be entered, (as 1&gt; 2&gt;) and
that it correctly says that 2 + 5 is 7. If you make writing mistakes in the
shell, you can delete with the backspace key, as in most shells. There are many
more editing commands in the shell (see
<a href="../../erts-15.2/doc/html/tty.html">tty - A command line interface</a> in ERTS User's Guide).</p><p>(Notice that many line numbers given by the shell in the following examples are
out of sequence. This is because this tutorial was written and code-tested in
separate sessions).</p><p>Here is a bit more complex calculation:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">2&gt; </span><span class="p" data-group-id="2959864386-1">(</span><span class="mi">42</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">77</span><span class="p" data-group-id="2959864386-1">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">66</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="w">
</span><span class="mf">2618.0</span></code></pre><p>Notice the use of brackets, the multiplication operator <code class="inline">*</code>, and the division
operator <code class="inline">/</code>, as in normal arithmetic (see
<a href="../../doc/system/expressions.html">Expressions</a>).</p><p>Press Control-C to shut down the Erlang system and the Erlang shell.</p><p>The following output is shown:</p><pre><code class="text">BREAK: (a)bort (c)ontinue (p)roc info (i)nfo (l)oaded
       (v)ersion (k)ill (D)b-tables (d)istribution
a
$</code></pre><p>Type <code class="inline">a</code> to leave the Erlang system.</p><p>Another way to shut down the Erlang system is by entering <a href="../../erts-15.2/doc/html/erlang.html#halt/0"><code class="inline">halt/0</code></a>:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">3&gt; </span><span class="nf">halt</span><span class="p" data-group-id="4302413502-1">(</span><span class="p" data-group-id="4302413502-1">)</span><span class="p">.</span><span class="w">
</span><span class="err">$</span></code></pre><h2 id="modules-and-functions" class="section-heading">
  <a href="#modules-and-functions" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Modules and Functions</span>
</h2>
<p>A programming language is not much use if you only can run code from the shell.
So here is a small Erlang program. Enter it into a file named <code class="inline">tut.erl</code> using a
suitable text editor. The file name <code class="inline">tut.erl</code> is important, and also that it is
in the same directory as the one where you started <code class="inline">erl</code>). If you are lucky your
editor has an Erlang mode that makes it easier for you to enter and format your
code nicely (see <a href="../../lib/tools-4.1.1/doc/html/erlang_mode_chapter.html">The Erlang mode for Emacs</a>
in Tools User's Guide), but you can manage perfectly well without. Here is the
code to enter:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="1928525050-1">(</span><span class="ss">tut</span><span class="p" data-group-id="1928525050-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="1928525050-2">(</span><span class="p" data-group-id="1928525050-3">[</span><span class="ss">double</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="1928525050-3">]</span><span class="p" data-group-id="1928525050-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">double</span><span class="p" data-group-id="1928525050-4">(</span><span class="n">X</span><span class="p" data-group-id="1928525050-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">X</span><span class="p">.</span></code></pre><p>It is not hard to guess that this program doubles the value of numbers. The
first two lines of the code are described later. Let us compile the program.
This can be done in an Erlang shell as follows, where <code class="inline">c</code> means compile:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">3&gt; </span><span class="nf">c</span><span class="p" data-group-id="2459455208-1">(</span><span class="ss">tut</span><span class="p" data-group-id="2459455208-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2459455208-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut</span><span class="p" data-group-id="2459455208-2">}</span></code></pre><p>The <code class="inline">{ok,tut}</code> means that the compilation is OK. If it says <code class="inline">error</code> it means
that there is some mistake in the text that you entered. Additional error
messages gives an idea to what is wrong so you can modify the text and then try
to compile the program again.</p><p>Now run the program:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">4&gt; </span><span class="nc">tut</span><span class="p">:</span><span class="nf">double</span><span class="p" data-group-id="7294689863-1">(</span><span class="mi">10</span><span class="p" data-group-id="7294689863-1">)</span><span class="p">.</span><span class="w">
</span><span class="mi">20</span></code></pre><p>As expected, double of 10 is 20.</p><p>Now let us get back to the first two lines of the code. Erlang programs are
written in files. Each file contains an Erlang <em>module</em>. The first line of code
in the module is the module name (see <a href="../../doc/system/modules.html">Modules</a>):</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="4254970789-1">(</span><span class="ss">tut</span><span class="p" data-group-id="4254970789-1">)</span><span class="p">.</span></code></pre><p>Thus, the module is called <em>tut</em>. Notice the full stop <code class="inline">.</code> at the end of the
line. The files which are used to store the module must have the same name as
the module but with the extension <code class="inline">.erl</code>. In this case the file name is
<code class="inline">tut.erl</code>. When using a function in another module, the syntax
<code class="inline">module_name:function_name(arguments)</code> is used. So the following means call
function <code class="inline">double</code> in module <code class="inline">tut</code> with argument <code class="inline">10</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">4&gt; </span><span class="nc">tut</span><span class="p">:</span><span class="nf">double</span><span class="p" data-group-id="0805165580-1">(</span><span class="mi">10</span><span class="p" data-group-id="0805165580-1">)</span><span class="p">.</span></code></pre><p>The second line says that the module <code class="inline">tut</code> contains a function called <code class="inline">double</code>,
which takes one argument (<code class="inline">X</code> in our example):</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="2847316710-1">(</span><span class="p" data-group-id="2847316710-2">[</span><span class="ss">double</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="2847316710-2">]</span><span class="p" data-group-id="2847316710-1">)</span><span class="p">.</span></code></pre><p>The second line also says that this function can be called from outside the
module <code class="inline">tut</code>. More about this later. Again, notice the <code class="inline">.</code> at the end of the
line.</p><p>Now for a more complicated example, the factorial of a number. For example, the
factorial of 4 is 4 <em> 3 </em> 2 * 1, which equals 24.</p><p>Enter the following code in a file named <code class="inline">tut1.erl</code>:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="1005697745-1">(</span><span class="ss">tut1</span><span class="p" data-group-id="1005697745-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="1005697745-2">(</span><span class="p" data-group-id="1005697745-3">[</span><span class="ss">fac</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="1005697745-3">]</span><span class="p" data-group-id="1005697745-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">fac</span><span class="p" data-group-id="1005697745-4">(</span><span class="mi">1</span><span class="p" data-group-id="1005697745-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="nf">fac</span><span class="p" data-group-id="1005697745-5">(</span><span class="n">N</span><span class="p" data-group-id="1005697745-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">fac</span><span class="p" data-group-id="1005697745-6">(</span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1005697745-6">)</span><span class="p">.</span></code></pre><p>So this is a module, called <code class="inline">tut1</code> that contains a function called <code class="inline">fac&gt;</code>, which
takes one argument, <code class="inline">N</code>.</p><p>The first part says that the factorial of 1 is 1.:</p><pre><code class="makeup erlang" translate="no"><span class="nf">fac</span><span class="p" data-group-id="3740088263-1">(</span><span class="mi">1</span><span class="p" data-group-id="3740088263-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="mi">1</span><span class="p">;</span></code></pre><p>Notice that this part ends with a semicolon <code class="inline">;</code> that indicates that there is
more of the function <code class="inline">fac&gt;</code> to come.</p><p>The second part says that the factorial of N is N multiplied by the factorial of
N - 1:</p><pre><code class="makeup erlang" translate="no"><span class="nf">fac</span><span class="p" data-group-id="4776017699-1">(</span><span class="n">N</span><span class="p" data-group-id="4776017699-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">fac</span><span class="p" data-group-id="4776017699-2">(</span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4776017699-2">)</span><span class="p">.</span></code></pre><p>Notice that this part ends with a <code class="inline">.</code> saying that there are no more parts of
this function.</p><p>Compile the file:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">5&gt; </span><span class="nf">c</span><span class="p" data-group-id="2803258480-1">(</span><span class="ss">tut1</span><span class="p" data-group-id="2803258480-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2803258480-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut1</span><span class="p" data-group-id="2803258480-2">}</span></code></pre><p>And now calculate the factorial of 4.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">6&gt; </span><span class="nc">tut1</span><span class="p">:</span><span class="nf">fac</span><span class="p" data-group-id="2684233931-1">(</span><span class="mi">4</span><span class="p" data-group-id="2684233931-1">)</span><span class="p">.</span><span class="w">
</span><span class="mi">24</span></code></pre><p>Here the function <code class="inline">fac&gt;</code> in module <code class="inline">tut1</code> is called with argument <code class="inline">4</code>.</p><p>A function can have many arguments. Let us expand the module <code class="inline">tut1</code> with the
function to multiply two numbers:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="0128223164-1">(</span><span class="ss">tut1</span><span class="p" data-group-id="0128223164-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="0128223164-2">(</span><span class="p" data-group-id="0128223164-3">[</span><span class="ss">fac</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">mult</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="0128223164-3">]</span><span class="p" data-group-id="0128223164-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">fac</span><span class="p" data-group-id="0128223164-4">(</span><span class="mi">1</span><span class="p" data-group-id="0128223164-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="nf">fac</span><span class="p" data-group-id="0128223164-5">(</span><span class="n">N</span><span class="p" data-group-id="0128223164-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">fac</span><span class="p" data-group-id="0128223164-6">(</span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="0128223164-6">)</span><span class="p">.</span><span class="w">

</span><span class="nf">mult</span><span class="p" data-group-id="0128223164-7">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="p" data-group-id="0128223164-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">X</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Y</span><span class="p">.</span></code></pre><p>Notice that it is also required to expand the <code class="inline">-export</code> line with the
information that there is another function <code class="inline">mult</code> with two arguments.</p><p>Compile:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">7&gt; </span><span class="nf">c</span><span class="p" data-group-id="3580058580-1">(</span><span class="ss">tut1</span><span class="p" data-group-id="3580058580-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3580058580-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut1</span><span class="p" data-group-id="3580058580-2">}</span></code></pre><p>Try out the new function <code class="inline">mult</code>:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">8&gt; </span><span class="nc">tut1</span><span class="p">:</span><span class="nf">mult</span><span class="p" data-group-id="1580778664-1">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="1580778664-1">)</span><span class="p">.</span><span class="w">
</span><span class="mi">12</span></code></pre><p>In this example the numbers are integers and the arguments in the functions in
the code <code class="inline">N</code>, <code class="inline">X</code>, and <code class="inline">Y</code> are called variables. Variables must start with a
capital letter (see <a href="../../doc/system/expressions.html">Variables</a>). Examples of
variables are <code class="inline">Number</code>, <code class="inline">ShoeSize</code>, and <code class="inline">Age</code>.</p><h2 id="atoms" class="section-heading">
  <a href="#atoms" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Atoms</span>
</h2>
<p>Atom is another data type in Erlang. Atoms start with a small letter (see
<a href="../../doc/system/data_types.html">Atom</a>), for example, <code class="inline">charles</code>, <code class="inline">centimeter</code>, and
<code class="inline">inch</code>. Atoms are simply names, nothing else. They are not like variables, which
can have a value.</p><p>Enter the next program in a file named <code class="inline">tut2.erl</code>). It can be useful for
converting from inches to centimeters and conversely:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="2818620532-1">(</span><span class="ss">tut2</span><span class="p" data-group-id="2818620532-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="2818620532-2">(</span><span class="p" data-group-id="2818620532-3">[</span><span class="ss">convert</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="2818620532-3">]</span><span class="p" data-group-id="2818620532-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">convert</span><span class="p" data-group-id="2818620532-4">(</span><span class="n">M</span><span class="p">,</span><span class="w"> </span><span class="ss">inch</span><span class="p" data-group-id="2818620532-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">M</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.54</span><span class="p">;</span><span class="w">

</span><span class="nf">convert</span><span class="p" data-group-id="2818620532-5">(</span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="ss">centimeter</span><span class="p" data-group-id="2818620532-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2.54</span><span class="p">.</span></code></pre><p>Compile:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">9&gt; </span><span class="nf">c</span><span class="p" data-group-id="9263088553-1">(</span><span class="ss">tut2</span><span class="p" data-group-id="9263088553-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="9263088553-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut2</span><span class="p" data-group-id="9263088553-2">}</span></code></pre><p>Test:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">10&gt; </span><span class="nc">tut2</span><span class="p">:</span><span class="nf">convert</span><span class="p" data-group-id="1884723809-1">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">inch</span><span class="p" data-group-id="1884723809-1">)</span><span class="p">.</span><span class="w">
</span><span class="mf">1.1811023622047243</span><span class="gp unselectable">
11&gt; </span><span class="nc">tut2</span><span class="p">:</span><span class="nf">convert</span><span class="p" data-group-id="1884723809-2">(</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">centimeter</span><span class="p" data-group-id="1884723809-2">)</span><span class="p">.</span><span class="w">
</span><span class="mf">17.78</span></code></pre><p>Notice the introduction of decimals (floating point numbers) without any
explanation. Hopefully you can cope with that.</p><p>Let us see what happens if something other than <code class="inline">centimeter</code> or <code class="inline">inch</code> is
entered in the <code class="inline">convert</code> function:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">12&gt; </span><span class="nc">tut2</span><span class="p">:</span><span class="nf">convert</span><span class="p" data-group-id="3138234563-1">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">miles</span><span class="p" data-group-id="3138234563-1">)</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: no function clause matching tut2:convert(3,miles) (tut2.erl, line 4)</span></code></pre><p>The two parts of the <code class="inline">convert</code> function are called its clauses. As shown,
<code class="inline">miles</code> is not part of either of the clauses. The Erlang system cannot <em>match</em>
either of the clauses so an error message <code class="inline">function_clause</code> is returned. The
shell formats the error message nicely, but the error tuple is saved in the
shell's history list and can be output by the shell command <code class="inline">v/1</code>:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">13&gt; </span><span class="nf">v</span><span class="p" data-group-id="7337025090-1">(</span><span class="mi">12</span><span class="p" data-group-id="7337025090-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7337025090-2">{</span><span class="ss">&#39;EXIT&#39;</span><span class="p">,</span><span class="p" data-group-id="7337025090-3">{</span><span class="ss">function_clause</span><span class="p">,</span><span class="p" data-group-id="7337025090-4">[</span><span class="p" data-group-id="7337025090-5">{</span><span class="ss">tut2</span><span class="p">,</span><span class="ss">convert</span><span class="p">,</span><span class="w">
                                </span><span class="p" data-group-id="7337025090-6">[</span><span class="mi">3</span><span class="p">,</span><span class="ss">miles</span><span class="p" data-group-id="7337025090-6">]</span><span class="p">,</span><span class="w">
                                </span><span class="p" data-group-id="7337025090-7">[</span><span class="p" data-group-id="7337025090-8">{</span><span class="ss">file</span><span class="p">,</span><span class="s">&quot;tut2.erl&quot;</span><span class="p" data-group-id="7337025090-8">}</span><span class="p">,</span><span class="p" data-group-id="7337025090-9">{</span><span class="ss">line</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="7337025090-9">}</span><span class="p" data-group-id="7337025090-7">]</span><span class="p" data-group-id="7337025090-5">}</span><span class="p">,</span><span class="w">
                          </span><span class="p" data-group-id="7337025090-10">{</span><span class="ss">erl_eval</span><span class="p">,</span><span class="ss">do_apply</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="w">
                                    </span><span class="p" data-group-id="7337025090-11">[</span><span class="p" data-group-id="7337025090-12">{</span><span class="ss">file</span><span class="p">,</span><span class="s">&quot;erl_eval.erl&quot;</span><span class="p" data-group-id="7337025090-12">}</span><span class="p">,</span><span class="p" data-group-id="7337025090-13">{</span><span class="ss">line</span><span class="p">,</span><span class="mi">677</span><span class="p" data-group-id="7337025090-13">}</span><span class="p" data-group-id="7337025090-11">]</span><span class="p" data-group-id="7337025090-10">}</span><span class="p">,</span><span class="w">
                          </span><span class="p" data-group-id="7337025090-14">{</span><span class="ss">shell</span><span class="p">,</span><span class="ss">exprs</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="p" data-group-id="7337025090-15">[</span><span class="p" data-group-id="7337025090-16">{</span><span class="ss">file</span><span class="p">,</span><span class="s">&quot;shell.erl&quot;</span><span class="p" data-group-id="7337025090-16">}</span><span class="p">,</span><span class="p" data-group-id="7337025090-17">{</span><span class="ss">line</span><span class="p">,</span><span class="mi">687</span><span class="p" data-group-id="7337025090-17">}</span><span class="p" data-group-id="7337025090-15">]</span><span class="p" data-group-id="7337025090-14">}</span><span class="p">,</span><span class="w">
                          </span><span class="p" data-group-id="7337025090-18">{</span><span class="ss">shell</span><span class="p">,</span><span class="ss">eval_exprs</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="p" data-group-id="7337025090-19">[</span><span class="p" data-group-id="7337025090-20">{</span><span class="ss">file</span><span class="p">,</span><span class="s">&quot;shell.erl&quot;</span><span class="p" data-group-id="7337025090-20">}</span><span class="p">,</span><span class="p" data-group-id="7337025090-21">{</span><span class="ss">line</span><span class="p">,</span><span class="mi">642</span><span class="p" data-group-id="7337025090-21">}</span><span class="p" data-group-id="7337025090-19">]</span><span class="p" data-group-id="7337025090-18">}</span><span class="p">,</span><span class="w">
                          </span><span class="p" data-group-id="7337025090-22">{</span><span class="ss">shell</span><span class="p">,</span><span class="ss">eval_loop</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="w">
                                 </span><span class="p" data-group-id="7337025090-23">[</span><span class="p" data-group-id="7337025090-24">{</span><span class="ss">file</span><span class="p">,</span><span class="s">&quot;shell.erl&quot;</span><span class="p" data-group-id="7337025090-24">}</span><span class="p">,</span><span class="p" data-group-id="7337025090-25">{</span><span class="ss">line</span><span class="p">,</span><span class="mi">627</span><span class="p" data-group-id="7337025090-25">}</span><span class="p" data-group-id="7337025090-23">]</span><span class="p" data-group-id="7337025090-22">}</span><span class="p" data-group-id="7337025090-4">]</span><span class="p" data-group-id="7337025090-3">}</span><span class="p" data-group-id="7337025090-2">}</span></code></pre><h2 id="tuples" class="section-heading">
  <a href="#tuples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Tuples</span>
</h2>
<p>Now the <code class="inline">tut2</code> program is hardly good programming style. Consider:</p><pre><code class="makeup erlang" translate="no"><span class="nc">tut2</span><span class="p">:</span><span class="nf">convert</span><span class="p" data-group-id="4309402968-1">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">inch</span><span class="p" data-group-id="4309402968-1">)</span><span class="p">.</span></code></pre><p>Does this mean that 3 is in inches? Or does it mean that 3 is in centimeters and
is to be converted to inches? Erlang has a way to group things together to make
things more understandable. These are called <em>tuples</em> and are surrounded by
curly brackets, <code class="inline">{</code> and <code class="inline">}</code>.</p><p>So, <code class="inline">{inch,3}</code> denotes 3 inches and <code class="inline">{centimeter,5}</code> denotes 5 centimeters. Now
let us write a new program that converts centimeters to inches and conversely.
Enter the following code in a file called <code class="inline">tut3.erl</code>):</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="7646410266-1">(</span><span class="ss">tut3</span><span class="p" data-group-id="7646410266-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="7646410266-2">(</span><span class="p" data-group-id="7646410266-3">[</span><span class="ss">convert_length</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="7646410266-3">]</span><span class="p" data-group-id="7646410266-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_length</span><span class="p" data-group-id="7646410266-4">(</span><span class="p" data-group-id="7646410266-5">{</span><span class="ss">centimeter</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="p" data-group-id="7646410266-5">}</span><span class="p" data-group-id="7646410266-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7646410266-6">{</span><span class="ss">inch</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.54</span><span class="p" data-group-id="7646410266-6">}</span><span class="p">;</span><span class="w">
</span><span class="nf">convert_length</span><span class="p" data-group-id="7646410266-7">(</span><span class="p" data-group-id="7646410266-8">{</span><span class="ss">inch</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="p" data-group-id="7646410266-8">}</span><span class="p" data-group-id="7646410266-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7646410266-9">{</span><span class="ss">centimeter</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2.54</span><span class="p" data-group-id="7646410266-9">}</span><span class="p">.</span></code></pre><p>Compile and test:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">14&gt; </span><span class="nf">c</span><span class="p" data-group-id="4539190171-1">(</span><span class="ss">tut3</span><span class="p" data-group-id="4539190171-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4539190171-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut3</span><span class="p" data-group-id="4539190171-2">}</span><span class="gp unselectable">
15&gt; </span><span class="nc">tut3</span><span class="p">:</span><span class="nf">convert_length</span><span class="p" data-group-id="4539190171-3">(</span><span class="p" data-group-id="4539190171-4">{</span><span class="ss">inch</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="4539190171-4">}</span><span class="p" data-group-id="4539190171-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4539190171-5">{</span><span class="ss">centimeter</span><span class="p">,</span><span class="mf">12.7</span><span class="p" data-group-id="4539190171-5">}</span><span class="gp unselectable">
16&gt; </span><span class="nc">tut3</span><span class="p">:</span><span class="nf">convert_length</span><span class="p" data-group-id="4539190171-6">(</span><span class="nc">tut3</span><span class="p">:</span><span class="nf">convert_length</span><span class="p" data-group-id="4539190171-7">(</span><span class="p" data-group-id="4539190171-8">{</span><span class="ss">inch</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="4539190171-8">}</span><span class="p" data-group-id="4539190171-7">)</span><span class="p" data-group-id="4539190171-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4539190171-9">{</span><span class="ss">inch</span><span class="p">,</span><span class="mf">5.0</span><span class="p" data-group-id="4539190171-9">}</span></code></pre><p>Notice on line 16 that 5 inches is converted to centimeters and back again and
reassuringly get back to the original value. That is, the argument to a function
can be the result of another function. Consider how line 16 (above) works. The
argument given to the function <code class="inline">{inch,5}</code> is first matched against the first
head clause of <code class="inline">convert_length</code>, that is, <code class="inline">convert_length({centimeter,X})</code>. It
can be seen that <code class="inline">{centimeter,X}</code> does not match <code class="inline">{inch,5}</code> (the head is the bit
before the <code class="inline">-&gt;</code>). This having failed, let us try the head of the next clause
that is, <code class="inline">convert_length({inch,Y})</code>. This matches, and <code class="inline">Y</code> gets the value 5.</p><p>Tuples can have more than two parts, in fact as many parts as you want, and
contain any valid Erlang <em>term</em>. For example, to represent the temperature of
various cities of the world:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="7645528513-1">{</span><span class="ss">moscow</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7645528513-2">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="7645528513-2">}</span><span class="p" data-group-id="7645528513-1">}</span><span class="w">
</span><span class="p" data-group-id="7645528513-3">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7645528513-4">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p" data-group-id="7645528513-4">}</span><span class="p" data-group-id="7645528513-3">}</span><span class="w">
</span><span class="p" data-group-id="7645528513-5">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7645528513-6">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="7645528513-6">}</span><span class="p" data-group-id="7645528513-5">}</span></code></pre><p>Tuples have a fixed number of items in them. Each item in a tuple is called an
<em>element</em>. In the tuple <code class="inline">{moscow,{c,-10}}</code>, element 1 is <code class="inline">moscow</code> and element 2
is <code class="inline">{c,-10}</code>. Here <code class="inline">c</code> represents Celsius and <code class="inline">f</code> Fahrenheit.</p><h2 id="lists" class="section-heading">
  <a href="#lists" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Lists</span>
</h2>
<p>Whereas tuples group things together, it is also needed to represent lists of
things. Lists in Erlang are surrounded by square brackets, <code class="inline">[</code> and <code class="inline">]</code>. For
example, a list of the temperatures of various cities in the world can be:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="1508466864-1">[</span><span class="p" data-group-id="1508466864-2">{</span><span class="ss">moscow</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1508466864-3">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="1508466864-3">}</span><span class="p" data-group-id="1508466864-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1508466864-4">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1508466864-5">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p" data-group-id="1508466864-5">}</span><span class="p" data-group-id="1508466864-4">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1508466864-6">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1508466864-7">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="1508466864-7">}</span><span class="p" data-group-id="1508466864-6">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="1508466864-8">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1508466864-9">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="1508466864-9">}</span><span class="p" data-group-id="1508466864-8">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1508466864-10">{</span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1508466864-11">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p" data-group-id="1508466864-11">}</span><span class="p" data-group-id="1508466864-10">}</span><span class="p" data-group-id="1508466864-1">]</span></code></pre><p>Notice that this list was so long that it did not fit on one line. This does not
matter, Erlang allows line breaks at all &quot;sensible places&quot; but not, for example,
in the middle of atoms, integers, and others.</p><p>A useful way of looking at parts of lists, is by using <code class="inline">|</code>. This is best
explained by an example using the shell:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">17&gt; </span><span class="p" data-group-id="6575513935-1">[</span><span class="n">First</span><span class="w"> </span><span class="p">|</span><span class="n">TheRest</span><span class="p" data-group-id="6575513935-1">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="6575513935-2">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="6575513935-2">]</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6575513935-3">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="6575513935-3">]</span><span class="gp unselectable">
18&gt; </span><span class="n">First</span><span class="p">.</span><span class="w">
</span><span class="mi">1</span><span class="gp unselectable">
19&gt; </span><span class="n">TheRest</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6575513935-4">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="6575513935-4">]</span></code></pre><p>To separate the first elements of the list from the rest of the list, <code class="inline">|</code> is
used. <code class="inline">First</code> has got value <code class="inline">1</code> and <code class="inline">TheRest</code> has got the value <code class="inline">[2,3,4,5]</code>.</p><p>Another example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">20&gt; </span><span class="p" data-group-id="8065493002-1">[</span><span class="n">E1</span><span class="p">,</span><span class="w"> </span><span class="n">E2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">R</span><span class="p" data-group-id="8065493002-1">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8065493002-2">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p" data-group-id="8065493002-2">]</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8065493002-3">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p" data-group-id="8065493002-3">]</span><span class="gp unselectable">
21&gt; </span><span class="n">E1</span><span class="p">.</span><span class="w">
</span><span class="mi">1</span><span class="gp unselectable">
22&gt; </span><span class="n">E2</span><span class="p">.</span><span class="w">
</span><span class="mi">2</span><span class="gp unselectable">
23&gt; </span><span class="n">R</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8065493002-4">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p" data-group-id="8065493002-4">]</span></code></pre><p>Here you see the use of <code class="inline">|</code> to get the first two elements from the list. If you
try to get more elements from the list than there are elements in the list, an
error is returned. Notice also the special case of the list with no elements,
<code class="inline">[]</code>:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">24&gt; </span><span class="p" data-group-id="3677543032-1">[</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">C</span><span class="p" data-group-id="3677543032-1">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="3677543032-2">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="3677543032-2">]</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3677543032-3">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p" data-group-id="3677543032-3">]</span><span class="gp unselectable">
25&gt; </span><span class="n">A</span><span class="p">.</span><span class="w">
</span><span class="mi">1</span><span class="gp unselectable">
26&gt; </span><span class="n">B</span><span class="p">.</span><span class="w">
</span><span class="mi">2</span><span class="gp unselectable">
27&gt; </span><span class="n">C</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3677543032-4">[</span><span class="p" data-group-id="3677543032-4">]</span></code></pre><p>In the previous examples, new variable names are used, instead of reusing the
old ones: <code class="inline">First</code>, <code class="inline">TheRest</code>, <code class="inline">E1</code>, <code class="inline">E2</code>, <code class="inline">R</code>, <code class="inline">A</code>, <code class="inline">B</code>, and <code class="inline">C</code>. The reason for
this is that a variable can only be given a value once in its context (scope).
More about this later.</p><p>The following example shows how to find the length of a list. Enter the
following code in a file named <code class="inline">tut4.erl</code>:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="0375632042-1">(</span><span class="ss">tut4</span><span class="p" data-group-id="0375632042-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="0375632042-2">(</span><span class="p" data-group-id="0375632042-3">[</span><span class="ss">list_length</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="0375632042-3">]</span><span class="p" data-group-id="0375632042-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">list_length</span><span class="p" data-group-id="0375632042-4">(</span><span class="p" data-group-id="0375632042-5">[</span><span class="p" data-group-id="0375632042-5">]</span><span class="p" data-group-id="0375632042-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span><span class="nf">list_length</span><span class="p" data-group-id="0375632042-6">(</span><span class="p" data-group-id="0375632042-7">[</span><span class="n">First</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="0375632042-7">]</span><span class="p" data-group-id="0375632042-6">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">list_length</span><span class="p" data-group-id="0375632042-8">(</span><span class="n">Rest</span><span class="p" data-group-id="0375632042-8">)</span><span class="p">.</span></code></pre><p>Compile and test:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">28&gt; </span><span class="nf">c</span><span class="p" data-group-id="4019470891-1">(</span><span class="ss">tut4</span><span class="p" data-group-id="4019470891-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4019470891-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut4</span><span class="p" data-group-id="4019470891-2">}</span><span class="gp unselectable">
29&gt; </span><span class="nc">tut4</span><span class="p">:</span><span class="nf">list_length</span><span class="p" data-group-id="4019470891-3">(</span><span class="p" data-group-id="4019470891-4">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p" data-group-id="4019470891-4">]</span><span class="p" data-group-id="4019470891-3">)</span><span class="p">.</span><span class="w">
</span><span class="mi">7</span></code></pre><p>Explanation:</p><pre><code class="makeup erlang" translate="no"><span class="nf">list_length</span><span class="p" data-group-id="0677756356-1">(</span><span class="p" data-group-id="0677756356-2">[</span><span class="p" data-group-id="0677756356-2">]</span><span class="p" data-group-id="0677756356-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="mi">0</span><span class="p">;</span></code></pre><p>The length of an empty list is obviously 0.</p><pre><code class="makeup erlang" translate="no"><span class="nf">list_length</span><span class="p" data-group-id="8673939988-1">(</span><span class="p" data-group-id="8673939988-2">[</span><span class="n">First</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="8673939988-2">]</span><span class="p" data-group-id="8673939988-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">list_length</span><span class="p" data-group-id="8673939988-3">(</span><span class="n">Rest</span><span class="p" data-group-id="8673939988-3">)</span><span class="p">.</span></code></pre><p>The length of a list with the first element <code class="inline">First</code> and the remaining elements
<code class="inline">Rest</code> is 1 + the length of <code class="inline">Rest</code>.</p><p>(Advanced readers only: This is not tail recursive, there is a better way to
write this function.)</p><p>In general, tuples are used where &quot;records&quot; or &quot;structs&quot; are used in other
languages. Also, lists are used when representing things with varying sizes,
that is, where linked lists are used in other languages.</p><p>Erlang does not have a string data type. Instead, strings can be represented by
lists of Unicode characters. This implies for example that the list <code class="inline">[97,98,99]</code>
is equivalent to <code class="inline">&quot;abc&quot;</code>. The Erlang shell is &quot;clever&quot; and guesses what list you
mean and outputs it in what it thinks is the most appropriate form, for example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">30&gt; </span><span class="p" data-group-id="8267249051-1">[</span><span class="mi">97</span><span class="p">,</span><span class="mi">98</span><span class="p">,</span><span class="mi">99</span><span class="p" data-group-id="8267249051-1">]</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;abc&quot;</span></code></pre><h2 id="maps" class="section-heading">
  <a href="#maps" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Maps</span>
</h2>
<p>Maps are a set of key to value associations. These associations are encapsulated
with <code class="inline">#{</code> and <code class="inline">}</code>. To create an association from <code class="inline">&quot;key&quot;</code> to value <code class="inline">42</code>:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">&gt; </span><span class="p" data-group-id="5725129272-1">#{</span><span class="w"> </span><span class="s">&quot;key&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="p" data-group-id="5725129272-1">}</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="5725129272-2">#{</span><span class="s">&quot;key&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">42</span><span class="p" data-group-id="5725129272-2">}</span></code></pre><p>Let us jump straight into the deep end with an example using some interesting
features.</p><p>The following example shows how to calculate alpha blending using maps to
reference color and alpha channels. Enter the code in a file named <code class="inline">color.erl</code>):</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="5479166364-1">(</span><span class="ss">color</span><span class="p" data-group-id="5479166364-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="5479166364-2">(</span><span class="p" data-group-id="5479166364-3">[</span><span class="ss">new</span><span class="p">/</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="ss">blend</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="5479166364-3">]</span><span class="p" data-group-id="5479166364-2">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">define</span><span class="p" data-group-id="5479166364-4">(</span><span class="nf">is_channel</span><span class="p" data-group-id="5479166364-5">(</span><span class="n">V</span><span class="p" data-group-id="5479166364-5">)</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5479166364-6">(</span><span class="nf">is_float</span><span class="p" data-group-id="5479166364-7">(</span><span class="n">V</span><span class="p" data-group-id="5479166364-7">)</span><span class="w"> </span><span class="ow">andalso</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="ow">andalso</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="o">=&lt;</span><span class="w"> </span><span class="mf">1.0</span><span class="p" data-group-id="5479166364-6">)</span><span class="p" data-group-id="5479166364-4">)</span><span class="p">.</span><span class="w">

</span><span class="nf">new</span><span class="p" data-group-id="5479166364-8">(</span><span class="n">R</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">A</span><span class="p" data-group-id="5479166364-8">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="o">?</span><span class="nf">is_channel</span><span class="p" data-group-id="5479166364-9">(</span><span class="n">R</span><span class="p" data-group-id="5479166364-9">)</span><span class="p">,</span><span class="w"> </span><span class="o">?</span><span class="nf">is_channel</span><span class="p" data-group-id="5479166364-10">(</span><span class="n">G</span><span class="p" data-group-id="5479166364-10">)</span><span class="p">,</span><span class="w">
                  </span><span class="o">?</span><span class="nf">is_channel</span><span class="p" data-group-id="5479166364-11">(</span><span class="n">B</span><span class="p" data-group-id="5479166364-11">)</span><span class="p">,</span><span class="w"> </span><span class="o">?</span><span class="nf">is_channel</span><span class="p" data-group-id="5479166364-12">(</span><span class="n">A</span><span class="p" data-group-id="5479166364-12">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5479166364-13">#{</span><span class="ss">red</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">R</span><span class="p">,</span><span class="w"> </span><span class="ss">green</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="ss">blue</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">A</span><span class="p" data-group-id="5479166364-13">}</span><span class="p">.</span><span class="w">

</span><span class="nf">blend</span><span class="p" data-group-id="5479166364-14">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p" data-group-id="5479166364-14">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">blend</span><span class="p" data-group-id="5479166364-15">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p">,</span><span class="nf">alpha</span><span class="p" data-group-id="5479166364-16">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p" data-group-id="5479166364-16">)</span><span class="p" data-group-id="5479166364-15">)</span><span class="p">.</span><span class="w">

</span><span class="nf">blend</span><span class="p" data-group-id="5479166364-17">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p">,</span><span class="n">Alpha</span><span class="p" data-group-id="5479166364-17">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">Alpha</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Dst</span><span class="p" data-group-id="5479166364-18">#{</span><span class="w">
        </span><span class="ss">red</span><span class="w">   </span><span class="p">:=</span><span class="w"> </span><span class="nf">red</span><span class="p" data-group-id="5479166364-19">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p" data-group-id="5479166364-19">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Alpha</span><span class="p">,</span><span class="w">
        </span><span class="ss">green</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="nf">green</span><span class="p" data-group-id="5479166364-20">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p" data-group-id="5479166364-20">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Alpha</span><span class="p">,</span><span class="w">
        </span><span class="ss">blue</span><span class="w">  </span><span class="p">:=</span><span class="w"> </span><span class="nf">blue</span><span class="p" data-group-id="5479166364-21">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p" data-group-id="5479166364-21">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Alpha</span><span class="p">,</span><span class="w">
        </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">Alpha</span><span class="w">
    </span><span class="p" data-group-id="5479166364-18">}</span><span class="p">;</span><span class="w">
</span><span class="nf">blend</span><span class="p" data-group-id="5479166364-22">(</span><span class="p">_</span><span class="p">,</span><span class="n">Dst</span><span class="p">,</span><span class="p">_</span><span class="p" data-group-id="5479166364-22">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Dst</span><span class="p" data-group-id="5479166364-23">#{</span><span class="w">
        </span><span class="ss">red</span><span class="w">   </span><span class="p">:=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="ss">green</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="ss">blue</span><span class="w">  </span><span class="p">:=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
    </span><span class="p" data-group-id="5479166364-23">}</span><span class="p">.</span><span class="w">

</span><span class="nf">alpha</span><span class="p" data-group-id="5479166364-24">(</span><span class="p" data-group-id="5479166364-25">#{</span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="5479166364-25">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5479166364-26">#{</span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DA</span><span class="p" data-group-id="5479166364-26">}</span><span class="p" data-group-id="5479166364-24">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">SA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">DA</span><span class="o">*</span><span class="p" data-group-id="5479166364-27">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="5479166364-27">)</span><span class="p">.</span><span class="w">

</span><span class="nf">red</span><span class="p" data-group-id="5479166364-28">(</span><span class="p" data-group-id="5479166364-29">#{</span><span class="ss">red</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SV</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="5479166364-29">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5479166364-30">#{</span><span class="ss">red</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DV</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DA</span><span class="p" data-group-id="5479166364-30">}</span><span class="p" data-group-id="5479166364-28">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">SV</span><span class="o">*</span><span class="n">SA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">DV</span><span class="o">*</span><span class="n">DA</span><span class="o">*</span><span class="p" data-group-id="5479166364-31">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="5479166364-31">)</span><span class="p">.</span><span class="w">
</span><span class="nf">green</span><span class="p" data-group-id="5479166364-32">(</span><span class="p" data-group-id="5479166364-33">#{</span><span class="ss">green</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SV</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="5479166364-33">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5479166364-34">#{</span><span class="ss">green</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DV</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DA</span><span class="p" data-group-id="5479166364-34">}</span><span class="p" data-group-id="5479166364-32">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">SV</span><span class="o">*</span><span class="n">SA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">DV</span><span class="o">*</span><span class="n">DA</span><span class="o">*</span><span class="p" data-group-id="5479166364-35">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="5479166364-35">)</span><span class="p">.</span><span class="w">
</span><span class="nf">blue</span><span class="p" data-group-id="5479166364-36">(</span><span class="p" data-group-id="5479166364-37">#{</span><span class="ss">blue</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SV</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="5479166364-37">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5479166364-38">#{</span><span class="ss">blue</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DV</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DA</span><span class="p" data-group-id="5479166364-38">}</span><span class="p" data-group-id="5479166364-36">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">SV</span><span class="o">*</span><span class="n">SA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">DV</span><span class="o">*</span><span class="n">DA</span><span class="o">*</span><span class="p" data-group-id="5479166364-39">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="5479166364-39">)</span><span class="p">.</span></code></pre><p>Compile and test:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">&gt; </span><span class="nf">c</span><span class="p" data-group-id="6316807814-1">(</span><span class="ss">color</span><span class="p" data-group-id="6316807814-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6316807814-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">color</span><span class="p" data-group-id="6316807814-2">}</span><span class="gp unselectable">
&gt; </span><span class="n">C1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">color</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="6316807814-3">(</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.0</span><span class="p" data-group-id="6316807814-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6316807814-4">#{</span><span class="ss">alpha</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="ss">blue</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="ss">green</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="ss">red</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.3</span><span class="p" data-group-id="6316807814-4">}</span><span class="gp unselectable">
&gt; </span><span class="n">C2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">color</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="6316807814-5">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.3</span><span class="p" data-group-id="6316807814-5">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6316807814-6">#{</span><span class="ss">alpha</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="ss">blue</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="ss">green</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="ss">red</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="p" data-group-id="6316807814-6">}</span><span class="gp unselectable">
&gt; </span><span class="nc">color</span><span class="p">:</span><span class="nf">blend</span><span class="p" data-group-id="6316807814-7">(</span><span class="n">C1</span><span class="p">,</span><span class="n">C2</span><span class="p" data-group-id="6316807814-7">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6316807814-8">#{</span><span class="ss">alpha</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="ss">blue</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="ss">green</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="ss">red</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.3</span><span class="p" data-group-id="6316807814-8">}</span><span class="gp unselectable">
&gt; </span><span class="nc">color</span><span class="p">:</span><span class="nf">blend</span><span class="p" data-group-id="6316807814-9">(</span><span class="n">C2</span><span class="p">,</span><span class="n">C1</span><span class="p" data-group-id="6316807814-9">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6316807814-10">#{</span><span class="ss">alpha</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="ss">blue</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.38</span><span class="p">,</span><span class="ss">green</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.52</span><span class="p">,</span><span class="ss">red</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mf">0.51</span><span class="p" data-group-id="6316807814-10">}</span></code></pre><p>This example warrants some explanation:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">define</span><span class="p" data-group-id="1845908570-1">(</span><span class="nf">is_channel</span><span class="p" data-group-id="1845908570-2">(</span><span class="n">V</span><span class="p" data-group-id="1845908570-2">)</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1845908570-3">(</span><span class="nf">is_float</span><span class="p" data-group-id="1845908570-4">(</span><span class="n">V</span><span class="p" data-group-id="1845908570-4">)</span><span class="w"> </span><span class="ow">andalso</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="ow">andalso</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="o">=&lt;</span><span class="w"> </span><span class="mf">1.0</span><span class="p" data-group-id="1845908570-3">)</span><span class="p" data-group-id="1845908570-1">)</span><span class="p">.</span></code></pre><p>First a macro <code class="inline">is_channel</code> is defined to help with the guard tests. This is only
here for convenience and to reduce syntax cluttering. For more information about
macros, see <a href="../../doc/system/macros.html">The Preprocessor</a>.</p><pre><code class="makeup erlang" translate="no"><span class="nf">new</span><span class="p" data-group-id="7886054224-1">(</span><span class="n">R</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">A</span><span class="p" data-group-id="7886054224-1">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="o">?</span><span class="nf">is_channel</span><span class="p" data-group-id="7886054224-2">(</span><span class="n">R</span><span class="p" data-group-id="7886054224-2">)</span><span class="p">,</span><span class="w"> </span><span class="o">?</span><span class="nf">is_channel</span><span class="p" data-group-id="7886054224-3">(</span><span class="n">G</span><span class="p" data-group-id="7886054224-3">)</span><span class="p">,</span><span class="w">
                  </span><span class="o">?</span><span class="nf">is_channel</span><span class="p" data-group-id="7886054224-4">(</span><span class="n">B</span><span class="p" data-group-id="7886054224-4">)</span><span class="p">,</span><span class="w"> </span><span class="o">?</span><span class="nf">is_channel</span><span class="p" data-group-id="7886054224-5">(</span><span class="n">A</span><span class="p" data-group-id="7886054224-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7886054224-6">#{</span><span class="ss">red</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">R</span><span class="p">,</span><span class="w"> </span><span class="ss">green</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="ss">blue</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">A</span><span class="p" data-group-id="7886054224-6">}</span><span class="p">.</span></code></pre><p>The function <code class="inline">new/4</code> creates a new map term and lets the keys <code class="inline">red</code>, <code class="inline">green</code>,
<code class="inline">blue</code>, and <code class="inline">alpha</code> be associated with an initial value. In this case, only
float values between and including 0.0 and 1.0 are allowed, as ensured by the
<code class="inline">?is_channel/1</code> macro for each argument. Only the <code class="inline">=&gt;</code> operator is allowed when
creating a new map.</p><p>By calling <code class="inline">blend/2</code> on any color term created by <code class="inline">new/4</code>, the resulting color
can be calculated as determined by the two map terms.</p><p>The first thing <code class="inline">blend/2</code> does is to calculate the resulting alpha channel:</p><pre><code class="makeup erlang" translate="no"><span class="nf">alpha</span><span class="p" data-group-id="0810589691-1">(</span><span class="p" data-group-id="0810589691-2">#{</span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="0810589691-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0810589691-3">#{</span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DA</span><span class="p" data-group-id="0810589691-3">}</span><span class="p" data-group-id="0810589691-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">SA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">DA</span><span class="o">*</span><span class="p" data-group-id="0810589691-4">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="0810589691-4">)</span><span class="p">.</span></code></pre><p>The value associated with key <code class="inline">alpha</code> is fetched for both arguments using the
<code class="inline">:=</code> operator. The other keys in the map are ignored, only the key <code class="inline">alpha</code> is
required and checked for.</p><p>This is also the case for functions <code class="inline">red/2</code>, <code class="inline">blue/2</code>, and <code class="inline">green/2</code>.</p><pre><code class="makeup erlang" translate="no"><span class="nf">red</span><span class="p" data-group-id="7475792889-1">(</span><span class="p" data-group-id="7475792889-2">#{</span><span class="ss">red</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SV</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="7475792889-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7475792889-3">#{</span><span class="ss">red</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DV</span><span class="p">,</span><span class="w"> </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">DA</span><span class="p" data-group-id="7475792889-3">}</span><span class="p" data-group-id="7475792889-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">SV</span><span class="o">*</span><span class="n">SA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">DV</span><span class="o">*</span><span class="n">DA</span><span class="o">*</span><span class="p" data-group-id="7475792889-4">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">SA</span><span class="p" data-group-id="7475792889-4">)</span><span class="p">.</span></code></pre><p>The difference here is that a check is made for two keys in each map argument.
The other keys are ignored.</p><p>Finally, let us return the resulting color in <code class="inline">blend/3</code>:</p><pre><code class="makeup erlang" translate="no"><span class="nf">blend</span><span class="p" data-group-id="5223453064-1">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p">,</span><span class="n">Alpha</span><span class="p" data-group-id="5223453064-1">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">Alpha</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Dst</span><span class="p" data-group-id="5223453064-2">#{</span><span class="w">
        </span><span class="ss">red</span><span class="w">   </span><span class="p">:=</span><span class="w"> </span><span class="nf">red</span><span class="p" data-group-id="5223453064-3">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p" data-group-id="5223453064-3">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Alpha</span><span class="p">,</span><span class="w">
        </span><span class="ss">green</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="nf">green</span><span class="p" data-group-id="5223453064-4">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p" data-group-id="5223453064-4">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Alpha</span><span class="p">,</span><span class="w">
        </span><span class="ss">blue</span><span class="w">  </span><span class="p">:=</span><span class="w"> </span><span class="nf">blue</span><span class="p" data-group-id="5223453064-5">(</span><span class="n">Src</span><span class="p">,</span><span class="n">Dst</span><span class="p" data-group-id="5223453064-5">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Alpha</span><span class="p">,</span><span class="w">
        </span><span class="ss">alpha</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">Alpha</span><span class="w">
    </span><span class="p" data-group-id="5223453064-2">}</span><span class="p">;</span></code></pre><p>The <code class="inline">Dst</code> map is updated with new channel values. The syntax for updating an
existing key with a new value is with the <code class="inline">:=</code> operator.</p><h2 id="standard-modules-and-manual-pages" class="section-heading">
  <a href="#standard-modules-and-manual-pages" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Standard Modules and Manual Pages</span>
</h2>
<p>Erlang has many standard modules to help you do things. For example, the module
<a href="../../lib/stdlib-6.2/doc/html/io.html"><code class="inline">io</code></a> contains many functions that help in doing formatted input/output. To look
up information about standard modules, the command <code class="inline">h(..)</code> can be used at the
erlang shell. Try the erlang shell command:</p><pre><code class="text">1&gt; h(io).

	io

    Standard I/O server interface functions.
    
    This module provides an interface to standard Erlang I/O servers. The output
    functions all return `ok` if they are successful, or exit if they are not.
     ...</code></pre><p>If this does not work on your system, the documentation is included as HTML in
the Erlang/OTP release. You can also read the documentation as HTML or download
it as epub from &lt;www.erlang.org/doc&gt;.</p><h2 id="writing-output-to-a-terminal" class="section-heading">
  <a href="#writing-output-to-a-terminal" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Writing Output to a Terminal</span>
</h2>
<p>It is nice to be able to do formatted output in examples, so the next example
shows a simple way to use the <a href="../../lib/stdlib-6.2/doc/html/io.html#format/2"><code class="inline">io:format/2</code></a> function. Like all other exported
functions, you can test the <a href="../../lib/stdlib-6.2/doc/html/io.html#format/2"><code class="inline">io:format/2</code></a> function in the shell:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">31&gt; </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="2316066213-1">(</span><span class="s">&quot;hello world</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2316066213-2">[</span><span class="p" data-group-id="2316066213-2">]</span><span class="p" data-group-id="2316066213-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">hello</span><span class="w"> </span><span class="ss">world</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
32&gt; </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="2316066213-3">(</span><span class="s">&quot;this outputs one Erlang term: </span><span class="si">~w</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2316066213-4">[</span><span class="ss">hello</span><span class="p" data-group-id="2316066213-4">]</span><span class="p" data-group-id="2316066213-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">this</span><span class="w"> </span><span class="ss">outputs</span><span class="w"> </span><span class="ss">one</span><span class="w"> </span><span class="n">Erlang</span><span class="w"> </span><span class="nc">term</span><span class="p">:</span><span class="w"> </span><span class="ss">hello</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
33&gt; </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="2316066213-5">(</span><span class="s">&quot;this outputs two Erlang terms: </span><span class="si">~w</span><span class="si">~w</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2316066213-6">[</span><span class="ss">hello</span><span class="p">,</span><span class="w"> </span><span class="ss">world</span><span class="p" data-group-id="2316066213-6">]</span><span class="p" data-group-id="2316066213-5">)</span><span class="p">.</span><span class="w">
</span><span class="ss">this</span><span class="w"> </span><span class="ss">outputs</span><span class="w"> </span><span class="ss">two</span><span class="w"> </span><span class="n">Erlang</span><span class="w"> </span><span class="nc">terms</span><span class="p">:</span><span class="w"> </span><span class="ss">helloworld</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
34&gt; </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="2316066213-7">(</span><span class="s">&quot;this outputs two Erlang terms: </span><span class="si">~w</span><span class="s"> </span><span class="si">~w</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2316066213-8">[</span><span class="ss">hello</span><span class="p">,</span><span class="w"> </span><span class="ss">world</span><span class="p" data-group-id="2316066213-8">]</span><span class="p" data-group-id="2316066213-7">)</span><span class="p">.</span><span class="w">
</span><span class="ss">this</span><span class="w"> </span><span class="ss">outputs</span><span class="w"> </span><span class="ss">two</span><span class="w"> </span><span class="n">Erlang</span><span class="w"> </span><span class="nc">terms</span><span class="p">:</span><span class="w"> </span><span class="ss">hello</span><span class="w"> </span><span class="ss">world</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>The function <a href="../../lib/stdlib-6.2/doc/html/io.html#format/2"><code class="inline">io:format/2</code></a> (that is, <code class="inline">format</code> with two arguments) takes two lists.
The first one is nearly always a list written between <code class="inline">&quot; &quot;</code>. This list is printed
out as it is, except that each <code class="inline">~w</code> is replaced by a term taken in order from the
second list. Each ~n is replaced by a new line. The <a href="../../lib/stdlib-6.2/doc/html/io.html#format/2"><code class="inline">io:format/2</code></a> function
itself returns the atom <code class="inline">ok</code> if everything goes as planned. Like other functions
in Erlang, it crashes if an error occurs. This is not a fault in Erlang, it is a
deliberate policy. Erlang has sophisticated mechanisms to handle errors which
are shown later. As an exercise, try to make <a href="../../lib/stdlib-6.2/doc/html/io.html#format/2"><code class="inline">io:format/2</code></a> crash, it should not be
difficult. But notice that although <a href="../../lib/stdlib-6.2/doc/html/io.html#format/2"><code class="inline">io:format/2</code></a> crashes, the Erlang shell itself
does not crash.</p><h2 id="a-larger-example" class="section-heading">
  <a href="#a-larger-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">A Larger Example</span>
</h2>
<p>Now for a larger example to consolidate what you have learnt so far. Assume that
you have a list of temperature readings from a number of cities in the world.
Some of them are in Celsius and some in Fahrenheit (as in the previous list).
First let us convert them all to Celsius, then let us print the data neatly.</p><pre><code class="makeup erlang" translate="no"><span class="c1">%% This module is in file tut5.erl</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="5960349138-1">(</span><span class="ss">tut5</span><span class="p" data-group-id="5960349138-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="5960349138-2">(</span><span class="p" data-group-id="5960349138-3">[</span><span class="ss">format_temps</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="5960349138-3">]</span><span class="p" data-group-id="5960349138-2">)</span><span class="p">.</span><span class="w">

</span><span class="c1">%% Only this function is exported</span><span class="w">
</span><span class="nf">format_temps</span><span class="p" data-group-id="5960349138-4">(</span><span class="p" data-group-id="5960349138-5">[</span><span class="p" data-group-id="5960349138-5">]</span><span class="p" data-group-id="5960349138-4">)</span><span class="p">-&gt;</span><span class="w">                        </span><span class="c1">% No output for an empty list</span><span class="w">
    </span><span class="ss">ok</span><span class="p">;</span><span class="w">
</span><span class="nf">format_temps</span><span class="p" data-group-id="5960349138-6">(</span><span class="p" data-group-id="5960349138-7">[</span><span class="n">City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="5960349138-7">]</span><span class="p" data-group-id="5960349138-6">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">print_temp</span><span class="p" data-group-id="5960349138-8">(</span><span class="nf">convert_to_celsius</span><span class="p" data-group-id="5960349138-9">(</span><span class="n">City</span><span class="p" data-group-id="5960349138-9">)</span><span class="p" data-group-id="5960349138-8">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">format_temps</span><span class="p" data-group-id="5960349138-10">(</span><span class="n">Rest</span><span class="p" data-group-id="5960349138-10">)</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_to_celsius</span><span class="p" data-group-id="5960349138-11">(</span><span class="p" data-group-id="5960349138-12">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5960349138-13">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="5960349138-13">}</span><span class="p" data-group-id="5960349138-12">}</span><span class="p" data-group-id="5960349138-11">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">  </span><span class="c1">% No conversion needed</span><span class="w">
    </span><span class="p" data-group-id="5960349138-14">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5960349138-15">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="5960349138-15">}</span><span class="p" data-group-id="5960349138-14">}</span><span class="p">;</span><span class="w">
</span><span class="nf">convert_to_celsius</span><span class="p" data-group-id="5960349138-16">(</span><span class="p" data-group-id="5960349138-17">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5960349138-18">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="5960349138-18">}</span><span class="p" data-group-id="5960349138-17">}</span><span class="p" data-group-id="5960349138-16">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">  </span><span class="c1">% Do the conversion</span><span class="w">
    </span><span class="p" data-group-id="5960349138-19">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5960349138-20">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5960349138-21">(</span><span class="n">Temp</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">32</span><span class="p" data-group-id="5960349138-21">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">9</span><span class="p" data-group-id="5960349138-20">}</span><span class="p" data-group-id="5960349138-19">}</span><span class="p">.</span><span class="w">

</span><span class="nf">print_temp</span><span class="p" data-group-id="5960349138-22">(</span><span class="p" data-group-id="5960349138-23">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5960349138-24">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="5960349138-24">}</span><span class="p" data-group-id="5960349138-23">}</span><span class="p" data-group-id="5960349138-22">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="5960349138-25">(</span><span class="s">&quot;</span><span class="si">~-</span><span class="s">15w </span><span class="si">~w</span><span class="s"> c</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5960349138-26">[</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="5960349138-26">]</span><span class="p" data-group-id="5960349138-25">)</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">35&gt; </span><span class="nf">c</span><span class="p" data-group-id="5376145451-1">(</span><span class="ss">tut5</span><span class="p" data-group-id="5376145451-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="5376145451-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut5</span><span class="p" data-group-id="5376145451-2">}</span><span class="gp unselectable">
36&gt; </span><span class="nc">tut5</span><span class="p">:</span><span class="nf">format_temps</span><span class="p" data-group-id="5376145451-3">(</span><span class="p" data-group-id="5376145451-4">[</span><span class="p" data-group-id="5376145451-5">{</span><span class="ss">moscow</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5376145451-6">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="5376145451-6">}</span><span class="p" data-group-id="5376145451-5">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5376145451-7">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5376145451-8">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p" data-group-id="5376145451-8">}</span><span class="p" data-group-id="5376145451-7">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="5376145451-9">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5376145451-10">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="5376145451-10">}</span><span class="p" data-group-id="5376145451-9">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5376145451-11">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5376145451-12">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="5376145451-12">}</span><span class="p" data-group-id="5376145451-11">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5376145451-13">{</span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5376145451-14">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p" data-group-id="5376145451-14">}</span><span class="p" data-group-id="5376145451-13">}</span><span class="p" data-group-id="5376145451-4">]</span><span class="p" data-group-id="5376145451-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">moscow</span><span class="w">          </span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">cape_town</span><span class="w">       </span><span class="mf">21.11111111111111</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">stockholm</span><span class="w">       </span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">paris</span><span class="w">           </span><span class="o">-</span><span class="mf">2.2222222222222223</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">london</span><span class="w">          </span><span class="mf">2.2222222222222223</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Before looking at how this program works, notice that a few comments are added
to the code. A comment starts with a %-character and goes on to the end of the
line. Notice also that the <code class="inline">-export([format_temps/1]).</code> line only includes the
function <code class="inline">format_temps/1</code>. The other functions are <em>local</em> functions, that is,
they are not visible from outside the module <code class="inline">tut5</code>.</p><p>Notice also that when testing the program from the shell, the input is spread
over two lines as the line was too long.</p><p>When <code class="inline">format_temps</code> is called the first time, <code class="inline">City</code> gets the value
<code class="inline">{moscow,{c,-10}}</code> and <code class="inline">Rest</code> is the rest of the list. So the function
<code class="inline">print_temp(convert_to_celsius({moscow,{c,-10}}))</code> is called.</p><p>Here is a function call as <code class="inline">convert_to_celsius({moscow,{c,-10}})</code> as the
argument to the function <code class="inline">print_temp</code>. When function calls are <em>nested</em> like
this, they execute (evaluate) from the inside out. That is, first
<code class="inline">convert_to_celsius({moscow,{c,-10}})</code> is evaluated, which gives the value
<code class="inline">{moscow,{c,-10}}</code> as the temperature is already in Celsius. Then
<code class="inline">print_temp({moscow,{c,-10}})</code> is evaluated. The function <code class="inline">convert_to_celsius</code>
works in a similar way to the <code class="inline">convert_length</code> function in the previous example.</p><p><code class="inline">print_temp</code> simply calls <code class="inline">io:format</code> in a similar way to what has been
described above. Notice that <code class="inline">~-15w</code> says to print the &quot;term&quot; with a field length
(width) of 15 and left justify it. (see <a href="../../lib/stdlib-6.2/doc/html/io.html#fwrite/1"><code class="inline">io:fwrite/1</code></a> manual page in STDLIB).</p><p>Now <code class="inline">format_temps(Rest)</code> is called with the rest of the list as an argument.
This way of doing things is similar to the loop constructs in other languages.
(Yes, this is recursion, but do not let that worry you.) So the same
<code class="inline">format_temps</code> function is called again, this time <code class="inline">City</code> gets the value
<code class="inline">{cape_town,{f,70}}</code> and the same procedure is repeated as before. This is done
until the list becomes empty, that is [], which causes the first clause
<code class="inline">format_temps([])</code> to match. This simply returns (results in) the atom <code class="inline">ok</code>, so
the program ends.</p><h2 id="matching-guards-and-scope-of-variables" class="section-heading">
  <a href="#matching-guards-and-scope-of-variables" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Matching, Guards, and Scope of Variables</span>
</h2>
<p>It can be useful to find the maximum and minimum temperature in lists like this.
Before extending the program to do this, let us look at functions for finding
the maximum value of the elements in a list:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="4503066161-1">(</span><span class="ss">tut6</span><span class="p" data-group-id="4503066161-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="4503066161-2">(</span><span class="p" data-group-id="4503066161-3">[</span><span class="ss">list_max</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="4503066161-3">]</span><span class="p" data-group-id="4503066161-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">list_max</span><span class="p" data-group-id="4503066161-4">(</span><span class="p" data-group-id="4503066161-5">[</span><span class="n">Head</span><span class="p">|</span><span class="n">Rest</span><span class="p" data-group-id="4503066161-5">]</span><span class="p" data-group-id="4503066161-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
   </span><span class="nf">list_max</span><span class="p" data-group-id="4503066161-6">(</span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="n">Head</span><span class="p" data-group-id="4503066161-6">)</span><span class="p">.</span><span class="w">

</span><span class="nf">list_max</span><span class="p" data-group-id="4503066161-7">(</span><span class="p" data-group-id="4503066161-8">[</span><span class="p" data-group-id="4503066161-8">]</span><span class="p">,</span><span class="w"> </span><span class="n">Res</span><span class="p" data-group-id="4503066161-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Res</span><span class="p">;</span><span class="w">
</span><span class="nf">list_max</span><span class="p" data-group-id="4503066161-9">(</span><span class="p" data-group-id="4503066161-10">[</span><span class="n">Head</span><span class="p">|</span><span class="n">Rest</span><span class="p" data-group-id="4503066161-10">]</span><span class="p">,</span><span class="w"> </span><span class="n">Result_so_far</span><span class="p" data-group-id="4503066161-9">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">Head</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Result_so_far</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">list_max</span><span class="p" data-group-id="4503066161-11">(</span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="n">Head</span><span class="p" data-group-id="4503066161-11">)</span><span class="p">;</span><span class="w">
</span><span class="nf">list_max</span><span class="p" data-group-id="4503066161-12">(</span><span class="p" data-group-id="4503066161-13">[</span><span class="n">Head</span><span class="p">|</span><span class="n">Rest</span><span class="p" data-group-id="4503066161-13">]</span><span class="p">,</span><span class="w"> </span><span class="n">Result_so_far</span><span class="p" data-group-id="4503066161-12">)</span><span class="w">  </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">list_max</span><span class="p" data-group-id="4503066161-14">(</span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="n">Result_so_far</span><span class="p" data-group-id="4503066161-14">)</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">37&gt; </span><span class="nf">c</span><span class="p" data-group-id="4669084202-1">(</span><span class="ss">tut6</span><span class="p" data-group-id="4669084202-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4669084202-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut6</span><span class="p" data-group-id="4669084202-2">}</span><span class="gp unselectable">
38&gt; </span><span class="nc">tut6</span><span class="p">:</span><span class="nf">list_max</span><span class="p" data-group-id="4669084202-3">(</span><span class="p" data-group-id="4669084202-4">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="4669084202-4">]</span><span class="p" data-group-id="4669084202-3">)</span><span class="p">.</span><span class="w">
</span><span class="mi">7</span></code></pre><p>First notice that two functions have the same name, <code class="inline">list_max</code>. However, each of
these takes a different number of arguments (parameters). In Erlang these are
regarded as completely different functions. Where you need to distinguish
between these functions, you write Name/Arity, where Name is the function name
and Arity is the number of arguments, in this case <code class="inline">list_max/1</code> and
<code class="inline">list_max/2</code>.</p><p>In this example you walk through a list &quot;carrying&quot; a value, in this case
<code class="inline">Result_so_far</code>. <code class="inline">list_max/1</code> simply assumes that the max value of the list is
the head of the list and calls <code class="inline">list_max/2</code> with the rest of the list and the
value of the head of the list. In the above this would be
<code class="inline">list_max([2,3,4,5,7,4,3,2,1],1)</code>. If you tried to use <code class="inline">list_max/1</code> with an
empty list or tried to use it with something that is not a list at all, you
would cause an error. Notice that the Erlang philosophy is not to handle errors
of this type in the function they occur, but to do so elsewhere. More about this
later.</p><p>In <code class="inline">list_max/2</code>, you walk down the list and use <code class="inline">Head</code> instead of
<code class="inline">Result_so_far</code> when <code class="inline">Head</code> &gt; <code class="inline">Result_so_far</code>. <code class="inline">when</code> is a special word used
before the -&gt; in the function to say that you only use this part of the function
if the test that follows is true. A test of this type is called <em>guard</em>. If the
guard is false (that is, the guard fails), the next part of the function is
tried. In this case, if <code class="inline">Head</code> is not greater than <code class="inline">Result_so_far</code>, then it must
be smaller or equal to it. This means that a guard on the next part of the
function is not needed.</p><p>Some useful operators in guards are:</p><ul><li><code class="inline">&lt;</code> less than</li><li><code class="inline">&gt;</code> greater than</li><li><code class="inline">==</code> equal</li><li><code class="inline">&gt;=</code> greater or equal</li><li><code class="inline">=&lt;</code> less or equal</li><li><code class="inline">/=</code> not equal</li></ul><p>(see <a href="../../doc/system/expressions.html">Guard Sequences</a>).</p><p>To change the above program to one that works out the minimum value of the
element in a list, you only need to write &lt; instead of &gt;. (But it would be wise
to change the name of the function to <code class="inline">list_min</code>.)</p><p>Earlier it was mentioned that a variable can only be given a value once in its
scope. In the above you see that <code class="inline">Result_so_far</code> is given several values. This
is OK since every time you call <code class="inline">list_max/2</code> you create a new scope and one can
regard <code class="inline">Result_so_far</code> as a different variable in each scope.</p><p>Another way of creating and giving a variable a value is by using the match
operator = . So if you write <code class="inline">M = 5</code>, a variable called <code class="inline">M</code> is created with the
value 5. If, in the same scope, you then write <code class="inline">M = 6</code>, an error is returned.
Try this out in the shell:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">39&gt; </span><span class="n">M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">.</span><span class="w">
</span><span class="mi">5</span><span class="gp unselectable">
40&gt; </span><span class="n">M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: no match of right hand side value 6</span><span class="gp unselectable">
41&gt; </span><span class="n">M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: no match of right hand side value 6</span><span class="gp unselectable">
42&gt; </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="w">
</span><span class="mi">6</span></code></pre><p>The use of the match operator is particularly useful for pulling apart Erlang
terms and creating new ones.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">43&gt; </span><span class="p" data-group-id="6570142374-1">{</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="p" data-group-id="6570142374-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="6570142374-2">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6570142374-3">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="6570142374-3">}</span><span class="p" data-group-id="6570142374-2">}</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6570142374-4">{</span><span class="ss">paris</span><span class="p">,</span><span class="p" data-group-id="6570142374-5">{</span><span class="ss">f</span><span class="p">,</span><span class="mi">28</span><span class="p" data-group-id="6570142374-5">}</span><span class="p" data-group-id="6570142374-4">}</span><span class="gp unselectable">
44&gt; </span><span class="n">X</span><span class="p">.</span><span class="w">
</span><span class="ss">paris</span><span class="gp unselectable">
45&gt; </span><span class="n">Y</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6570142374-6">{</span><span class="ss">f</span><span class="p">,</span><span class="mi">28</span><span class="p" data-group-id="6570142374-6">}</span></code></pre><p>Here <code class="inline">X</code> gets the value <code class="inline">paris</code> and <code class="inline">Y</code> the value <code class="inline">{f,28}</code>.</p><p>If you try to do the same again with another city, an error is returned:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">46&gt; </span><span class="p" data-group-id="0517073083-1">{</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="p" data-group-id="0517073083-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0517073083-2">{</span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0517073083-3">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p" data-group-id="0517073083-3">}</span><span class="p" data-group-id="0517073083-2">}</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: no match of right hand side value {london,{f,36}}</span></code></pre><p>Variables can also be used to improve the readability of programs. For example,
in function <code class="inline">list_max/2</code> above, you can write:</p><pre><code class="makeup erlang" translate="no"><span class="nf">list_max</span><span class="p" data-group-id="2630026297-1">(</span><span class="p" data-group-id="2630026297-2">[</span><span class="n">Head</span><span class="p">|</span><span class="n">Rest</span><span class="p" data-group-id="2630026297-2">]</span><span class="p">,</span><span class="w"> </span><span class="n">Result_so_far</span><span class="p" data-group-id="2630026297-1">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">Head</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Result_so_far</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">New_result_far</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Head</span><span class="p">,</span><span class="w">
    </span><span class="nf">list_max</span><span class="p" data-group-id="2630026297-3">(</span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="n">New_result_far</span><span class="p" data-group-id="2630026297-3">)</span><span class="p">;</span></code></pre><p>This is possibly a little clearer.</p><h2 id="more-about-lists" class="section-heading">
  <a href="#more-about-lists" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">More About Lists</span>
</h2>
<p>Remember that the <code class="inline">|</code> operator can be used to get the head of a list:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">47&gt; </span><span class="p" data-group-id="4479202198-1">[</span><span class="n">M1</span><span class="p">|</span><span class="n">T1</span><span class="p" data-group-id="4479202198-1">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4479202198-2">[</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="ss">rome</span><span class="p" data-group-id="4479202198-2">]</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4479202198-3">[</span><span class="ss">paris</span><span class="p">,</span><span class="ss">london</span><span class="p">,</span><span class="ss">rome</span><span class="p" data-group-id="4479202198-3">]</span><span class="gp unselectable">
48&gt; </span><span class="n">M1</span><span class="p">.</span><span class="w">
</span><span class="ss">paris</span><span class="gp unselectable">
49&gt; </span><span class="n">T1</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4479202198-4">[</span><span class="ss">london</span><span class="p">,</span><span class="ss">rome</span><span class="p" data-group-id="4479202198-4">]</span></code></pre><p>The <code class="inline">|</code> operator can also be used to add a head to a list:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">50&gt; </span><span class="n">L1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5873487183-1">[</span><span class="ss">madrid</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">T1</span><span class="p" data-group-id="5873487183-1">]</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="5873487183-2">[</span><span class="ss">madrid</span><span class="p">,</span><span class="ss">london</span><span class="p">,</span><span class="ss">rome</span><span class="p" data-group-id="5873487183-2">]</span><span class="gp unselectable">
51&gt; </span><span class="n">L1</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="5873487183-3">[</span><span class="ss">madrid</span><span class="p">,</span><span class="ss">london</span><span class="p">,</span><span class="ss">rome</span><span class="p" data-group-id="5873487183-3">]</span></code></pre><p>Now an example of this when working with lists - reversing the order of a list:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="6270513796-1">(</span><span class="ss">tut8</span><span class="p" data-group-id="6270513796-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="6270513796-2">(</span><span class="p" data-group-id="6270513796-3">[</span><span class="ss">reverse</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="6270513796-3">]</span><span class="p" data-group-id="6270513796-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">reverse</span><span class="p" data-group-id="6270513796-4">(</span><span class="n">List</span><span class="p" data-group-id="6270513796-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">reverse</span><span class="p" data-group-id="6270513796-5">(</span><span class="n">List</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6270513796-6">[</span><span class="p" data-group-id="6270513796-6">]</span><span class="p" data-group-id="6270513796-5">)</span><span class="p">.</span><span class="w">

</span><span class="nf">reverse</span><span class="p" data-group-id="6270513796-7">(</span><span class="p" data-group-id="6270513796-8">[</span><span class="n">Head</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="6270513796-8">]</span><span class="p">,</span><span class="w"> </span><span class="n">Reversed_List</span><span class="p" data-group-id="6270513796-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">reverse</span><span class="p" data-group-id="6270513796-9">(</span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6270513796-10">[</span><span class="n">Head</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Reversed_List</span><span class="p" data-group-id="6270513796-10">]</span><span class="p" data-group-id="6270513796-9">)</span><span class="p">;</span><span class="w">
</span><span class="nf">reverse</span><span class="p" data-group-id="6270513796-11">(</span><span class="p" data-group-id="6270513796-12">[</span><span class="p" data-group-id="6270513796-12">]</span><span class="p">,</span><span class="w"> </span><span class="n">Reversed_List</span><span class="p" data-group-id="6270513796-11">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Reversed_List</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">52&gt; </span><span class="nf">c</span><span class="p" data-group-id="8042153263-1">(</span><span class="ss">tut8</span><span class="p" data-group-id="8042153263-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8042153263-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut8</span><span class="p" data-group-id="8042153263-2">}</span><span class="gp unselectable">
53&gt; </span><span class="nc">tut8</span><span class="p">:</span><span class="nf">reverse</span><span class="p" data-group-id="8042153263-3">(</span><span class="p" data-group-id="8042153263-4">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="8042153263-4">]</span><span class="p" data-group-id="8042153263-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8042153263-5">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="8042153263-5">]</span></code></pre><p>Consider how <code class="inline">Reversed_List</code> is built. It starts as [], then successively the
heads are taken off of the list to be reversed and added to the the
<code class="inline">Reversed_List</code>, as shown in the following:</p><pre><code class="makeup erlang" translate="no"><span class="nf">reverse</span><span class="p" data-group-id="5367870893-1">(</span><span class="p" data-group-id="5367870893-2">[</span><span class="mi">1</span><span class="p">|</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="5367870893-2">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5367870893-3">[</span><span class="p" data-group-id="5367870893-3">]</span><span class="p" data-group-id="5367870893-1">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w">
    </span><span class="nf">reverse</span><span class="p" data-group-id="5367870893-4">(</span><span class="p" data-group-id="5367870893-5">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="5367870893-5">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5367870893-6">[</span><span class="mi">1</span><span class="p">|</span><span class="p" data-group-id="5367870893-7">[</span><span class="p" data-group-id="5367870893-7">]</span><span class="p" data-group-id="5367870893-6">]</span><span class="p" data-group-id="5367870893-4">)</span><span class="w">

</span><span class="nf">reverse</span><span class="p" data-group-id="5367870893-8">(</span><span class="p" data-group-id="5367870893-9">[</span><span class="mi">2</span><span class="p">|</span><span class="mi">3</span><span class="p" data-group-id="5367870893-9">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5367870893-10">[</span><span class="mi">1</span><span class="p" data-group-id="5367870893-10">]</span><span class="p" data-group-id="5367870893-8">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w">
    </span><span class="nf">reverse</span><span class="p" data-group-id="5367870893-11">(</span><span class="p" data-group-id="5367870893-12">[</span><span class="mi">3</span><span class="p" data-group-id="5367870893-12">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5367870893-13">[</span><span class="mi">2</span><span class="p">|</span><span class="p" data-group-id="5367870893-14">[</span><span class="mi">1</span><span class="p" data-group-id="5367870893-14">]</span><span class="p">)</span><span class="w">

</span><span class="nf">reverse</span><span class="p" data-group-id="5367870893-15">(</span><span class="p" data-group-id="5367870893-16">[</span><span class="mi">3</span><span class="p">|</span><span class="p" data-group-id="5367870893-17">[</span><span class="p" data-group-id="5367870893-17">]</span><span class="p" data-group-id="5367870893-16">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5367870893-18">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="5367870893-18">]</span><span class="p" data-group-id="5367870893-15">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w">
    </span><span class="nf">reverse</span><span class="p" data-group-id="5367870893-19">(</span><span class="p" data-group-id="5367870893-20">[</span><span class="p" data-group-id="5367870893-20">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5367870893-21">[</span><span class="mi">3</span><span class="p">|</span><span class="p" data-group-id="5367870893-22">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="5367870893-22">]</span><span class="p" data-group-id="5367870893-21">]</span><span class="p" data-group-id="5367870893-19">)</span><span class="w">

</span><span class="nf">reverse</span><span class="p" data-group-id="5367870893-23">(</span><span class="p" data-group-id="5367870893-24">[</span><span class="p" data-group-id="5367870893-24">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5367870893-25">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="5367870893-25">]</span><span class="p" data-group-id="5367870893-23">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w">
    </span><span class="p" data-group-id="5367870893-26">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="5367870893-26">]</span></code></pre><p>The module <code class="inline">lists</code> contains many functions for manipulating lists, for example,
for reversing them. So before writing a list-manipulating function it is a good
idea to check if one not already is written for you (see the <a href="../../lib/stdlib-6.2/doc/html/lists.html"><code class="inline">lists</code></a> manual
page in STDLIB).</p><p>Now let us get back to the cities and temperatures, but take a more structured
approach this time. First let us convert the whole list to Celsius as follows:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="5206161525-1">(</span><span class="ss">tut7</span><span class="p" data-group-id="5206161525-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="5206161525-2">(</span><span class="p" data-group-id="5206161525-3">[</span><span class="ss">format_temps</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="5206161525-3">]</span><span class="p" data-group-id="5206161525-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">format_temps</span><span class="p" data-group-id="5206161525-4">(</span><span class="n">List_of_cities</span><span class="p" data-group-id="5206161525-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="5206161525-5">(</span><span class="n">List_of_cities</span><span class="p" data-group-id="5206161525-5">)</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="5206161525-6">(</span><span class="p" data-group-id="5206161525-7">[</span><span class="p" data-group-id="5206161525-8">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5206161525-9">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="n">F</span><span class="p" data-group-id="5206161525-9">}</span><span class="p" data-group-id="5206161525-8">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="5206161525-7">]</span><span class="p" data-group-id="5206161525-6">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Converted_City</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5206161525-10">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5206161525-11">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5206161525-12">(</span><span class="n">F</span><span class="w"> </span><span class="o">-</span><span class="mi">32</span><span class="p" data-group-id="5206161525-12">)</span><span class="o">*</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">9</span><span class="p" data-group-id="5206161525-11">}</span><span class="p" data-group-id="5206161525-10">}</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="5206161525-13">[</span><span class="n">Converted_City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="5206161525-14">(</span><span class="n">Rest</span><span class="p" data-group-id="5206161525-14">)</span><span class="p" data-group-id="5206161525-13">]</span><span class="p">;</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="5206161525-15">(</span><span class="p" data-group-id="5206161525-16">[</span><span class="n">City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="5206161525-16">]</span><span class="p" data-group-id="5206161525-15">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5206161525-17">[</span><span class="n">City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="5206161525-18">(</span><span class="n">Rest</span><span class="p" data-group-id="5206161525-18">)</span><span class="p" data-group-id="5206161525-17">]</span><span class="p">;</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="5206161525-19">(</span><span class="p" data-group-id="5206161525-20">[</span><span class="p" data-group-id="5206161525-20">]</span><span class="p" data-group-id="5206161525-19">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5206161525-21">[</span><span class="p" data-group-id="5206161525-21">]</span><span class="p">.</span></code></pre><p>Test the function:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">54&gt; </span><span class="nf">c</span><span class="p" data-group-id="4698210281-1">(</span><span class="ss">tut7</span><span class="p" data-group-id="4698210281-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4698210281-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="ss">tut7</span><span class="p" data-group-id="4698210281-2">}</span><span class="p">.</span><span class="gp unselectable">
55&gt; </span><span class="nc">tut7</span><span class="p">:</span><span class="nf">format_temps</span><span class="p" data-group-id="4698210281-3">(</span><span class="p" data-group-id="4698210281-4">[</span><span class="p" data-group-id="4698210281-5">{</span><span class="ss">moscow</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4698210281-6">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="4698210281-6">}</span><span class="p" data-group-id="4698210281-5">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4698210281-7">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4698210281-8">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p" data-group-id="4698210281-8">}</span><span class="p" data-group-id="4698210281-7">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="4698210281-9">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4698210281-10">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="4698210281-10">}</span><span class="p" data-group-id="4698210281-9">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4698210281-11">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4698210281-12">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="4698210281-12">}</span><span class="p" data-group-id="4698210281-11">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4698210281-13">{</span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4698210281-14">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p" data-group-id="4698210281-14">}</span><span class="p" data-group-id="4698210281-13">}</span><span class="p" data-group-id="4698210281-4">]</span><span class="p" data-group-id="4698210281-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4698210281-15">[</span><span class="p" data-group-id="4698210281-16">{</span><span class="ss">moscow</span><span class="p">,</span><span class="p" data-group-id="4698210281-17">{</span><span class="ss">c</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="4698210281-17">}</span><span class="p" data-group-id="4698210281-16">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="4698210281-18">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="p" data-group-id="4698210281-19">{</span><span class="ss">c</span><span class="p">,</span><span class="mf">21.11111111111111</span><span class="p" data-group-id="4698210281-19">}</span><span class="p" data-group-id="4698210281-18">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="4698210281-20">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="p" data-group-id="4698210281-21">{</span><span class="ss">c</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="4698210281-21">}</span><span class="p" data-group-id="4698210281-20">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="4698210281-22">{</span><span class="ss">paris</span><span class="p">,</span><span class="p" data-group-id="4698210281-23">{</span><span class="ss">c</span><span class="p">,</span><span class="o">-</span><span class="mf">2.2222222222222223</span><span class="p" data-group-id="4698210281-23">}</span><span class="p" data-group-id="4698210281-22">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="4698210281-24">{</span><span class="ss">london</span><span class="p">,</span><span class="p" data-group-id="4698210281-25">{</span><span class="ss">c</span><span class="p">,</span><span class="mf">2.2222222222222223</span><span class="p" data-group-id="4698210281-25">}</span><span class="p" data-group-id="4698210281-24">}</span><span class="p" data-group-id="4698210281-15">]</span></code></pre><p>Explanation:</p><pre><code class="makeup erlang" translate="no"><span class="nf">format_temps</span><span class="p" data-group-id="8968518167-1">(</span><span class="n">List_of_cities</span><span class="p" data-group-id="8968518167-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="8968518167-2">(</span><span class="n">List_of_cities</span><span class="p" data-group-id="8968518167-2">)</span><span class="p">.</span></code></pre><p>Here <code class="inline">format_temps/1</code> calls <code class="inline">convert_list_to_c/1</code>. <code class="inline">convert_list_to_c/1</code> takes
off the head of the <code class="inline">List_of_cities</code>, converts it to Celsius if needed. The <code class="inline">|</code>
operator is used to add the (maybe) converted to the converted rest of the list:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="9909945540-1">[</span><span class="n">Converted_City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="9909945540-2">(</span><span class="n">Rest</span><span class="p" data-group-id="9909945540-2">)</span><span class="p" data-group-id="9909945540-1">]</span><span class="p">;</span></code></pre><p>or:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3771260120-1">[</span><span class="n">City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="3771260120-2">(</span><span class="n">Rest</span><span class="p" data-group-id="3771260120-2">)</span><span class="p" data-group-id="3771260120-1">]</span><span class="p">;</span></code></pre><p>This is done until the end of the list is reached, that is, the list is empty:</p><pre><code class="makeup erlang" translate="no"><span class="nf">convert_list_to_c</span><span class="p" data-group-id="6440261956-1">(</span><span class="p" data-group-id="6440261956-2">[</span><span class="p" data-group-id="6440261956-2">]</span><span class="p" data-group-id="6440261956-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="6440261956-3">[</span><span class="p" data-group-id="6440261956-3">]</span><span class="p">.</span></code></pre><p>Now when the list is converted, a function to print it is added:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="7308629959-1">(</span><span class="ss">tut7</span><span class="p" data-group-id="7308629959-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="7308629959-2">(</span><span class="p" data-group-id="7308629959-3">[</span><span class="ss">format_temps</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="7308629959-3">]</span><span class="p" data-group-id="7308629959-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">format_temps</span><span class="p" data-group-id="7308629959-4">(</span><span class="n">List_of_cities</span><span class="p" data-group-id="7308629959-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Converted_List</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="7308629959-5">(</span><span class="n">List_of_cities</span><span class="p" data-group-id="7308629959-5">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">print_temp</span><span class="p" data-group-id="7308629959-6">(</span><span class="n">Converted_List</span><span class="p" data-group-id="7308629959-6">)</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="7308629959-7">(</span><span class="p" data-group-id="7308629959-8">[</span><span class="p" data-group-id="7308629959-9">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7308629959-10">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="n">F</span><span class="p" data-group-id="7308629959-10">}</span><span class="p" data-group-id="7308629959-9">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="7308629959-8">]</span><span class="p" data-group-id="7308629959-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Converted_City</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7308629959-11">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7308629959-12">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7308629959-13">(</span><span class="n">F</span><span class="w"> </span><span class="o">-</span><span class="mi">32</span><span class="p" data-group-id="7308629959-13">)</span><span class="o">*</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">9</span><span class="p" data-group-id="7308629959-12">}</span><span class="p" data-group-id="7308629959-11">}</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="7308629959-14">[</span><span class="n">Converted_City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="7308629959-15">(</span><span class="n">Rest</span><span class="p" data-group-id="7308629959-15">)</span><span class="p" data-group-id="7308629959-14">]</span><span class="p">;</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="7308629959-16">(</span><span class="p" data-group-id="7308629959-17">[</span><span class="n">City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="7308629959-17">]</span><span class="p" data-group-id="7308629959-16">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7308629959-18">[</span><span class="n">City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="7308629959-19">(</span><span class="n">Rest</span><span class="p" data-group-id="7308629959-19">)</span><span class="p" data-group-id="7308629959-18">]</span><span class="p">;</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="7308629959-20">(</span><span class="p" data-group-id="7308629959-21">[</span><span class="p" data-group-id="7308629959-21">]</span><span class="p" data-group-id="7308629959-20">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7308629959-22">[</span><span class="p" data-group-id="7308629959-22">]</span><span class="p">.</span><span class="w">

</span><span class="nf">print_temp</span><span class="p" data-group-id="7308629959-23">(</span><span class="p" data-group-id="7308629959-24">[</span><span class="p" data-group-id="7308629959-25">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7308629959-26">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="7308629959-26">}</span><span class="p" data-group-id="7308629959-25">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="7308629959-24">]</span><span class="p" data-group-id="7308629959-23">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7308629959-27">(</span><span class="s">&quot;</span><span class="si">~-</span><span class="s">15w </span><span class="si">~w</span><span class="s"> c</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7308629959-28">[</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="7308629959-28">]</span><span class="p" data-group-id="7308629959-27">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">print_temp</span><span class="p" data-group-id="7308629959-29">(</span><span class="n">Rest</span><span class="p" data-group-id="7308629959-29">)</span><span class="p">;</span><span class="w">
</span><span class="nf">print_temp</span><span class="p" data-group-id="7308629959-30">(</span><span class="p" data-group-id="7308629959-31">[</span><span class="p" data-group-id="7308629959-31">]</span><span class="p" data-group-id="7308629959-30">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">ok</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">56&gt; </span><span class="nf">c</span><span class="p" data-group-id="0958254569-1">(</span><span class="ss">tut7</span><span class="p" data-group-id="0958254569-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0958254569-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut7</span><span class="p" data-group-id="0958254569-2">}</span><span class="gp unselectable">
57&gt; </span><span class="nc">tut7</span><span class="p">:</span><span class="nf">format_temps</span><span class="p" data-group-id="0958254569-3">(</span><span class="p" data-group-id="0958254569-4">[</span><span class="p" data-group-id="0958254569-5">{</span><span class="ss">moscow</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0958254569-6">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="0958254569-6">}</span><span class="p" data-group-id="0958254569-5">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0958254569-7">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0958254569-8">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p" data-group-id="0958254569-8">}</span><span class="p" data-group-id="0958254569-7">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="0958254569-9">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0958254569-10">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="0958254569-10">}</span><span class="p" data-group-id="0958254569-9">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0958254569-11">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0958254569-12">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="0958254569-12">}</span><span class="p" data-group-id="0958254569-11">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0958254569-13">{</span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0958254569-14">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p" data-group-id="0958254569-14">}</span><span class="p" data-group-id="0958254569-13">}</span><span class="p" data-group-id="0958254569-4">]</span><span class="p" data-group-id="0958254569-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">moscow</span><span class="w">          </span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">cape_town</span><span class="w">       </span><span class="mf">21.11111111111111</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">stockholm</span><span class="w">       </span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">paris</span><span class="w">           </span><span class="o">-</span><span class="mf">2.2222222222222223</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">london</span><span class="w">          </span><span class="mf">2.2222222222222223</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Now a function has to be added to find the cities with the maximum and minimum
temperatures. The following program is not the most efficient way of doing this
as you walk through the list of cities four times. But it is better to first
strive for clarity and correctness and to make programs efficient only if
needed.</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="1436980302-1">(</span><span class="ss">tut7</span><span class="p" data-group-id="1436980302-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="1436980302-2">(</span><span class="p" data-group-id="1436980302-3">[</span><span class="ss">format_temps</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="1436980302-3">]</span><span class="p" data-group-id="1436980302-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">format_temps</span><span class="p" data-group-id="1436980302-4">(</span><span class="n">List_of_cities</span><span class="p" data-group-id="1436980302-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Converted_List</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="1436980302-5">(</span><span class="n">List_of_cities</span><span class="p" data-group-id="1436980302-5">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">print_temp</span><span class="p" data-group-id="1436980302-6">(</span><span class="n">Converted_List</span><span class="p" data-group-id="1436980302-6">)</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="1436980302-7">{</span><span class="n">Max_city</span><span class="p">,</span><span class="w"> </span><span class="n">Min_city</span><span class="p" data-group-id="1436980302-7">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">find_max_and_min</span><span class="p" data-group-id="1436980302-8">(</span><span class="n">Converted_List</span><span class="p" data-group-id="1436980302-8">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">print_max_and_min</span><span class="p" data-group-id="1436980302-9">(</span><span class="n">Max_city</span><span class="p">,</span><span class="w"> </span><span class="n">Min_city</span><span class="p" data-group-id="1436980302-9">)</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="1436980302-10">(</span><span class="p" data-group-id="1436980302-11">[</span><span class="p" data-group-id="1436980302-12">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-13">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="1436980302-13">}</span><span class="p" data-group-id="1436980302-12">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="1436980302-11">]</span><span class="p" data-group-id="1436980302-10">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Converted_City</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1436980302-14">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-15">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-16">(</span><span class="n">Temp</span><span class="w"> </span><span class="o">-</span><span class="mi">32</span><span class="p" data-group-id="1436980302-16">)</span><span class="o">*</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">9</span><span class="p" data-group-id="1436980302-15">}</span><span class="p" data-group-id="1436980302-14">}</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="1436980302-17">[</span><span class="n">Converted_City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="1436980302-18">(</span><span class="n">Rest</span><span class="p" data-group-id="1436980302-18">)</span><span class="p" data-group-id="1436980302-17">]</span><span class="p">;</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="1436980302-19">(</span><span class="p" data-group-id="1436980302-20">[</span><span class="n">City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="1436980302-20">]</span><span class="p" data-group-id="1436980302-19">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="1436980302-21">[</span><span class="n">City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="1436980302-22">(</span><span class="n">Rest</span><span class="p" data-group-id="1436980302-22">)</span><span class="p" data-group-id="1436980302-21">]</span><span class="p">;</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="1436980302-23">(</span><span class="p" data-group-id="1436980302-24">[</span><span class="p" data-group-id="1436980302-24">]</span><span class="p" data-group-id="1436980302-23">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="1436980302-25">[</span><span class="p" data-group-id="1436980302-25">]</span><span class="p">.</span><span class="w">

</span><span class="nf">print_temp</span><span class="p" data-group-id="1436980302-26">(</span><span class="p" data-group-id="1436980302-27">[</span><span class="p" data-group-id="1436980302-28">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-29">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="1436980302-29">}</span><span class="p" data-group-id="1436980302-28">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="1436980302-27">]</span><span class="p" data-group-id="1436980302-26">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="1436980302-30">(</span><span class="s">&quot;</span><span class="si">~-</span><span class="s">15w </span><span class="si">~w</span><span class="s"> c</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-31">[</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="1436980302-31">]</span><span class="p" data-group-id="1436980302-30">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">print_temp</span><span class="p" data-group-id="1436980302-32">(</span><span class="n">Rest</span><span class="p" data-group-id="1436980302-32">)</span><span class="p">;</span><span class="w">
</span><span class="nf">print_temp</span><span class="p" data-group-id="1436980302-33">(</span><span class="p" data-group-id="1436980302-34">[</span><span class="p" data-group-id="1436980302-34">]</span><span class="p" data-group-id="1436980302-33">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">ok</span><span class="p">.</span><span class="w">

</span><span class="nf">find_max_and_min</span><span class="p" data-group-id="1436980302-35">(</span><span class="p" data-group-id="1436980302-36">[</span><span class="n">City</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="1436980302-36">]</span><span class="p" data-group-id="1436980302-35">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">find_max_and_min</span><span class="p" data-group-id="1436980302-37">(</span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="n">City</span><span class="p">,</span><span class="w"> </span><span class="n">City</span><span class="p" data-group-id="1436980302-37">)</span><span class="p">.</span><span class="w">

</span><span class="nf">find_max_and_min</span><span class="p" data-group-id="1436980302-38">(</span><span class="p" data-group-id="1436980302-39">[</span><span class="p" data-group-id="1436980302-40">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-41">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="1436980302-41">}</span><span class="p" data-group-id="1436980302-40">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="1436980302-39">]</span><span class="p">,</span><span class="w">
         </span><span class="p" data-group-id="1436980302-42">{</span><span class="n">Max_Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-43">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Max_Temp</span><span class="p" data-group-id="1436980302-43">}</span><span class="p" data-group-id="1436980302-42">}</span><span class="p">,</span><span class="w">
         </span><span class="p" data-group-id="1436980302-44">{</span><span class="n">Min_Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-45">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Min_Temp</span><span class="p" data-group-id="1436980302-45">}</span><span class="p" data-group-id="1436980302-44">}</span><span class="p" data-group-id="1436980302-38">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">if</span><span class="w">
        </span><span class="n">Temp</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Max_Temp</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">Max_City</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1436980302-46">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-47">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="1436980302-47">}</span><span class="p" data-group-id="1436980302-46">}</span><span class="p">;</span><span class="w">           </span><span class="c1">% Change</span><span class="w">
        </span><span class="ss">true</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">Max_City</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1436980302-48">{</span><span class="n">Max_Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-49">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Max_Temp</span><span class="p" data-group-id="1436980302-49">}</span><span class="p" data-group-id="1436980302-48">}</span><span class="w"> </span><span class="c1">% Unchanged</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="k">if</span><span class="w">
         </span><span class="n">Temp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Min_Temp</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">Min_City</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1436980302-50">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-51">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="1436980302-51">}</span><span class="p" data-group-id="1436980302-50">}</span><span class="p">;</span><span class="w">           </span><span class="c1">% Change</span><span class="w">
        </span><span class="ss">true</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">Min_City</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1436980302-52">{</span><span class="n">Min_Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-53">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Min_Temp</span><span class="p" data-group-id="1436980302-53">}</span><span class="p" data-group-id="1436980302-52">}</span><span class="w"> </span><span class="c1">% Unchanged</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="nf">find_max_and_min</span><span class="p" data-group-id="1436980302-54">(</span><span class="n">Rest</span><span class="p">,</span><span class="w"> </span><span class="n">Max_City</span><span class="p">,</span><span class="w"> </span><span class="n">Min_City</span><span class="p" data-group-id="1436980302-54">)</span><span class="p">;</span><span class="w">

</span><span class="nf">find_max_and_min</span><span class="p" data-group-id="1436980302-55">(</span><span class="p" data-group-id="1436980302-56">[</span><span class="p" data-group-id="1436980302-56">]</span><span class="p">,</span><span class="w"> </span><span class="n">Max_City</span><span class="p">,</span><span class="w"> </span><span class="n">Min_City</span><span class="p" data-group-id="1436980302-55">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="1436980302-57">{</span><span class="n">Max_City</span><span class="p">,</span><span class="w"> </span><span class="n">Min_City</span><span class="p" data-group-id="1436980302-57">}</span><span class="p">.</span><span class="w">

</span><span class="nf">print_max_and_min</span><span class="p" data-group-id="1436980302-58">(</span><span class="p" data-group-id="1436980302-59">{</span><span class="n">Max_name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-60">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Max_temp</span><span class="p" data-group-id="1436980302-60">}</span><span class="p" data-group-id="1436980302-59">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-61">{</span><span class="n">Min_name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-62">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Min_temp</span><span class="p" data-group-id="1436980302-62">}</span><span class="p" data-group-id="1436980302-61">}</span><span class="p" data-group-id="1436980302-58">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="1436980302-63">(</span><span class="s">&quot;Max temperature was </span><span class="si">~w</span><span class="s"> c in </span><span class="si">~w</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-64">[</span><span class="n">Max_temp</span><span class="p">,</span><span class="w"> </span><span class="n">Max_name</span><span class="p" data-group-id="1436980302-64">]</span><span class="p" data-group-id="1436980302-63">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="1436980302-65">(</span><span class="s">&quot;Min temperature was </span><span class="si">~w</span><span class="s"> c in </span><span class="si">~w</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1436980302-66">[</span><span class="n">Min_temp</span><span class="p">,</span><span class="w"> </span><span class="n">Min_name</span><span class="p" data-group-id="1436980302-66">]</span><span class="p" data-group-id="1436980302-65">)</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">58&gt; </span><span class="nf">c</span><span class="p" data-group-id="5116885821-1">(</span><span class="ss">tut7</span><span class="p" data-group-id="5116885821-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="5116885821-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="ss">tut7</span><span class="p" data-group-id="5116885821-2">}</span><span class="gp unselectable">
59&gt; </span><span class="nc">tut7</span><span class="p">:</span><span class="nf">format_temps</span><span class="p" data-group-id="5116885821-3">(</span><span class="p" data-group-id="5116885821-4">[</span><span class="p" data-group-id="5116885821-5">{</span><span class="ss">moscow</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5116885821-6">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="5116885821-6">}</span><span class="p" data-group-id="5116885821-5">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5116885821-7">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5116885821-8">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p" data-group-id="5116885821-8">}</span><span class="p" data-group-id="5116885821-7">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="5116885821-9">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5116885821-10">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="5116885821-10">}</span><span class="p" data-group-id="5116885821-9">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5116885821-11">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5116885821-12">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="5116885821-12">}</span><span class="p" data-group-id="5116885821-11">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5116885821-13">{</span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5116885821-14">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p" data-group-id="5116885821-14">}</span><span class="p" data-group-id="5116885821-13">}</span><span class="p" data-group-id="5116885821-4">]</span><span class="p" data-group-id="5116885821-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">moscow</span><span class="w">          </span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">cape_town</span><span class="w">       </span><span class="mf">21.11111111111111</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">stockholm</span><span class="w">       </span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">paris</span><span class="w">           </span><span class="o">-</span><span class="mf">2.2222222222222223</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="ss">london</span><span class="w">          </span><span class="mf">2.2222222222222223</span><span class="w"> </span><span class="ss">c</span><span class="w">
</span><span class="n">Max</span><span class="w"> </span><span class="ss">temperature</span><span class="w"> </span><span class="ss">was</span><span class="w"> </span><span class="mf">21.11111111111111</span><span class="w"> </span><span class="ss">c</span><span class="w"> </span><span class="ss">in</span><span class="w"> </span><span class="ss">cape_town</span><span class="w">
</span><span class="n">Min</span><span class="w"> </span><span class="ss">temperature</span><span class="w"> </span><span class="ss">was</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="ss">c</span><span class="w"> </span><span class="ss">in</span><span class="w"> </span><span class="ss">moscow</span><span class="w">
</span><span class="ss">ok</span></code></pre><h2 id="if-and-case" class="section-heading">
  <a href="#if-and-case" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">If and Case</span>
</h2>
<p>The function <code class="inline">find_max_and_min</code> works out the maximum and minimum temperature. A
new construct, <code class="inline">if</code>, is introduced here. If works as follows:</p><pre><code class="makeup c" translate="no"><span class="k">if</span><span class="w">
    </span><span class="no">Condition</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="no">Action</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
    </span><span class="no">Condition</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="no">Action</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
    </span><span class="no">Condition</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="no">Action</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">
    </span><span class="no">Condition</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="no">Action</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="n">end</span></code></pre><p>Notice that there is no <code class="inline">;</code> before <code class="inline">end</code>. Conditions do the same as guards, that
is, tests that succeed or fail. Erlang starts at the top and tests until it
finds a condition that succeeds. Then it evaluates (performs) the action
following the condition and ignores all other conditions and actions before the
<code class="inline">end</code>. If no condition matches, a run-time failure occurs. A condition that
always succeeds is the atom <code class="inline">true</code>. This is often used last in an <code class="inline">if</code>, meaning,
do the action following the <code class="inline">true</code> if all other conditions have failed.</p><p>The following is a short program to show the workings of <code class="inline">if</code>.</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="7719182248-1">(</span><span class="ss">tut9</span><span class="p" data-group-id="7719182248-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="7719182248-2">(</span><span class="p" data-group-id="7719182248-3">[</span><span class="ss">test_if</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="7719182248-3">]</span><span class="p" data-group-id="7719182248-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">test_if</span><span class="p" data-group-id="7719182248-4">(</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="p" data-group-id="7719182248-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">if</span><span class="w">
        </span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7719182248-5">(</span><span class="s">&quot;A == 5</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7719182248-6">[</span><span class="p" data-group-id="7719182248-6">]</span><span class="p" data-group-id="7719182248-5">)</span><span class="p">,</span><span class="w">
            </span><span class="ss">a_equals_5</span><span class="p">;</span><span class="w">
        </span><span class="n">B</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7719182248-7">(</span><span class="s">&quot;B == 6</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7719182248-8">[</span><span class="p" data-group-id="7719182248-8">]</span><span class="p" data-group-id="7719182248-7">)</span><span class="p">,</span><span class="w">
            </span><span class="ss">b_equals_6</span><span class="p">;</span><span class="w">
        </span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">                      </span><span class="c1">%That is A equals 2 and B equals 3</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7719182248-9">(</span><span class="s">&quot;A == 2, B == 3</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7719182248-10">[</span><span class="p" data-group-id="7719182248-10">]</span><span class="p" data-group-id="7719182248-9">)</span><span class="p">,</span><span class="w">
            </span><span class="ss">a_equals_2_b_equals_3</span><span class="p">;</span><span class="w">
        </span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">                     </span><span class="c1">%That is A equals 1 or B equals 7</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7719182248-11">(</span><span class="s">&quot;A == 1 ; B == 7</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7719182248-12">[</span><span class="p" data-group-id="7719182248-12">]</span><span class="p" data-group-id="7719182248-11">)</span><span class="p">,</span><span class="w">
            </span><span class="ss">a_equals_1_or_b_equals_7</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span></code></pre><p>Testing this program gives:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">60&gt; </span><span class="nf">c</span><span class="p" data-group-id="4254591952-1">(</span><span class="ss">tut9</span><span class="p" data-group-id="4254591952-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4254591952-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut9</span><span class="p" data-group-id="4254591952-2">}</span><span class="gp unselectable">
61&gt; </span><span class="nc">tut9</span><span class="p">:</span><span class="nf">test_if</span><span class="p" data-group-id="4254591952-3">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">33</span><span class="p" data-group-id="4254591952-3">)</span><span class="p">.</span><span class="w">
</span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="ss">a_equals_5</span><span class="gp unselectable">
62&gt; </span><span class="nc">tut9</span><span class="p">:</span><span class="nf">test_if</span><span class="p" data-group-id="4254591952-4">(</span><span class="mi">33</span><span class="p">,</span><span class="mi">6</span><span class="p" data-group-id="4254591952-4">)</span><span class="p">.</span><span class="w">
</span><span class="n">B</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="ss">b_equals_6</span><span class="gp unselectable">
63&gt; </span><span class="nc">tut9</span><span class="p">:</span><span class="nf">test_if</span><span class="p" data-group-id="4254591952-5">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="4254591952-5">)</span><span class="p">.</span><span class="w">
</span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="ss">a_equals_2_b_equals_3</span><span class="gp unselectable">
64&gt; </span><span class="nc">tut9</span><span class="p">:</span><span class="nf">test_if</span><span class="p" data-group-id="4254591952-6">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p" data-group-id="4254591952-6">)</span><span class="p">.</span><span class="w">
</span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="ss">a_equals_1_or_b_equals_7</span><span class="gp unselectable">
65&gt; </span><span class="nc">tut9</span><span class="p">:</span><span class="nf">test_if</span><span class="p" data-group-id="4254591952-7">(</span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p" data-group-id="4254591952-7">)</span><span class="p">.</span><span class="w">
</span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="ss">a_equals_1_or_b_equals_7</span><span class="gp unselectable">
66&gt; </span><span class="nc">tut9</span><span class="p">:</span><span class="nf">test_if</span><span class="p" data-group-id="4254591952-8">(</span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p" data-group-id="4254591952-8">)</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: no true branch found when evaluating an if expression
     in function  tut9:test_if/2 (tut9.erl, line 5)</span></code></pre><p>Notice that <code class="inline">tut9:test_if(33,33)</code> does not cause any condition to succeed. This
leads to the run time error <code class="inline">if_clause</code>, here nicely formatted by the shell. See
<a href="../../doc/system/expressions.html">Guard Sequences</a> for details of the many guard tests
available.</p><p><code class="inline">case</code> is another construct in Erlang. Recall that the <code class="inline">convert_length</code> function
was written as:</p><pre><code class="makeup erlang" translate="no"><span class="nf">convert_length</span><span class="p" data-group-id="8030529842-1">(</span><span class="p" data-group-id="8030529842-2">{</span><span class="ss">centimeter</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="p" data-group-id="8030529842-2">}</span><span class="p" data-group-id="8030529842-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8030529842-3">{</span><span class="ss">inch</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.54</span><span class="p" data-group-id="8030529842-3">}</span><span class="p">;</span><span class="w">
</span><span class="nf">convert_length</span><span class="p" data-group-id="8030529842-4">(</span><span class="p" data-group-id="8030529842-5">{</span><span class="ss">inch</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="p" data-group-id="8030529842-5">}</span><span class="p" data-group-id="8030529842-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8030529842-6">{</span><span class="ss">centimeter</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2.54</span><span class="p" data-group-id="8030529842-6">}</span><span class="p">.</span></code></pre><p>The same program can also be written as:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="1000855333-1">(</span><span class="ss">tut10</span><span class="p" data-group-id="1000855333-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="1000855333-2">(</span><span class="p" data-group-id="1000855333-3">[</span><span class="ss">convert_length</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="1000855333-3">]</span><span class="p" data-group-id="1000855333-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_length</span><span class="p" data-group-id="1000855333-4">(</span><span class="n">Length</span><span class="p" data-group-id="1000855333-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">case</span><span class="w"> </span><span class="n">Length</span><span class="w"> </span><span class="k">of</span><span class="w">
        </span><span class="p" data-group-id="1000855333-5">{</span><span class="ss">centimeter</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="p" data-group-id="1000855333-5">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="p" data-group-id="1000855333-6">{</span><span class="ss">inch</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.54</span><span class="p" data-group-id="1000855333-6">}</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="1000855333-7">{</span><span class="ss">inch</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="p" data-group-id="1000855333-7">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="p" data-group-id="1000855333-8">{</span><span class="ss">centimeter</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2.54</span><span class="p" data-group-id="1000855333-8">}</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">67&gt; </span><span class="nf">c</span><span class="p" data-group-id="2345769009-1">(</span><span class="ss">tut10</span><span class="p" data-group-id="2345769009-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2345769009-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut10</span><span class="p" data-group-id="2345769009-2">}</span><span class="gp unselectable">
68&gt; </span><span class="nc">tut10</span><span class="p">:</span><span class="nf">convert_length</span><span class="p" data-group-id="2345769009-3">(</span><span class="p" data-group-id="2345769009-4">{</span><span class="ss">inch</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p" data-group-id="2345769009-4">}</span><span class="p" data-group-id="2345769009-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2345769009-5">{</span><span class="ss">centimeter</span><span class="p">,</span><span class="mf">15.24</span><span class="p" data-group-id="2345769009-5">}</span><span class="gp unselectable">
69&gt; </span><span class="nc">tut10</span><span class="p">:</span><span class="nf">convert_length</span><span class="p" data-group-id="2345769009-6">(</span><span class="p" data-group-id="2345769009-7">{</span><span class="ss">centimeter</span><span class="p">,</span><span class="w"> </span><span class="mf">2.5</span><span class="p" data-group-id="2345769009-7">}</span><span class="p" data-group-id="2345769009-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2345769009-8">{</span><span class="ss">inch</span><span class="p">,</span><span class="mf">0.984251968503937</span><span class="p" data-group-id="2345769009-8">}</span></code></pre><p>Both <code class="inline">case</code> and <code class="inline">if</code> have <em>return values</em>, that is, in the above example <code class="inline">case</code>
returned either <code class="inline">{inch,X/2.54}</code> or <code class="inline">{centimeter,Y*2.54}</code>. The behaviour of
<code class="inline">case</code> can also be modified by using guards. The following example clarifies
this. It tells us the length of a month, given the year. The year must be known,
since February has 29 days in a leap year.</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="5297060196-1">(</span><span class="ss">tut11</span><span class="p" data-group-id="5297060196-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="5297060196-2">(</span><span class="p" data-group-id="5297060196-3">[</span><span class="ss">month_length</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="5297060196-3">]</span><span class="p" data-group-id="5297060196-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">month_length</span><span class="p" data-group-id="5297060196-4">(</span><span class="n">Year</span><span class="p">,</span><span class="w"> </span><span class="n">Month</span><span class="p" data-group-id="5297060196-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="c1">%% All years divisible by 400 are leap</span><span class="w">
    </span><span class="c1">%% Years divisible by 100 are not leap (except the 400 rule above)</span><span class="w">
    </span><span class="c1">%% Years divisible by 4 are leap (except the 100 rule above)</span><span class="w">
    </span><span class="n">Leap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w">
        </span><span class="nf">trunc</span><span class="p" data-group-id="5297060196-5">(</span><span class="n">Year</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">400</span><span class="p" data-group-id="5297060196-5">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Year</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="ss">leap</span><span class="p">;</span><span class="w">
        </span><span class="nf">trunc</span><span class="p" data-group-id="5297060196-6">(</span><span class="n">Year</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="5297060196-6">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Year</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="ss">not_leap</span><span class="p">;</span><span class="w">
        </span><span class="nf">trunc</span><span class="p" data-group-id="5297060196-7">(</span><span class="n">Year</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p" data-group-id="5297060196-7">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Year</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="ss">leap</span><span class="p">;</span><span class="w">
        </span><span class="ss">true</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="ss">not_leap</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="k">case</span><span class="w"> </span><span class="n">Month</span><span class="w"> </span><span class="k">of</span><span class="w">
        </span><span class="ss">sep</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w">
        </span><span class="ss">apr</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w">
        </span><span class="ss">jun</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w">
        </span><span class="ss">nov</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w">
        </span><span class="ss">feb</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">Leap</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">leap</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">29</span><span class="p">;</span><span class="w">
        </span><span class="ss">feb</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">28</span><span class="p">;</span><span class="w">
        </span><span class="ss">jan</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span><span class="w">
        </span><span class="ss">mar</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span><span class="w">
        </span><span class="ss">may</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span><span class="w">
        </span><span class="ss">jul</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span><span class="w">
        </span><span class="ss">aug</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span><span class="w">
        </span><span class="ss">oct</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span><span class="w">
        </span><span class="ss">dec</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">31</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">70&gt; </span><span class="nf">c</span><span class="p" data-group-id="0859506629-1">(</span><span class="ss">tut11</span><span class="p" data-group-id="0859506629-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0859506629-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut11</span><span class="p" data-group-id="0859506629-2">}</span><span class="gp unselectable">
71&gt; </span><span class="nc">tut11</span><span class="p">:</span><span class="nf">month_length</span><span class="p" data-group-id="0859506629-3">(</span><span class="mi">2004</span><span class="p">,</span><span class="w"> </span><span class="ss">feb</span><span class="p" data-group-id="0859506629-3">)</span><span class="p">.</span><span class="w">
</span><span class="mi">29</span><span class="gp unselectable">
72&gt; </span><span class="nc">tut11</span><span class="p">:</span><span class="nf">month_length</span><span class="p" data-group-id="0859506629-4">(</span><span class="mi">2003</span><span class="p">,</span><span class="w"> </span><span class="ss">feb</span><span class="p" data-group-id="0859506629-4">)</span><span class="p">.</span><span class="w">
</span><span class="mi">28</span><span class="gp unselectable">
73&gt; </span><span class="nc">tut11</span><span class="p">:</span><span class="nf">month_length</span><span class="p" data-group-id="0859506629-5">(</span><span class="mi">1947</span><span class="p">,</span><span class="w"> </span><span class="ss">aug</span><span class="p" data-group-id="0859506629-5">)</span><span class="p">.</span><span class="w">
</span><span class="mi">31</span></code></pre><h2 id="built-in-functions-bifs" class="section-heading">
  <a href="#built-in-functions-bifs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Built-In Functions (BIFs)</span>
</h2>
<p>BIFs are functions that for some reason are built-in to the Erlang virtual
machine. BIFs often implement functionality that is impossible or is too
inefficient to implement in Erlang. Some BIFs can be called using the function
name only but they are by default belonging to the <code class="inline">erlang</code> module. For example,
the call to the BIF <code class="inline">trunc</code> below is equivalent to a call to <code class="inline">erlang:trunc</code>.</p><p>As shown, first it is checked if a year is leap. If a year is divisible by 400,
it is a leap year. To determine this, first divide the year by 400 and use the
BIF <code class="inline">trunc</code> (more about this later) to cut off any decimals. Then multiply by
400 again and see if the same value is returned again. For example, year 2004:</p><pre><code class="makeup erlang" translate="no"><span class="mi">2004</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5.01</span><span class="w">
</span><span class="nf">trunc</span><span class="p" data-group-id="6458464227-1">(</span><span class="mf">5.01</span><span class="p" data-group-id="6458464227-1">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="mi">5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2000</span></code></pre><p>2000 is not the same as 2004, so 2004 is not divisible by 400. Year 2000:</p><pre><code class="makeup erlang" translate="no"><span class="mi">2000</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5.0</span><span class="w">
</span><span class="nf">trunc</span><span class="p" data-group-id="0714589127-1">(</span><span class="mf">5.0</span><span class="p" data-group-id="0714589127-1">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="mi">5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2000</span></code></pre><p>That is, a leap year. The next two <code class="inline">trunc</code>-tests evaluate if the year is
divisible by 100 or 4 in the same way. The first <code class="inline">if</code> returns <code class="inline">leap</code> or
<code class="inline">not_leap</code>, which lands up in the variable <code class="inline">Leap</code>. This variable is used in the
guard for <code class="inline">feb</code> in the following <code class="inline">case</code> that tells us how long the month is.</p><p>This example showed the use of <code class="inline">trunc</code>. It is easier to use the Erlang operator
<code class="inline">rem</code> that gives the remainder after division, for example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">74&gt; </span><span class="mi">2004</span><span class="w"> </span><span class="ow">rem</span><span class="w"> </span><span class="mi">400</span><span class="p">.</span><span class="w">
</span><span class="mi">4</span></code></pre><p>So instead of writing:</p><pre><code class="makeup erlang" translate="no"><span class="nf">trunc</span><span class="p" data-group-id="3179539316-1">(</span><span class="n">Year</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">400</span><span class="p" data-group-id="3179539316-1">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Year</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">leap</span><span class="p">;</span></code></pre><p>it can be written:</p><pre><code class="makeup erlang" translate="no"><span class="n">Year</span><span class="w"> </span><span class="ow">rem</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">leap</span><span class="p">;</span></code></pre><p>There are many other BIFs such as <code class="inline">trunc</code>. Only a few BIFs can be used in
guards, and you cannot use functions you have defined yourself in guards. (see
<a href="../../doc/system/expressions.html">Guard Sequences</a>) (For advanced readers: This is to
ensure that guards do not have side effects.) Let us play with a few of these
functions in the shell:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">75&gt; </span><span class="nf">trunc</span><span class="p" data-group-id="8395869503-1">(</span><span class="mf">5.6</span><span class="p" data-group-id="8395869503-1">)</span><span class="p">.</span><span class="w">
</span><span class="mi">5</span><span class="gp unselectable">
76&gt; </span><span class="nf">round</span><span class="p" data-group-id="8395869503-2">(</span><span class="mf">5.6</span><span class="p" data-group-id="8395869503-2">)</span><span class="p">.</span><span class="w">
</span><span class="mi">6</span><span class="gp unselectable">
77&gt; </span><span class="nf">length</span><span class="p" data-group-id="8395869503-3">(</span><span class="p" data-group-id="8395869503-4">[</span><span class="ss">a</span><span class="p">,</span><span class="ss">b</span><span class="p">,</span><span class="ss">c</span><span class="p">,</span><span class="ss">d</span><span class="p" data-group-id="8395869503-4">]</span><span class="p" data-group-id="8395869503-3">)</span><span class="p">.</span><span class="w">
</span><span class="mi">4</span><span class="gp unselectable">
78&gt; </span><span class="nf">float</span><span class="p" data-group-id="8395869503-5">(</span><span class="mi">5</span><span class="p" data-group-id="8395869503-5">)</span><span class="p">.</span><span class="w">
</span><span class="mf">5.0</span><span class="gp unselectable">
79&gt; </span><span class="nf">is_atom</span><span class="p" data-group-id="8395869503-6">(</span><span class="ss">hello</span><span class="p" data-group-id="8395869503-6">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span><span class="gp unselectable">
80&gt; </span><span class="nf">is_atom</span><span class="p" data-group-id="8395869503-7">(</span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="8395869503-7">)</span><span class="p">.</span><span class="w">
</span><span class="ss">false</span><span class="gp unselectable">
81&gt; </span><span class="nf">is_tuple</span><span class="p" data-group-id="8395869503-8">(</span><span class="p" data-group-id="8395869503-9">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8395869503-10">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p" data-group-id="8395869503-10">}</span><span class="p" data-group-id="8395869503-9">}</span><span class="p" data-group-id="8395869503-8">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span><span class="gp unselectable">
82&gt; </span><span class="nf">is_tuple</span><span class="p" data-group-id="8395869503-11">(</span><span class="p" data-group-id="8395869503-12">[</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8395869503-13">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p" data-group-id="8395869503-13">}</span><span class="p" data-group-id="8395869503-12">]</span><span class="p" data-group-id="8395869503-11">)</span><span class="p">.</span><span class="w">
</span><span class="ss">false</span></code></pre><p>All of these can be used in guards. Now for some BIFs that cannot be used in
guards:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">83&gt; </span><span class="nf">atom_to_list</span><span class="p" data-group-id="1907374899-1">(</span><span class="ss">hello</span><span class="p" data-group-id="1907374899-1">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;hello&quot;</span><span class="gp unselectable">
84&gt; </span><span class="nf">list_to_atom</span><span class="p" data-group-id="1907374899-2">(</span><span class="s">&quot;goodbye&quot;</span><span class="p" data-group-id="1907374899-2">)</span><span class="p">.</span><span class="w">
</span><span class="ss">goodbye</span><span class="gp unselectable">
85&gt; </span><span class="nf">integer_to_list</span><span class="p" data-group-id="1907374899-3">(</span><span class="mi">22</span><span class="p" data-group-id="1907374899-3">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;22&quot;</span></code></pre><p>These three BIFs do conversions that would be difficult (or impossible) to do in
Erlang.</p><h2 id="higher-order-functions-funs" class="section-heading">
  <a href="#higher-order-functions-funs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Higher-Order Functions (Funs)</span>
</h2>
<p>Erlang, like most modern functional programming languages, has higher-order
functions. Here is an example using the shell:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">86&gt; </span><span class="n">Xf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">fun</span><span class="p" data-group-id="8178439526-1">(</span><span class="n">X</span><span class="p" data-group-id="8178439526-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">end</span><span class="p">.</span><span class="w">
</span><span class="p">#</span><span class="n">Fun</span><span class="o">&lt;</span><span class="ss">erl_eval</span><span class="p">.</span><span class="mf">5.123085357</span><span class="o">&gt;</span><span class="gp unselectable">
87&gt; </span><span class="n">Xf</span><span class="p" data-group-id="8178439526-2">(</span><span class="mi">5</span><span class="p" data-group-id="8178439526-2">)</span><span class="p">.</span><span class="w">
</span><span class="mi">10</span></code></pre><p>Here is defined a function that doubles the value of a number and assigned this
function to a variable. Thus <code class="inline">Xf(5)</code> returns value 10. Two useful functions when
working with lists are <code class="inline">foreach</code> and <code class="inline">map</code>, which are defined as follows:</p><pre><code class="makeup erlang" translate="no"><span class="nf">foreach</span><span class="p" data-group-id="3696744208-1">(</span><span class="n">Fun</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3696744208-2">[</span><span class="n">First</span><span class="p">|</span><span class="n">Rest</span><span class="p" data-group-id="3696744208-2">]</span><span class="p" data-group-id="3696744208-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Fun</span><span class="p" data-group-id="3696744208-3">(</span><span class="n">First</span><span class="p" data-group-id="3696744208-3">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">foreach</span><span class="p" data-group-id="3696744208-4">(</span><span class="n">Fun</span><span class="p">,</span><span class="w"> </span><span class="n">Rest</span><span class="p" data-group-id="3696744208-4">)</span><span class="p">;</span><span class="w">
</span><span class="nf">foreach</span><span class="p" data-group-id="3696744208-5">(</span><span class="n">Fun</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3696744208-6">[</span><span class="p" data-group-id="3696744208-6">]</span><span class="p" data-group-id="3696744208-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">ok</span><span class="p">.</span><span class="w">

</span><span class="nf">map</span><span class="p" data-group-id="3696744208-7">(</span><span class="n">Fun</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3696744208-8">[</span><span class="n">First</span><span class="p">|</span><span class="n">Rest</span><span class="p" data-group-id="3696744208-8">]</span><span class="p" data-group-id="3696744208-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3696744208-9">[</span><span class="n">Fun</span><span class="p" data-group-id="3696744208-10">(</span><span class="n">First</span><span class="p" data-group-id="3696744208-10">)</span><span class="p">|</span><span class="nf">map</span><span class="p" data-group-id="3696744208-11">(</span><span class="n">Fun</span><span class="p">,</span><span class="n">Rest</span><span class="p" data-group-id="3696744208-11">)</span><span class="p" data-group-id="3696744208-9">]</span><span class="p">;</span><span class="w">
</span><span class="nf">map</span><span class="p" data-group-id="3696744208-12">(</span><span class="n">Fun</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3696744208-13">[</span><span class="p" data-group-id="3696744208-13">]</span><span class="p" data-group-id="3696744208-12">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="3696744208-14">[</span><span class="p" data-group-id="3696744208-14">]</span><span class="p">.</span></code></pre><p>These two functions are provided in the standard module <code class="inline">lists</code>. <code class="inline">foreach</code> takes
a list and applies a fun to every element in the list. <code class="inline">map</code> creates a new list
by applying a fun to every element in a list. Going back to the shell, <code class="inline">map</code> is
used and a fun to add 3 to every element of a list:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">88&gt; </span><span class="n">Add_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">fun</span><span class="p" data-group-id="2633747258-1">(</span><span class="n">X</span><span class="p" data-group-id="2633747258-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">end</span><span class="p">.</span><span class="w">
</span><span class="p">#</span><span class="n">Fun</span><span class="o">&lt;</span><span class="ss">erl_eval</span><span class="p">.</span><span class="mf">5.123085357</span><span class="o">&gt;</span><span class="gp unselectable">
89&gt; </span><span class="nc">lists</span><span class="p">:</span><span class="nf">map</span><span class="p" data-group-id="2633747258-2">(</span><span class="n">Add_3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2633747258-3">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="2633747258-3">]</span><span class="p" data-group-id="2633747258-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2633747258-4">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p" data-group-id="2633747258-4">]</span></code></pre><p>Let us (again) print the temperatures in a list of cities:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">90&gt; </span><span class="n">Print_City</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">fun</span><span class="p" data-group-id="9955141052-1">(</span><span class="p" data-group-id="9955141052-2">{</span><span class="n">City</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-3">{</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="9955141052-3">}</span><span class="p" data-group-id="9955141052-2">}</span><span class="p" data-group-id="9955141052-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="9955141052-4">(</span><span class="s">&quot;</span><span class="si">~-</span><span class="s">15w </span><span class="si">~w</span><span class="s"> </span><span class="si">~w</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="9955141052-5">[</span><span class="n">City</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="9955141052-5">]</span><span class="p" data-group-id="9955141052-4">)</span><span class="w"> </span><span class="k">end</span><span class="p">.</span><span class="w">
</span><span class="p">#</span><span class="n">Fun</span><span class="o">&lt;</span><span class="ss">erl_eval</span><span class="p">.</span><span class="mf">5.123085357</span><span class="o">&gt;</span><span class="gp unselectable">
91&gt; </span><span class="nc">lists</span><span class="p">:</span><span class="nf">foreach</span><span class="p" data-group-id="9955141052-6">(</span><span class="n">Print_City</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-7">[</span><span class="p" data-group-id="9955141052-8">{</span><span class="ss">moscow</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-9">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="9955141052-9">}</span><span class="p" data-group-id="9955141052-8">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-10">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-11">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p" data-group-id="9955141052-11">}</span><span class="p" data-group-id="9955141052-10">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="9955141052-12">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-13">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="9955141052-13">}</span><span class="p" data-group-id="9955141052-12">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-14">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-15">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="9955141052-15">}</span><span class="p" data-group-id="9955141052-14">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-16">{</span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9955141052-17">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p" data-group-id="9955141052-17">}</span><span class="p" data-group-id="9955141052-16">}</span><span class="p" data-group-id="9955141052-7">]</span><span class="p" data-group-id="9955141052-6">)</span><span class="p">.</span><span class="w">
</span><span class="ss">moscow</span><span class="w">          </span><span class="ss">c</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="w">
</span><span class="ss">cape_town</span><span class="w">       </span><span class="ss">f</span><span class="w"> </span><span class="mi">70</span><span class="w">
</span><span class="ss">stockholm</span><span class="w">       </span><span class="ss">c</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="w">
</span><span class="ss">paris</span><span class="w">           </span><span class="ss">f</span><span class="w"> </span><span class="mi">28</span><span class="w">
</span><span class="ss">london</span><span class="w">          </span><span class="ss">f</span><span class="w"> </span><span class="mi">36</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Let us now define a fun that can be used to go through a list of cities and
temperatures and transform them all to Celsius.</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="2417779703-1">(</span><span class="ss">tut13</span><span class="p" data-group-id="2417779703-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="2417779703-2">(</span><span class="p" data-group-id="2417779703-3">[</span><span class="ss">convert_list_to_c</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="2417779703-3">]</span><span class="p" data-group-id="2417779703-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_to_c</span><span class="p" data-group-id="2417779703-4">(</span><span class="p" data-group-id="2417779703-5">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2417779703-6">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="2417779703-6">}</span><span class="p" data-group-id="2417779703-5">}</span><span class="p" data-group-id="2417779703-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="2417779703-7">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2417779703-8">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="nf">trunc</span><span class="p" data-group-id="2417779703-9">(</span><span class="p" data-group-id="2417779703-10">(</span><span class="n">Temp</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">32</span><span class="p" data-group-id="2417779703-10">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">9</span><span class="p" data-group-id="2417779703-9">)</span><span class="p" data-group-id="2417779703-8">}</span><span class="p" data-group-id="2417779703-7">}</span><span class="p">;</span><span class="w">
</span><span class="nf">convert_to_c</span><span class="p" data-group-id="2417779703-11">(</span><span class="p" data-group-id="2417779703-12">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2417779703-13">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="2417779703-13">}</span><span class="p" data-group-id="2417779703-12">}</span><span class="p" data-group-id="2417779703-11">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="2417779703-14">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2417779703-15">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="2417779703-15">}</span><span class="p" data-group-id="2417779703-14">}</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="2417779703-16">(</span><span class="n">List</span><span class="p" data-group-id="2417779703-16">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">lists</span><span class="p">:</span><span class="nf">map</span><span class="p" data-group-id="2417779703-17">(</span><span class="k">fun</span><span class="w"> </span><span class="ss">convert_to_c</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="p" data-group-id="2417779703-17">)</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">92&gt; </span><span class="nc">tut13</span><span class="p">:</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="8898675352-1">(</span><span class="p" data-group-id="8898675352-2">[</span><span class="p" data-group-id="8898675352-3">{</span><span class="ss">moscow</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8898675352-4">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="8898675352-4">}</span><span class="p" data-group-id="8898675352-3">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8898675352-5">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8898675352-6">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p" data-group-id="8898675352-6">}</span><span class="p" data-group-id="8898675352-5">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="8898675352-7">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8898675352-8">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="8898675352-8">}</span><span class="p" data-group-id="8898675352-7">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8898675352-9">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8898675352-10">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="8898675352-10">}</span><span class="p" data-group-id="8898675352-9">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8898675352-11">{</span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8898675352-12">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p" data-group-id="8898675352-12">}</span><span class="p" data-group-id="8898675352-11">}</span><span class="p" data-group-id="8898675352-2">]</span><span class="p" data-group-id="8898675352-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8898675352-13">[</span><span class="p" data-group-id="8898675352-14">{</span><span class="ss">moscow</span><span class="p">,</span><span class="p" data-group-id="8898675352-15">{</span><span class="ss">c</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="8898675352-15">}</span><span class="p" data-group-id="8898675352-14">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="8898675352-16">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="p" data-group-id="8898675352-17">{</span><span class="ss">c</span><span class="p">,</span><span class="mi">21</span><span class="p" data-group-id="8898675352-17">}</span><span class="p" data-group-id="8898675352-16">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="8898675352-18">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="p" data-group-id="8898675352-19">{</span><span class="ss">c</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="8898675352-19">}</span><span class="p" data-group-id="8898675352-18">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="8898675352-20">{</span><span class="ss">paris</span><span class="p">,</span><span class="p" data-group-id="8898675352-21">{</span><span class="ss">c</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p" data-group-id="8898675352-21">}</span><span class="p" data-group-id="8898675352-20">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="8898675352-22">{</span><span class="ss">london</span><span class="p">,</span><span class="p" data-group-id="8898675352-23">{</span><span class="ss">c</span><span class="p">,</span><span class="mi">2</span><span class="p" data-group-id="8898675352-23">}</span><span class="p" data-group-id="8898675352-22">}</span><span class="p" data-group-id="8898675352-13">]</span></code></pre><p>The <code class="inline">convert_to_c</code> function is the same as before, but here it is used as a fun:</p><pre><code class="makeup erlang" translate="no"><span class="nc">lists</span><span class="p">:</span><span class="nf">map</span><span class="p" data-group-id="6713124291-1">(</span><span class="k">fun</span><span class="w"> </span><span class="ss">convert_to_c</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="p" data-group-id="6713124291-1">)</span></code></pre><p>When a function defined elsewhere is used as a fun, it can be referred to as
<code class="inline">Function/Arity</code> (remember that <code class="inline">Arity</code> = number of arguments). So in the
<code class="inline">map</code>-call <code class="inline">lists:map(fun convert_to_c/1, List)</code> is written. As shown,
<code class="inline">convert_list_to_c</code> becomes much shorter and easier to understand.</p><p>The standard module <code class="inline">lists</code> also contains a function <code class="inline">sort(Fun, List)</code> where
<code class="inline">Fun</code> is a fun with two arguments. This fun returns <code class="inline">true</code> if the first argument
is less than the second argument, or else <code class="inline">false</code>. Sorting is added to the
<code class="inline">convert_list_to_c</code>:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="7482940565-1">(</span><span class="ss">tut13</span><span class="p" data-group-id="7482940565-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="7482940565-2">(</span><span class="p" data-group-id="7482940565-3">[</span><span class="ss">convert_list_to_c</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="7482940565-3">]</span><span class="p" data-group-id="7482940565-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_to_c</span><span class="p" data-group-id="7482940565-4">(</span><span class="p" data-group-id="7482940565-5">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7482940565-6">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="7482940565-6">}</span><span class="p" data-group-id="7482940565-5">}</span><span class="p" data-group-id="7482940565-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7482940565-7">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7482940565-8">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="nf">trunc</span><span class="p" data-group-id="7482940565-9">(</span><span class="p" data-group-id="7482940565-10">(</span><span class="n">Temp</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">32</span><span class="p" data-group-id="7482940565-10">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">9</span><span class="p" data-group-id="7482940565-9">)</span><span class="p" data-group-id="7482940565-8">}</span><span class="p" data-group-id="7482940565-7">}</span><span class="p">;</span><span class="w">
</span><span class="nf">convert_to_c</span><span class="p" data-group-id="7482940565-11">(</span><span class="p" data-group-id="7482940565-12">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7482940565-13">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="7482940565-13">}</span><span class="p" data-group-id="7482940565-12">}</span><span class="p" data-group-id="7482940565-11">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7482940565-14">{</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7482940565-15">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp</span><span class="p" data-group-id="7482940565-15">}</span><span class="p" data-group-id="7482940565-14">}</span><span class="p">.</span><span class="w">

</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="7482940565-16">(</span><span class="n">List</span><span class="p" data-group-id="7482940565-16">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">New_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">lists</span><span class="p">:</span><span class="nf">map</span><span class="p" data-group-id="7482940565-17">(</span><span class="k">fun</span><span class="w"> </span><span class="ss">convert_to_c</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="p" data-group-id="7482940565-17">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">lists</span><span class="p">:</span><span class="nf">sort</span><span class="p" data-group-id="7482940565-18">(</span><span class="nf">fun</span><span class="p" data-group-id="7482940565-19">(</span><span class="p" data-group-id="7482940565-20">{</span><span class="p">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7482940565-21">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp1</span><span class="p" data-group-id="7482940565-21">}</span><span class="p" data-group-id="7482940565-20">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7482940565-22">{</span><span class="p">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7482940565-23">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp2</span><span class="p" data-group-id="7482940565-23">}</span><span class="p" data-group-id="7482940565-22">}</span><span class="p" data-group-id="7482940565-19">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
                       </span><span class="n">Temp1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Temp2</span><span class="w"> </span><span class="k">end</span><span class="p">,</span><span class="w"> </span><span class="n">New_list</span><span class="p" data-group-id="7482940565-18">)</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">93&gt; </span><span class="nf">c</span><span class="p" data-group-id="2642958237-1">(</span><span class="ss">tut13</span><span class="p" data-group-id="2642958237-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2642958237-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut13</span><span class="p" data-group-id="2642958237-2">}</span><span class="gp unselectable">
94&gt; </span><span class="nc">tut13</span><span class="p">:</span><span class="nf">convert_list_to_c</span><span class="p" data-group-id="2642958237-3">(</span><span class="p" data-group-id="2642958237-4">[</span><span class="p" data-group-id="2642958237-5">{</span><span class="ss">moscow</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2642958237-6">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="2642958237-6">}</span><span class="p" data-group-id="2642958237-5">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2642958237-7">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2642958237-8">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p" data-group-id="2642958237-8">}</span><span class="p" data-group-id="2642958237-7">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="2642958237-9">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2642958237-10">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="2642958237-10">}</span><span class="p" data-group-id="2642958237-9">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2642958237-11">{</span><span class="ss">paris</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2642958237-12">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p" data-group-id="2642958237-12">}</span><span class="p" data-group-id="2642958237-11">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2642958237-13">{</span><span class="ss">london</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2642958237-14">{</span><span class="ss">f</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p" data-group-id="2642958237-14">}</span><span class="p" data-group-id="2642958237-13">}</span><span class="p" data-group-id="2642958237-4">]</span><span class="p" data-group-id="2642958237-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2642958237-15">[</span><span class="p" data-group-id="2642958237-16">{</span><span class="ss">moscow</span><span class="p">,</span><span class="p" data-group-id="2642958237-17">{</span><span class="ss">c</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p" data-group-id="2642958237-17">}</span><span class="p" data-group-id="2642958237-16">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="2642958237-18">{</span><span class="ss">stockholm</span><span class="p">,</span><span class="p" data-group-id="2642958237-19">{</span><span class="ss">c</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p" data-group-id="2642958237-19">}</span><span class="p" data-group-id="2642958237-18">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="2642958237-20">{</span><span class="ss">paris</span><span class="p">,</span><span class="p" data-group-id="2642958237-21">{</span><span class="ss">c</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p" data-group-id="2642958237-21">}</span><span class="p" data-group-id="2642958237-20">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="2642958237-22">{</span><span class="ss">london</span><span class="p">,</span><span class="p" data-group-id="2642958237-23">{</span><span class="ss">c</span><span class="p">,</span><span class="mi">2</span><span class="p" data-group-id="2642958237-23">}</span><span class="p" data-group-id="2642958237-22">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="2642958237-24">{</span><span class="ss">cape_town</span><span class="p">,</span><span class="p" data-group-id="2642958237-25">{</span><span class="ss">c</span><span class="p">,</span><span class="mi">21</span><span class="p" data-group-id="2642958237-25">}</span><span class="p" data-group-id="2642958237-24">}</span><span class="p" data-group-id="2642958237-15">]</span></code></pre><p>In <code class="inline">sort</code> the fun is used:</p><pre><code class="makeup erlang" translate="no"><span class="nf">fun</span><span class="p" data-group-id="3873956736-1">(</span><span class="p" data-group-id="3873956736-2">{</span><span class="p">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3873956736-3">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp1</span><span class="p" data-group-id="3873956736-3">}</span><span class="p" data-group-id="3873956736-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3873956736-4">{</span><span class="p">_</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3873956736-5">{</span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="n">Temp2</span><span class="p" data-group-id="3873956736-5">}</span><span class="p" data-group-id="3873956736-4">}</span><span class="p" data-group-id="3873956736-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Temp1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Temp2</span><span class="w"> </span><span class="k">end</span><span class="p">,</span></code></pre><p>Here the concept of an <em>anonymous variable</em> <code class="inline">_</code> is introduced. This is simply
shorthand for a variable that gets a value, but the value is ignored. This can
be used anywhere suitable, not just in funs. <code class="inline">Temp1 &lt; Temp2</code> returns <code class="inline">true</code> if
<code class="inline">Temp1</code> is less than <code class="inline">Temp2</code>.</p>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="getting_started.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Introduction
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="conc_prog.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Concurrent Programming
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Erlang System Documentation.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
<script>
  function mermaidLoaded() {
    mermaid.initialize({
      startOnLoad: false,
      theme: document.body.className.includes("dark") ? "dark" : "default"
    });
    let id = 0;
    for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
        graphEl.innerHTML = svg;
        bindFunctions?.(graphEl);
        preEl.insertAdjacentElement("afterend", graphEl);
        preEl.remove();
      });
    }
  }
</script>
<script async src="https://cdn.jsdelivr.net/npm/mermaid@10.2.3/dist/mermaid.min.js" onload="mermaidLoaded();"></script>

  </body>
</html>
