<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test upgrade_SUITE:minor result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="upgrade_suite.src.html#minor-1">upgrade_SUITE:minor/1</a> (click for source code)

=== Config value:

    [{watchdog,&lt;0.5872.0&gt;},
     {tc_logfile,"/buildroot/otp/erts/make_test_dir/ct_logs/ct_run.test_server@2c4afe0e57b9.2024-03-12_19.08.42/make_test_dir.system_test.logs/run.2024-03-12_19.08.42/upgrade_suite.minor.html"},
     {tc_group_properties,[]},
     {tc_group_path,[]},
     {data_dir,"/buildroot/otp/erts/make_test_dir/system_test/upgrade_SUITE_data/"},
     {priv_dir,"/buildroot/otp/erts/make_test_dir/ct_logs/ct_run.test_server@2c4afe0e57b9.2024-03-12_19.08.42/make_test_dir.system_test.logs/run.2024-03-12_19.08.42/log_private/"}]

=== Current directory is "/buildroot/otp/erts/make_test_dir/ct_logs/ct_run.test_server@2c4afe0e57b9.2024-03-12_19.08.42"

=== Started at 2024-03-12 19:11:05

<br />

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:05.763 ***</b><a id=e-3 class="link-to-entry" href="#e-3">&#x1f517;</a>
minor -&gt; get current major release

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:05.763 ***</b><a id=e-4 class="link-to-entry" href="#e-4">&#x1f517;</a>
upgrade_test -&gt; entry with
      FromVsn: "27"
      ToVsn:   "27_patched"
      Config:  [{create_dir,"/buildroot/otp/erts/make_test_dir/system_test/upgrade_SUITE_data/priv_dir/minor/create"},
                {install_dir,"/buildroot/otp/erts/make_test_dir/system_test/upgrade_SUITE_data/priv_dir/minor/install"},
                {watchdog,&lt;0.5875.0&gt;},
                {tc_logfile,"/buildroot/otp/erts/make_test_dir/ct_logs/ct_run.test_server@2c4afe0e57b9.2024-03-12_19.08.42/make_test_dir.system_test.logs/run.2024-03-12_19.08.42/upgrade_suite.minor.html"},
                {tc_group_properties,[]},
                {tc_group_path,[]},
                {data_dir,"/buildroot/otp/erts/make_test_dir/system_test/upgrade_SUITE_data/"},
                {priv_dir,"/buildroot/otp/erts/make_test_dir/system_test/upgrade_SUITE_data/priv_dir/minor"}]

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:08.160 ***</b><a id=e-5 class="link-to-entry" href="#e-5">&#x1f517;</a>
upgrade_test -&gt; old release: 
      {release,"27"}

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:08.160 ***</b><a id=e-6 class="link-to-entry" href="#e-6">&#x1f517;</a>
upgrade_test1 -&gt; get create-dir

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:08.161 ***</b><a id=e-7 class="link-to-entry" href="#e-7">&#x1f517;</a>
upgrade_test1 -&gt; get install-dir

</pre></div>
<pre>
Attempt to start peer node 'otp-27' with options [{erl,[{release,"27"}]}]

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:08.161 ***</b><a id=e-8 class="link-to-entry" href="#e-8">&#x1f517;</a>
target_system -&gt; start worker node

</pre></div>
<pre>
Successfully started node 'otp-27@2c4afe0e57b9' on "2c4afe0e57b9" with command: "/buildroot/otp/erts/make_test_dir/Erlang ∅⊤℞/erts-14.2.3/bin/erl" -detached -sname otp-27 -s test_server_node node_started 2c4afe0e57b9 40381 -env ERL_CRASH_DUMP "/buildroot/otp/erts/make_test_dir/ct_logs/ct_run.test_server@2c4afe0e57b9.2024-03-12_19.08.42/erl_crash_dump.otp-27"  -setcookie UNYUUSFIBPXJTPFHYQCI 

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:10.751 ***</b><a id=e-9 class="link-to-entry" href="#e-9">&#x1f517;</a>
target_system -&gt; create relfile

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:10.753 ***</b><a id=e-10 class="link-to-entry" href="#e-10">&#x1f517;</a>
target_system -&gt; create .script and .boot

</pre></div>
<pre>


</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:10.793 ***</b><a id=e-11 class="link-to-entry" href="#e-11">&#x1f517;</a>
target_system -&gt; create base tar file

</pre></div>
<pre>


</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:15.391 ***</b><a id=e-12 class="link-to-entry" href="#e-12">&#x1f517;</a>
target_system -&gt; unpack to complete installation

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.470 ***</b><a id=e-13 class="link-to-entry" href="#e-13">&#x1f517;</a>
target_system -&gt; add bin and log dirs

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.470 ***</b><a id=e-14 class="link-to-entry" href="#e-14">&#x1f517;</a>
target_system -&gt; delete start scripts

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.471 ***</b><a id=e-15 class="link-to-entry" href="#e-15">&#x1f517;</a>
target_system -&gt; copy .boot and bin/start.boot

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.472 ***</b><a id=e-16 class="link-to-entry" href="#e-16">&#x1f517;</a>
target_system -&gt; copy scripts from erts-xxx/bin to bin

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.502 ***</b><a id=e-17 class="link-to-entry" href="#e-17">&#x1f517;</a>
target_system -&gt; create start_erl.data and sys.config

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.502 ***</b><a id=e-18 class="link-to-entry" href="#e-18">&#x1f517;</a>
target_system -&gt; insert 'start' script from data-dir

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.503 ***</b><a id=e-19 class="link-to-entry" href="#e-19">&#x1f517;</a>
target_system -&gt; make start_erl executable

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.503 ***</b><a id=e-20 class="link-to-entry" href="#e-20">&#x1f517;</a>
target_system -&gt; substitute variables

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.504 ***</b><a id=e-21 class="link-to-entry" href="#e-21">&#x1f517;</a>
target_system -&gt; create releases

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.505 ***</b><a id=e-22 class="link-to-entry" href="#e-22">&#x1f517;</a>
target_system -&gt; stop worker node

</pre></div>
<pre>
Stopped slave node: 'otp-27@2c4afe0e57b9'

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.507 ***</b><a id=e-23 class="link-to-entry" href="#e-23">&#x1f517;</a>
target_system -&gt; done

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.507 ***</b><a id=e-24 class="link-to-entry" href="#e-24">&#x1f517;</a>
upgrade_test1 -&gt; target system:
      FromRel:  "/buildroot/otp/erts/make_test_dir/system_test/upgrade_SUITE_data/priv_dir/minor/create/otp-27"
      FromApps: [{kernel,"9.2.2",permanent},
                 {stdlib,"5.2.1",permanent},
                 {xmerl,"1.3.34",temporary},
                 {tools,"3.6",temporary},
                 {tftp,"1.1.1",temporary},
                 {syntax_tools,"3.1",temporary},
                 {ssl,"11.1.2",temporary},
                 {ssh,"5.1.3",temporary},
                 {snmp,"5.15",temporary},
                 {sasl,"4.2.1",permanent},
                 {runtime_tools,"2.0.1",temporary},
                 {reltool,"1.0",temporary},
                 {public_key,"1.15.1",temporary},
                 {parsetools,"2.5",temporary},
                 {os_mon,"2.9.1",temporary},
                 {odbc,"2.14.2",temporary},
                 {mnesia,"4.23",temporary},
                 {megaco,"4.5",temporary},
                 {inets,"9.1",temporary},
                 {ftp,"1.2.1",temporary},
                 {eunit,"2.9",temporary},
                 {eldap,"1.2.12",temporary},
                 {edoc,"1.2.1",temporary},
                 {diameter,"2.3.1",temporary},
                 {crypto,"5.4.1",temporary},
                 {compiler,"8.4.2",temporary},
                 {common_test,"1.26.1",temporary},
                 {asn1,"5.2.1",temporary}]

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.508 ***</b><a id=e-25 class="link-to-entry" href="#e-25">&#x1f517;</a>
upgrade_system -&gt; create relfile

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.509 ***</b><a id=e-26 class="link-to-entry" href="#e-26">&#x1f517;</a>
upgrade_system -&gt; make script

</pre></div>
<pre>


</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.543 ***</b><a id=e-27 class="link-to-entry" href="#e-27">&#x1f517;</a>
upgrade_system -&gt; make relup

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.599 ***</b><a id=e-28 class="link-to-entry" href="#e-28">&#x1f517;</a>
upgrade_system -&gt; write system conf file

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:16.600 ***</b><a id=e-29 class="link-to-entry" href="#e-29">&#x1f517;</a>
upgrade_system -&gt; make tar

</pre></div>
<pre>


</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:21.211 ***</b><a id=e-30 class="link-to-entry" href="#e-30">&#x1f517;</a>
upgrade_system -&gt; done

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:21.211 ***</b><a id=e-31 class="link-to-entry" href="#e-31">&#x1f517;</a>
upgrade_test1 -&gt; upgrade system:
      ToRel:  "/buildroot/otp/erts/make_test_dir/system_test/upgrade_SUITE_data/priv_dir/minor/create/otp-27_patched"
      ToApps: [{kernel,"9.2.2",permanent},
               {stdlib,"5.2.1",permanent},
               {sasl,"4.2.1",permanent},
               {xmerl,"1.3.34",temporary},
               {tools,"3.6",temporary},
               {tftp,"1.1.1",temporary},
               {syntax_tools,"3.1",temporary},
               {ssl,"11.1.2",temporary},
               {ssh,"5.1.3",temporary},
               {snmp,"5.15",temporary},
               {runtime_tools,"2.0.1",temporary},
               {reltool,"1.0",temporary},
               {public_key,"1.15.1",temporary},
               {parsetools,"2.5",temporary},
               {os_mon,"2.9.1",temporary},
               {odbc,"2.14.2",temporary},
               {mnesia,"4.23",temporary},
               {megaco,"4.5",temporary},
               {inets,"9.1",temporary},
               {ftp,"1.2.1",temporary},
               {eunit,"2.9",temporary},
               {eldap,"1.2.12",temporary},
               {edoc,"1.2.1",temporary},
               {diameter,"2.3.1",temporary},
               {crypto,"5.4.1",temporary},
               {compiler,"8.4.2",temporary},
               {common_test,"1.26.1",temporary},
               {asn1,"5.2.1",temporary}]

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:21.213 ***</b><a id=e-32 class="link-to-entry" href="#e-32">&#x1f517;</a>
do_upgrade -&gt; entry with
      FromVsn:    "27"
      FromApps:   [{kernel,"9.2.2",permanent},
                   {stdlib,"5.2.1",permanent},
                   {xmerl,"1.3.34",temporary},
                   {tools,"3.6",temporary},
                   {tftp,"1.1.1",temporary},
                   {syntax_tools,"3.1",temporary},
                   {ssl,"11.1.2",temporary},
                   {ssh,"5.1.3",temporary},
                   {snmp,"5.15",temporary},
                   {sasl,"4.2.1",permanent},
                   {runtime_tools,"2.0.1",temporary},
                   {reltool,"1.0",temporary},
                   {public_key,"1.15.1",temporary},
                   {parsetools,"2.5",temporary},
                   {os_mon,"2.9.1",temporary},
                   {odbc,"2.14.2",temporary},
                   {mnesia,"4.23",temporary},
                   {megaco,"4.5",temporary},
                   {inets,"9.1",temporary},
                   {ftp,"1.2.1",temporary},
                   {eunit,"2.9",temporary},
                   {eldap,"1.2.12",temporary},
                   {edoc,"1.2.1",temporary},
                   {diameter,"2.3.1",temporary},
                   {crypto,"5.4.1",temporary},
                   {compiler,"8.4.2",temporary},
                   {common_test,"1.26.1",temporary},
                   {asn1,"5.2.1",temporary}]
      ToRel:      "/buildroot/otp/erts/make_test_dir/system_test/upgrade_SUITE_data/priv_dir/minor/create/otp-27_patched"
      ToApps:     [{kernel,"9.2.2",permanent},
                   {stdlib,"5.2.1",permanent},
                   {sasl,"4.2.1",permanent},
                   {xmerl,"1.3.34",temporary},
                   {tools,"3.6",temporary},
                   {tftp,"1.1.1",temporary},
                   {syntax_tools,"3.1",temporary},
                   {ssl,"11.1.2",temporary},
                   {ssh,"5.1.3",temporary},
                   {snmp,"5.15",temporary},
                   {runtime_tools,"2.0.1",temporary},
                   {reltool,"1.0",temporary},
                   {public_key,"1.15.1",temporary},
                   {parsetools,"2.5",temporary},
                   {os_mon,"2.9.1",temporary},
                   {odbc,"2.14.2",temporary},
                   {mnesia,"4.23",temporary},
                   {megaco,"4.5",temporary},
                   {inets,"9.1",temporary},
                   {ftp,"1.2.1",temporary},
                   {eunit,"2.9",temporary},
                   {eldap,"1.2.12",temporary},
                   {edoc,"1.2.1",temporary},
                   {diameter,"2.3.1",temporary},
                   {crypto,"5.4.1",temporary},
                   {compiler,"8.4.2",temporary},
                   {common_test,"1.26.1",temporary},
                   {asn1,"5.2.1",temporary}]
      InstallDir: "/buildroot/otp/erts/make_test_dir/system_test/upgrade_SUITE_data/priv_dir/minor/install"

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:21.213 ***</b><a id=e-33 class="link-to-entry" href="#e-33">&#x1f517;</a>
do_upgrade -&gt; start (worker from-) node

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:23.215 ***</b><a id=e-34 class="link-to-entry" href="#e-34">&#x1f517;</a>
wait_node_up -&gt; [60] get release vsn and apps

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:23.220 ***</b><a id=e-35 class="link-to-entry" href="#e-35">&#x1f517;</a>
wait_node_up -&gt; [60] expected release vsn - check apps

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:23.220 ***</b><a id=e-36 class="link-to-entry" href="#e-36">&#x1f517;</a>
wait_node_up -&gt; [60] expected apps

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:23.221 ***</b><a id=e-37 class="link-to-entry" href="#e-37">&#x1f517;</a>
do_upgrade -&gt; verify (from-) release (permanent)

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:23.221 ***</b><a id=e-38 class="link-to-entry" href="#e-38">&#x1f517;</a>
do_upgrade -&gt; copy (to-) release

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-03-12 19:11:23.298 ***</b><a id=e-39 class="link-to-entry" href="#e-39">&#x1f517;</a>
do_upgrade -&gt; unpack (to-) release

</pre></div>
<pre>

</pre>
<div class="ct_error_notify"><pre><b>*** CT Error Notification 2024-03-12 19:11:24.141 ***</b><a id=e-40 class="link-to-entry" href="#e-40">&#x1f517;</a>
upgrade_SUITE:do_upgrade failed on line 358
Reason: {badmatch,{error,{{case_clause,{error,invalid_tar_checksum}}...}

<a href="#end">Full error description and stacktrace</a>
</pre></div>
<pre>
=== WARNING: Attempt to stop a nonexisting slavenode (otp_upgrade@2c4afe0e57b9)
===          Trying to kill it anyway!!!
Stopped slave node: otp_upgrade@2c4afe0e57b9
<a name="end"></a>


=== Ended at 2024-03-12 19:11:24
=== Location: [{upgrade_SUITE,do_upgrade,<a href="upgrade_suite.src.html#358">358</a>},
              {test_server,ts_tc,1794},
              {test_server,run_test_case_eval1,1303},
              {test_server,run_test_case_eval,1235}]
=== === Reason: no match of right hand side value 
                 {error,
                     {{case_clause,{error,invalid_tar_checksum}},
                      [{release_handler,extract_tar,2,
                           [{file,"release_handler.erl"},{line,2537}]},
                       {release_handler,do_unpack_release,4,
                           [{file,"release_handler.erl"},{line,1519}]},
                       {release_handler,handle_call,3,
                           [{file,"release_handler.erl"},{line,1260}]},
                       {gen_server,try_handle_call,4,
                           [{file,"gen_server.erl"},{line,2209}]},
                       {gen_server,handle_msg,6,
                           [{file,"gen_server.erl"},{line,2238}]},
                       {proc_lib,init_p_do_apply,3,
                           [{file,"proc_lib.erl"},{line,329}]}]}}
  in function  upgrade_SUITE:do_upgrade/5 (upgrade_SUITE.erl, line 358)
  in call from test_server:ts_tc/3 (test_server.erl, line 1794)
  in call from test_server:run_test_case_eval1/6 (test_server.erl, line 1303)
  in call from test_server:run_test_case_eval/9 (test_server.erl, line 1235)
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2024 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Tue Mar 12 2024 19:11:05<!--/date--><br />
</div>
</center>
</body>
</html>
