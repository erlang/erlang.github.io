<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test socket_api_SUITE:api_opt_sock_broadcast result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="socket_api_suite.src.html#api_opt_sock_broadcast-1">socket_api_SUITE:api_opt_sock_broadcast/1</a> (click for source code)

=== Config value:

    [{watchdog,&lt;0.124898.0&gt;},
     {kernel_factor,5},
     {label,{host,undefined}},
     {tc_logfile,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@db7dc6ea0831.2025-01-22_14.54.41/make_test_dir.kernel_test.logs/run.2025-01-22_14.55.10/socket_api_suite.api_opt_sock_broadcast.html"},
     {tc_group_properties,[{name,options_socket}]},
     {tc_group_path,[[{name,options}]]},
     {data_dir,"/buildroot/otp/lib/kernel/make_test_dir/kernel_test/socket_api_SUITE_data/"},
     {priv_dir,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@db7dc6ea0831.2025-01-22_14.54.41/make_test_dir.kernel_test.logs/run.2025-01-22_14.55.10/log_private/"},
     {nodenames,[]}]

=== Current directory is "/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@db7dc6ea0831.2025-01-22_14.54.41"

=== Started at 2025-01-22 15:54:58

<br />
init_per_testcase(api_opt_sock_broadcast) -&gt; entry with
   Config: [{watchdog,&lt;0.124926.0&gt;},
            {kernel_factor,5},
            {label,{host,undefined}},
            {tc_logfile,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@db7dc6ea0831.2025-01-22_14.54.41/make_test_dir.kernel_test.logs/run.2025-01-22_14.55.10/socket_api_suite.api_opt_sock_broadcast.html"},
            {tc_group_properties,[{name,options_socket}]},
            {tc_group_path,[[{name,options}]]},
            {data_dir,"/buildroot/otp/lib/kernel/make_test_dir/kernel_test/socket_api_SUITE_data/"},
            {priv_dir,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@db7dc6ea0831.2025-01-22_14.54.41/make_test_dir.kernel_test.logs/run.2025-01-22_14.55.10/log_private/"},
            {nodenames,[]}]

[15:54:58] local host info: 
   Name:           "eth0"
   Addr:           {172,17,0,2}
   Broadcast Addr: {172,17,255,255}
[15:54:58.905] start tester evaluator
[15:54:58.905] await evaluator(s)
[15:54:58][tester][&lt;0.124928.0&gt;] evaluate command  1: [socket 1] create UDP socket (listening 1)
[15:54:58][tester][&lt;0.124928.0&gt;] evaluate command  2: [socket 1] Bind UDP socket (to limited broadcast address)
[15:54:58][tester][&lt;0.124928.0&gt;] Try bind (socket 1) to: 
   #{addr =&gt; broadcast,family =&gt; inet}
[15:54:58][tester][&lt;0.124928.0&gt;] Expected Success (bound): 33878
[15:54:58][tester][&lt;0.124928.0&gt;] evaluate command  3: [socket 1] UDP socket sockname
[15:54:58][tester][&lt;0.124928.0&gt;] SA: #{port =&gt; 33878,
                                       addr =&gt; {255,255,255,255},
                                       family =&gt; inet}
[15:54:58][tester][&lt;0.124928.0&gt;] evaluate command  4: sleep
[15:54:59][tester][&lt;0.124928.0&gt;] evaluate command  5: [socket 2] create UDP socket (listening 2)
[15:54:59][tester][&lt;0.124928.0&gt;] evaluate command  6: [socket 2] Bind UDP socket (to subnet-directed broadcast address)
[15:54:59][tester][&lt;0.124928.0&gt;] Try bind (socket 1) to: 
   #{addr =&gt; {172,17,255,255},family =&gt; inet}
[15:54:59][tester][&lt;0.124928.0&gt;] Expected Success (bound): 54039
[15:54:59][tester][&lt;0.124928.0&gt;] evaluate command  7: [socket 2] UDP socket sockname
[15:54:59][tester][&lt;0.124928.0&gt;] SA: #{port =&gt; 54039,
                                       addr =&gt; {172,17,255,255},
                                       family =&gt; inet}
[15:54:59][tester][&lt;0.124928.0&gt;] evaluate command  8: sleep
[15:55:00][tester][&lt;0.124928.0&gt;] evaluate command  9: [socket 3] create UDP socket (sender)
[15:55:00][tester][&lt;0.124928.0&gt;] evaluate command 10: [socket 3][get] verify UDP socket (before bind and set)
[15:55:00][tester][&lt;0.124928.0&gt;] Expected Success: broadcast not allowed
[15:55:00][tester][&lt;0.124928.0&gt;] evaluate command 11: [socket 3] Try make broadcast allowed
[15:55:00][tester][&lt;0.124928.0&gt;] Expected Success: broadcast now allowed
[15:55:00][tester][&lt;0.124928.0&gt;] evaluate command 12: [socket 3] verify UDP socket broadcast allowed
[15:55:00][tester][&lt;0.124928.0&gt;] Expected Success: broadcast allowed
[15:55:00][tester][&lt;0.124928.0&gt;] evaluate command 13: [socket 3] Bind UDP socket (to local address)
[15:55:00][tester][&lt;0.124928.0&gt;] Try bind (socket 2) to: 
   #{addr =&gt; {172,17,0,2},family =&gt; inet}
[15:55:00][tester][&lt;0.124928.0&gt;] Expected Success (bound): 45975
[15:55:00][tester][&lt;0.124928.0&gt;] evaluate command 14: [socket 3] verify UDP socket (after set)
[15:55:00][tester][&lt;0.124928.0&gt;] Expected Success: broadcast allowed
[15:55:00][tester][&lt;0.124928.0&gt;] evaluate command 15: sleep
[15:55:01][tester][&lt;0.124928.0&gt;] evaluate command 16: [socket 3] try send to limited broadcast address
[15:55:01][tester][&lt;0.124928.0&gt;] try send to broadcast address: 
   #{port =&gt; 33878,addr =&gt; broadcast,family =&gt; inet}
[15:55:01][tester][&lt;0.124928.0&gt;] Expected Success: broadcast message sent
[15:55:01][tester][&lt;0.124928.0&gt;] evaluate command 17: [socket 1] try recv
[15:55:01][tester][&lt;0.124928.0&gt;] Expected Success: received message
[15:55:01][tester][&lt;0.124928.0&gt;] evaluate command 18: sleep
[15:55:02][tester][&lt;0.124928.0&gt;] evaluate command 19: [socket 2] try send to subnet-directed broadcast address
[15:55:02][tester][&lt;0.124928.0&gt;] try send to broadcast address: 
   #{port =&gt; 54039,addr =&gt; {172,17,255,255},family =&gt; inet}
[15:55:02][tester][&lt;0.124928.0&gt;] &lt;ERROR&gt; Unexpected Failure: eacces =&gt; SKIP
[15:55:02][tester][&lt;0.124928.0&gt;] command 19 skip: 
   eacces
[15:55:02] await_finish -&gt; skip (exit) received: 
   Pid:    &lt;0.124928.0&gt;
   Reason: eacces
[15:55:02] evaluator 'tester' (&lt;0.124928.0&gt;) issued SKIP: 
   eacces
[15:55:02] ensure (1) evaluator(s) are terminated
[15:55:02] issue skip
<a name="end"></a>


=== Ended at 2025-01-22 15:55:02
=== Location: {socket_api_SUITE,api_opt_sock_broadcast}
=== Reason: eacces
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2025 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Wed Jan 22 2025 15:54:58<!--/date--><br />
</div>
</center>
</body>
</html>
