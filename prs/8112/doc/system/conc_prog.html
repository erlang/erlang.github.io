<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.31.1">
    <meta name="project" content="Erlang System Documentation v27.0-rc1">


    <title>Concurrent Programming â€” Erlang System Documentation v27.0-rc1</title>
    <link rel="stylesheet" href="dist/html-erlang-YUARVD4J.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-43PMFBC7.js"></script>
    <script src="dist/sidebar_items-1105547A.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-L4O5OK2K.js"></script>

<style>.dark img { background-color: white; }</style>
  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<div class="background-layer"></div>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Erlang System Documentation" />
        </a>

      <div>
        <a href="../index.html" class="sidebar-projectName" translate="no">
Erlang System Documentation
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v27.0-rc1
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">
      <div class="top-search">
        <div class="search-settings">
          <form class="search-bar" action="search.html">
            <label class="search-label">
              <span class="sr-only">Search documentation of Erlang System Documentation</span>
              <input name="q" type="text" class="search-input" placeholder="Search Documentation (press /)" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
            </label>
            <button type="submit" class="search-button" aria-label="Submit Search">
              <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
            </button>
            <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
              <i class="ri-close-line ri-lg" title="Cancel search"></i>
            </button>
          </form>
          <div class="autocomplete">
          </div>
          <button class="icon-settings display-settings">
            <i class="ri-settings-3-line"></i>
            <span class="sr-only">Settings</span>
          </button>
        </div>

      </div>

<h1>

    <a href="https://github.com/Mikaka27/otp/blob/michal/common_test/time_in_index/OTP-18981/system/doc/getting_started/conc_prog.md#L1" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>


  <span>Concurrent Programming</span>
</h1>

<h2 id="processes" class="section-heading">
  <a href="#processes" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Processes</span>
</h2>
<p>One of the main reasons for using Erlang instead of other functional languages
is Erlang's ability to handle concurrency and distributed programming. By
concurrency is meant programs that can handle several threads of execution at
the same time. For example, modern operating systems allow you to use a word
processor, a spreadsheet, a mail client, and a print job all running at the same
time. Each processor (CPU) in the system is probably only handling one thread
(or job) at a time, but it swaps between the jobs at such a rate that it gives
the illusion of running them all at the same time. It is easy to create parallel
threads of execution in an Erlang program and to allow these threads to
communicate with each other. In Erlang, each thread of execution is called a
<em>process</em>.</p><p>(Aside: the term &quot;process&quot; is usually used when the threads of execution share
no data with each other and the term &quot;thread&quot; when they share data in some way.
Threads of execution in Erlang share no data, that is why they are called
processes).</p><p>The Erlang BIF <code class="inline">spawn</code> is used to create a new process:
<code class="inline">spawn(Module, Exported_Function, List of Arguments)</code>. Consider the following
module:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="3561290504-1">(</span><span class="ss">tut14</span><span class="p" data-group-id="3561290504-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="3561290504-2">(</span><span class="p" data-group-id="3561290504-3">[</span><span class="ss">start</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">say_something</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="3561290504-3">]</span><span class="p" data-group-id="3561290504-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">say_something</span><span class="p" data-group-id="3561290504-4">(</span><span class="n">What</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="3561290504-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">done</span><span class="p">;</span><span class="w">
</span><span class="nf">say_something</span><span class="p" data-group-id="3561290504-5">(</span><span class="n">What</span><span class="p">,</span><span class="w"> </span><span class="n">Times</span><span class="p" data-group-id="3561290504-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="3561290504-6">(</span><span class="s">&quot;</span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3561290504-7">[</span><span class="n">What</span><span class="p" data-group-id="3561290504-7">]</span><span class="p" data-group-id="3561290504-6">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">say_something</span><span class="p" data-group-id="3561290504-8">(</span><span class="n">What</span><span class="p">,</span><span class="w"> </span><span class="n">Times</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="3561290504-8">)</span><span class="p">.</span><span class="w">

</span><span class="nf">start</span><span class="p" data-group-id="3561290504-9">(</span><span class="p" data-group-id="3561290504-9">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">spawn</span><span class="p" data-group-id="3561290504-10">(</span><span class="ss">tut14</span><span class="p">,</span><span class="w"> </span><span class="ss">say_something</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3561290504-11">[</span><span class="ss">hello</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="3561290504-11">]</span><span class="p" data-group-id="3561290504-10">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">spawn</span><span class="p" data-group-id="3561290504-12">(</span><span class="ss">tut14</span><span class="p">,</span><span class="w"> </span><span class="ss">say_something</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3561290504-13">[</span><span class="ss">goodbye</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="3561290504-13">]</span><span class="p" data-group-id="3561290504-12">)</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">5&gt; </span><span class="nf">c</span><span class="p" data-group-id="2808801211-1">(</span><span class="ss">tut14</span><span class="p" data-group-id="2808801211-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2808801211-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut14</span><span class="p" data-group-id="2808801211-2">}</span><span class="gp unselectable">
6&gt; </span><span class="nc">tut14</span><span class="p">:</span><span class="nf">say_something</span><span class="p" data-group-id="2808801211-3">(</span><span class="ss">hello</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="2808801211-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">hello</span><span class="w">
</span><span class="ss">hello</span><span class="w">
</span><span class="ss">hello</span><span class="w">
</span><span class="ss">done</span></code></pre><p>As shown, the function <code class="inline">say_something</code> writes its first argument the number of
times specified by second argument. The function <code class="inline">start</code> starts two Erlang
processes, one that writes &quot;hello&quot; three times and one that writes &quot;goodbye&quot;
three times. Both processes use the function <code class="inline">say_something</code>. Notice that a
function used in this way by <code class="inline">spawn</code>, to start a process, must be exported from
the module (that is, in the <code class="inline">-export</code> at the start of the module).</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">9&gt; </span><span class="nc">tut14</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="7481408877-1">(</span><span class="p" data-group-id="7481408877-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">hello</span><span class="w">
</span><span class="ss">goodbye</span><span class="w">
</span><span class="o">&lt;</span><span class="mf">0.63</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="w">
</span><span class="ss">hello</span><span class="w">
</span><span class="ss">goodbye</span><span class="w">
</span><span class="ss">hello</span><span class="w">
</span><span class="ss">goodbye</span></code></pre><p>Notice that it did not write &quot;hello&quot; three times and then &quot;goodbye&quot; three times.
Instead, the first process wrote a &quot;hello&quot;, the second a &quot;goodbye&quot;, the first
another &quot;hello&quot; and so forth. But where did the &lt;0.63.0&gt; come from? The return
value of a function is the return value of the last &quot;thing&quot; in the function. The
last thing in the function <code class="inline">start</code> is</p><pre><code class="makeup erlang" translate="no"><span class="nf">spawn</span><span class="p" data-group-id="2814247479-1">(</span><span class="ss">tut14</span><span class="p">,</span><span class="w"> </span><span class="ss">say_something</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2814247479-2">[</span><span class="ss">goodbye</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="2814247479-2">]</span><span class="p" data-group-id="2814247479-1">)</span><span class="p">.</span></code></pre><p><code class="inline">spawn</code> returns a <em>process identifier</em>, or <em>pid</em>, which uniquely identifies the
process. So &lt;0.63.0&gt; is the pid of the <code class="inline">spawn</code> function call above. The next
example shows how to use pids.</p><p>Notice also that ~p is used instead of ~w in <code class="inline">io:format</code>. To quote the manual:
&quot;~p Writes the data with standard syntax in the same way as ~w, but breaks terms
whose printed representation is longer than one line into many lines and indents
each line sensibly. It also tries to detect lists of printable characters and to
output these as strings&quot;.</p><h2 id="message-passing" class="section-heading">
  <a href="#message-passing" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Message Passing</span>
</h2>
<p>In the following example two processes are created and they send messages to
each other a number of times.</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="6397170441-1">(</span><span class="ss">tut15</span><span class="p" data-group-id="6397170441-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="6397170441-2">(</span><span class="p" data-group-id="6397170441-3">[</span><span class="ss">start</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">ping</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">/</span><span class="mi">0</span><span class="p" data-group-id="6397170441-3">]</span><span class="p" data-group-id="6397170441-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">ping</span><span class="p" data-group-id="6397170441-4">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_PID</span><span class="p" data-group-id="6397170441-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Pong_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">finished</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6397170441-5">(</span><span class="s">&quot;ping finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6397170441-6">[</span><span class="p" data-group-id="6397170441-6">]</span><span class="p" data-group-id="6397170441-5">)</span><span class="p">;</span><span class="w">

</span><span class="nf">ping</span><span class="p" data-group-id="6397170441-7">(</span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_PID</span><span class="p" data-group-id="6397170441-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Pong_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="6397170441-8">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="nf">self</span><span class="p" data-group-id="6397170441-9">(</span><span class="p" data-group-id="6397170441-9">)</span><span class="p" data-group-id="6397170441-8">}</span><span class="p">,</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="ss">pong</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6397170441-10">(</span><span class="s">&quot;Ping received pong</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6397170441-11">[</span><span class="p" data-group-id="6397170441-11">]</span><span class="p" data-group-id="6397170441-10">)</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="nf">ping</span><span class="p" data-group-id="6397170441-12">(</span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_PID</span><span class="p" data-group-id="6397170441-12">)</span><span class="p">.</span><span class="w">

</span><span class="nf">pong</span><span class="p" data-group-id="6397170441-13">(</span><span class="p" data-group-id="6397170441-13">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="ss">finished</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6397170441-14">(</span><span class="s">&quot;Pong finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6397170441-15">[</span><span class="p" data-group-id="6397170441-15">]</span><span class="p" data-group-id="6397170441-14">)</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="6397170441-16">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="n">Ping_PID</span><span class="p" data-group-id="6397170441-16">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6397170441-17">(</span><span class="s">&quot;Pong received ping</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6397170441-18">[</span><span class="p" data-group-id="6397170441-18">]</span><span class="p" data-group-id="6397170441-17">)</span><span class="p">,</span><span class="w">
            </span><span class="n">Ping_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w">
            </span><span class="nf">pong</span><span class="p" data-group-id="6397170441-19">(</span><span class="p" data-group-id="6397170441-19">)</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span><span class="w">

</span><span class="nf">start</span><span class="p" data-group-id="6397170441-20">(</span><span class="p" data-group-id="6397170441-20">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Pong_PID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">spawn</span><span class="p" data-group-id="6397170441-21">(</span><span class="ss">tut15</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6397170441-22">[</span><span class="p" data-group-id="6397170441-22">]</span><span class="p" data-group-id="6397170441-21">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">spawn</span><span class="p" data-group-id="6397170441-23">(</span><span class="ss">tut15</span><span class="p">,</span><span class="w"> </span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6397170441-24">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_PID</span><span class="p" data-group-id="6397170441-24">]</span><span class="p" data-group-id="6397170441-23">)</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nf">c</span><span class="p" data-group-id="4602760518-1">(</span><span class="ss">tut15</span><span class="p" data-group-id="4602760518-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4602760518-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">tut15</span><span class="p" data-group-id="4602760518-2">}</span><span class="gp unselectable">
2&gt; </span><span class="nc">tut15</span><span class="p">:</span><span class="w"> </span><span class="nf">start</span><span class="p" data-group-id="4602760518-3">(</span><span class="p" data-group-id="4602760518-3">)</span><span class="p">.</span><span class="w">
</span><span class="o">&lt;</span><span class="mf">0.36</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="ss">ping</span><span class="w"> </span><span class="ss">finished</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">finished</span></code></pre><p>The function <code class="inline">start</code> first creates a process, let us call it &quot;pong&quot;:</p><pre><code class="makeup erlang" translate="no"><span class="n">Pong_PID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">spawn</span><span class="p" data-group-id="2725189435-1">(</span><span class="ss">tut15</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2725189435-2">[</span><span class="p" data-group-id="2725189435-2">]</span><span class="p" data-group-id="2725189435-1">)</span></code></pre><p>This process executes <code class="inline">tut15:pong()</code>. <code class="inline">Pong_PID</code> is the process identity of the
&quot;pong&quot; process. The function <code class="inline">start</code> now creates another process &quot;ping&quot;:</p><pre><code class="makeup erlang" translate="no"><span class="nf">spawn</span><span class="p" data-group-id="4299659515-1">(</span><span class="ss">tut15</span><span class="p">,</span><span class="w"> </span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4299659515-2">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_PID</span><span class="p" data-group-id="4299659515-2">]</span><span class="p" data-group-id="4299659515-1">)</span><span class="p">,</span></code></pre><p>This process executes:</p><pre><code class="makeup erlang" translate="no"><span class="nc">tut15</span><span class="p">:</span><span class="nf">ping</span><span class="p" data-group-id="6007854657-1">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_PID</span><span class="p" data-group-id="6007854657-1">)</span></code></pre><p>&lt;0.36.0&gt; is the return value from the <code class="inline">start</code> function.</p><p>The process &quot;pong&quot; now does:</p><pre><code class="makeup erlang" translate="no"><span class="k">receive</span><span class="w">
    </span><span class="ss">finished</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
        </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="1758998773-1">(</span><span class="s">&quot;Pong finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1758998773-2">[</span><span class="p" data-group-id="1758998773-2">]</span><span class="p" data-group-id="1758998773-1">)</span><span class="p">;</span><span class="w">
    </span><span class="p" data-group-id="1758998773-3">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="n">Ping_PID</span><span class="p" data-group-id="1758998773-3">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
        </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="1758998773-4">(</span><span class="s">&quot;Pong received ping</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1758998773-5">[</span><span class="p" data-group-id="1758998773-5">]</span><span class="p" data-group-id="1758998773-4">)</span><span class="p">,</span><span class="w">
        </span><span class="n">Ping_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w">
        </span><span class="nf">pong</span><span class="p" data-group-id="1758998773-6">(</span><span class="p" data-group-id="1758998773-6">)</span><span class="w">
</span><span class="k">end</span><span class="p">.</span></code></pre><p>The <code class="inline">receive</code> construct is used to allow processes to wait for messages from
other processes. It has the following format:</p><pre><code class="makeup c" translate="no"><span class="n">receive</span><span class="w">
   </span><span class="n">pattern1</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
       </span><span class="n">actions1</span><span class="p">;</span><span class="w">
   </span><span class="n">pattern2</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
       </span><span class="n">actions2</span><span class="p">;</span><span class="w">
   </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
   </span><span class="n">patternN</span><span class="w">
       </span><span class="n">actionsN</span><span class="w">
</span><span class="n">end</span><span class="p">.</span></code></pre><p>Notice there is no &quot;;&quot; before the <code class="inline">end</code>.</p><p>Messages between Erlang processes are simply valid Erlang terms. That is, they
can be lists, tuples, integers, atoms, pids, and so on.</p><p>Each process has its own input queue for messages it receives. New messages
received are put at the end of the queue. When a process executes a <code class="inline">receive</code>,
the first message in the queue is matched against the first pattern in the
<code class="inline">receive</code>. If this matches, the message is removed from the queue and the
actions corresponding to the pattern are executed.</p><p>However, if the first pattern does not match, the second pattern is tested. If
this matches, the message is removed from the queue and the actions
corresponding to the second pattern are executed. If the second pattern does not
match, the third is tried and so on until there are no more patterns to test. If
there are no more patterns to test, the first message is kept in the queue and
the second message is tried instead. If this matches any pattern, the
appropriate actions are executed and the second message is removed from the
queue (keeping the first message and any other messages in the queue). If the
second message does not match, the third message is tried, and so on, until the
end of the queue is reached. If the end of the queue is reached, the process
blocks (stops execution) and waits until a new message is received and this
procedure is repeated.</p><p>The Erlang implementation is &quot;clever&quot; and minimizes the number of times each
message is tested against the patterns in each <code class="inline">receive</code>.</p><p>Now back to the ping pong example.</p><p>&quot;Pong&quot; is waiting for messages. If the atom <code class="inline">finished</code> is received, &quot;pong&quot;
writes &quot;Pong finished&quot; to the output and, as it has nothing more to do,
terminates. If it receives a message with the format:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="1905241399-1">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="n">Ping_PID</span><span class="p" data-group-id="1905241399-1">}</span></code></pre><p>it writes &quot;Pong received ping&quot; to the output and sends the atom <code class="inline">pong</code> to the
process &quot;ping&quot;:</p><pre><code class="makeup erlang" translate="no"><span class="n">Ping_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">pong</span></code></pre><p>Notice how the operator &quot;!&quot; is used to send messages. The syntax of &quot;!&quot; is:</p><pre><code class="makeup erlang" translate="no"><span class="n">Pid</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="n">Message</span></code></pre><p>That is, <code class="inline">Message</code> (any Erlang term) is sent to the process with identity <code class="inline">Pid</code>.</p><p>After sending the message <code class="inline">pong</code> to the process &quot;ping&quot;, &quot;pong&quot; calls the <code class="inline">pong</code>
function again, which causes it to get back to the <code class="inline">receive</code> again and wait for
another message.</p><p>Now let us look at the process &quot;ping&quot;. Recall that it was started by executing:</p><pre><code class="makeup erlang" translate="no"><span class="nc">tut15</span><span class="p">:</span><span class="nf">ping</span><span class="p" data-group-id="2565268285-1">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_PID</span><span class="p" data-group-id="2565268285-1">)</span></code></pre><p>Looking at the function <code class="inline">ping/2</code>, the second clause of <code class="inline">ping/2</code> is executed
since the value of the first argument is 3 (not 0) (first clause head is
<code class="inline">ping(0,Pong_PID)</code>, second clause head is <code class="inline">ping(N,Pong_PID)</code>, so <code class="inline">N</code> becomes 3).</p><p>The second clause sends a message to &quot;pong&quot;:</p><pre><code class="makeup erlang" translate="no"><span class="n">Pong_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="3374934599-1">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="nf">self</span><span class="p" data-group-id="3374934599-2">(</span><span class="p" data-group-id="3374934599-2">)</span><span class="p" data-group-id="3374934599-1">}</span><span class="p">,</span></code></pre><p><a href="../../erts-14.2.2/doc/html/erlang.html#self/0"><code class="inline">self/0</code></a> returns the pid of the process that executes <a href="../../erts-14.2.2/doc/html/erlang.html#self/0"><code class="inline">self/0</code></a>, in this case the
pid of &quot;ping&quot;. (Recall the code for &quot;pong&quot;, this lands up in the variable
<code class="inline">Ping_PID</code> in the <code class="inline">receive</code> previously explained.)</p><p>&quot;Ping&quot; now waits for a reply from &quot;pong&quot;:</p><pre><code class="makeup erlang" translate="no"><span class="k">receive</span><span class="w">
    </span><span class="ss">pong</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
        </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="8142155261-1">(</span><span class="s">&quot;Ping received pong</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8142155261-2">[</span><span class="p" data-group-id="8142155261-2">]</span><span class="p" data-group-id="8142155261-1">)</span><span class="w">
</span><span class="k">end</span><span class="p">,</span></code></pre><p>It writes &quot;Ping received pong&quot; when this reply arrives, after which &quot;ping&quot; calls
the <code class="inline">ping</code> function again.</p><pre><code class="makeup erlang" translate="no"><span class="nf">ping</span><span class="p" data-group-id="9535508533-1">(</span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_PID</span><span class="p" data-group-id="9535508533-1">)</span></code></pre><p><code class="inline">N-1</code> causes the first argument to be decremented until it becomes 0. When this
occurs, the first clause of <code class="inline">ping/2</code> is executed:</p><pre><code class="makeup erlang" translate="no"><span class="nf">ping</span><span class="p" data-group-id="5805761700-1">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_PID</span><span class="p" data-group-id="5805761700-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Pong_PID</span><span class="w"> </span><span class="o">!</span><span class="w">  </span><span class="ss">finished</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="5805761700-2">(</span><span class="s">&quot;ping finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5805761700-3">[</span><span class="p" data-group-id="5805761700-3">]</span><span class="p" data-group-id="5805761700-2">)</span><span class="p">;</span></code></pre><p>The atom <code class="inline">finished</code> is sent to &quot;pong&quot; (causing it to terminate as described
above) and &quot;ping finished&quot; is written to the output. &quot;Ping&quot; then terminates as
it has nothing left to do.</p><h2 id="registered-process-names" class="section-heading">
  <a href="#registered-process-names" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Registered Process Names</span>
</h2>
<p>In the above example, &quot;pong&quot; was first created to be able to give the identity
of &quot;pong&quot; when &quot;ping&quot; was started. That is, in some way &quot;ping&quot; must be able to
know the identity of &quot;pong&quot; to be able to send a message to it. Sometimes
processes which need to know each other's identities are started independently
of each other. Erlang thus provides a mechanism for processes to be given names
so that these names can be used as identities instead of pids. This is done by
using the <code class="inline">register</code> BIF:</p><pre><code class="makeup erlang" translate="no"><span class="nf">register</span><span class="p" data-group-id="8989630808-1">(</span><span class="ss">some_atom</span><span class="p">,</span><span class="w"> </span><span class="n">Pid</span><span class="p" data-group-id="8989630808-1">)</span></code></pre><p>Let us now rewrite the ping pong example using this and give the name <code class="inline">pong</code> to
the &quot;pong&quot; process:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="0709415461-1">(</span><span class="ss">tut16</span><span class="p" data-group-id="0709415461-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="0709415461-2">(</span><span class="p" data-group-id="0709415461-3">[</span><span class="ss">start</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">ping</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">/</span><span class="mi">0</span><span class="p" data-group-id="0709415461-3">]</span><span class="p" data-group-id="0709415461-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">ping</span><span class="p" data-group-id="0709415461-4">(</span><span class="mi">0</span><span class="p" data-group-id="0709415461-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">pong</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">finished</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="0709415461-5">(</span><span class="s">&quot;ping finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0709415461-6">[</span><span class="p" data-group-id="0709415461-6">]</span><span class="p" data-group-id="0709415461-5">)</span><span class="p">;</span><span class="w">

</span><span class="nf">ping</span><span class="p" data-group-id="0709415461-7">(</span><span class="n">N</span><span class="p" data-group-id="0709415461-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">pong</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="0709415461-8">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="nf">self</span><span class="p" data-group-id="0709415461-9">(</span><span class="p" data-group-id="0709415461-9">)</span><span class="p" data-group-id="0709415461-8">}</span><span class="p">,</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="ss">pong</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="0709415461-10">(</span><span class="s">&quot;Ping received pong</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0709415461-11">[</span><span class="p" data-group-id="0709415461-11">]</span><span class="p" data-group-id="0709415461-10">)</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="nf">ping</span><span class="p" data-group-id="0709415461-12">(</span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="0709415461-12">)</span><span class="p">.</span><span class="w">

</span><span class="nf">pong</span><span class="p" data-group-id="0709415461-13">(</span><span class="p" data-group-id="0709415461-13">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="ss">finished</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="0709415461-14">(</span><span class="s">&quot;Pong finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0709415461-15">[</span><span class="p" data-group-id="0709415461-15">]</span><span class="p" data-group-id="0709415461-14">)</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="0709415461-16">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="n">Ping_PID</span><span class="p" data-group-id="0709415461-16">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="0709415461-17">(</span><span class="s">&quot;Pong received ping</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0709415461-18">[</span><span class="p" data-group-id="0709415461-18">]</span><span class="p" data-group-id="0709415461-17">)</span><span class="p">,</span><span class="w">
            </span><span class="n">Ping_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w">
            </span><span class="nf">pong</span><span class="p" data-group-id="0709415461-19">(</span><span class="p" data-group-id="0709415461-19">)</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span><span class="w">

</span><span class="nf">start</span><span class="p" data-group-id="0709415461-20">(</span><span class="p" data-group-id="0709415461-20">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">register</span><span class="p" data-group-id="0709415461-21">(</span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="nf">spawn</span><span class="p" data-group-id="0709415461-22">(</span><span class="ss">tut16</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0709415461-23">[</span><span class="p" data-group-id="0709415461-23">]</span><span class="p" data-group-id="0709415461-22">)</span><span class="p" data-group-id="0709415461-21">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">spawn</span><span class="p" data-group-id="0709415461-24">(</span><span class="ss">tut16</span><span class="p">,</span><span class="w"> </span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0709415461-25">[</span><span class="mi">3</span><span class="p" data-group-id="0709415461-25">]</span><span class="p" data-group-id="0709415461-24">)</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">2&gt; </span><span class="nf">c</span><span class="p" data-group-id="3972840646-1">(</span><span class="ss">tut16</span><span class="p" data-group-id="3972840646-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3972840646-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="ss">tut16</span><span class="p" data-group-id="3972840646-2">}</span><span class="gp unselectable">
3&gt; </span><span class="nc">tut16</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="3972840646-3">(</span><span class="p" data-group-id="3972840646-3">)</span><span class="p">.</span><span class="w">
</span><span class="o">&lt;</span><span class="mf">0.38</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="ss">ping</span><span class="w"> </span><span class="ss">finished</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">finished</span></code></pre><p>Here the <code class="inline">start/0</code> function,</p><pre><code class="makeup erlang" translate="no"><span class="nf">register</span><span class="p" data-group-id="7604712818-1">(</span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="nf">spawn</span><span class="p" data-group-id="7604712818-2">(</span><span class="ss">tut16</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7604712818-3">[</span><span class="p" data-group-id="7604712818-3">]</span><span class="p" data-group-id="7604712818-2">)</span><span class="p" data-group-id="7604712818-1">)</span><span class="p">,</span></code></pre><p>both spawns the &quot;pong&quot; process and gives it the name <code class="inline">pong</code>. In the &quot;ping&quot;
process, messages can be sent to <code class="inline">pong</code> by:</p><pre><code class="makeup erlang" translate="no"><span class="ss">pong</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8796348284-1">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="nf">self</span><span class="p" data-group-id="8796348284-2">(</span><span class="p" data-group-id="8796348284-2">)</span><span class="p" data-group-id="8796348284-1">}</span><span class="p">,</span></code></pre><p><code class="inline">ping/2</code> now becomes <code class="inline">ping/1</code> as the argument <code class="inline">Pong_PID</code> is not needed.</p><h2 id="distributed-programming" class="section-heading">
  <a href="#distributed-programming" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Distributed Programming</span>
</h2>
<p>Let us rewrite the ping pong program with &quot;ping&quot; and &quot;pong&quot; on different
computers. First a few things are needed to set up to get this to work. The
distributed Erlang implementation provides a very basic authentication mechanism
to prevent unintentional access to an Erlang system on another computer. Erlang
systems which talk to each other must have the same <em>magic cookie</em>. The easiest
way to achieve this is by having a file called <code class="inline">.erlang.cookie</code> in your home
directory on all machines on which you are going to run Erlang systems
communicating with each other:</p><ul><li>On Windows systems the home directory is the directory pointed out by the
environment variable $HOME - you may need to set this.</li><li>On Linux or UNIX you can safely ignore this and simply create a file called
<code class="inline">.erlang.cookie</code> in the directory you get to after executing the command <code class="inline">cd</code>
without any argument.</li></ul><p>The <code class="inline">.erlang.cookie</code> file is to contain a line with the same atom. For example,
on Linux or UNIX, in the OS shell:</p><pre><code class="text">$ cd
$ cat &gt; .erlang.cookie
this_is_very_secret
$ chmod 400 .erlang.cookie</code></pre><p>The <code class="inline">chmod</code> above makes the <code class="inline">.erlang.cookie</code> file accessible only by the owner
of the file. This is a requirement.</p><p>When you start an Erlang system that is going to talk to other Erlang systems,
you must give it a name, for example:</p><pre><code class="text">$ erl -sname my_name</code></pre><p>We will see more details of this later. If you want to experiment with
distributed Erlang, but you only have one computer to work on, you can start two
separate Erlang systems on the same computer but give them different names. Each
Erlang system running on a computer is called an <em>Erlang node</em>.</p><p>(Note: <code class="inline">erl -sname</code> assumes that all nodes are in the same IP domain and we can
use only the first component of the IP address, if we want to use nodes in
different domains we use <code class="inline">-name</code> instead, but then all IP address must be given
in full.)</p><p>Here is the ping pong example modified to run on two separate nodes:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="5464138632-1">(</span><span class="ss">tut17</span><span class="p" data-group-id="5464138632-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="5464138632-2">(</span><span class="p" data-group-id="5464138632-3">[</span><span class="ss">start_ping</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">start_pong</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="ss">ping</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">/</span><span class="mi">0</span><span class="p" data-group-id="5464138632-3">]</span><span class="p" data-group-id="5464138632-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">ping</span><span class="p" data-group-id="5464138632-4">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="5464138632-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5464138632-5">{</span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="5464138632-5">}</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">finished</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="5464138632-6">(</span><span class="s">&quot;ping finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5464138632-7">[</span><span class="p" data-group-id="5464138632-7">]</span><span class="p" data-group-id="5464138632-6">)</span><span class="p">;</span><span class="w">

</span><span class="nf">ping</span><span class="p" data-group-id="5464138632-8">(</span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="5464138632-8">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="5464138632-9">{</span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="5464138632-9">}</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="5464138632-10">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="nf">self</span><span class="p" data-group-id="5464138632-11">(</span><span class="p" data-group-id="5464138632-11">)</span><span class="p" data-group-id="5464138632-10">}</span><span class="p">,</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="ss">pong</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="5464138632-12">(</span><span class="s">&quot;Ping received pong</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5464138632-13">[</span><span class="p" data-group-id="5464138632-13">]</span><span class="p" data-group-id="5464138632-12">)</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="nf">ping</span><span class="p" data-group-id="5464138632-14">(</span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="5464138632-14">)</span><span class="p">.</span><span class="w">

</span><span class="nf">pong</span><span class="p" data-group-id="5464138632-15">(</span><span class="p" data-group-id="5464138632-15">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="ss">finished</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="5464138632-16">(</span><span class="s">&quot;Pong finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5464138632-17">[</span><span class="p" data-group-id="5464138632-17">]</span><span class="p" data-group-id="5464138632-16">)</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="5464138632-18">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="n">Ping_PID</span><span class="p" data-group-id="5464138632-18">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="5464138632-19">(</span><span class="s">&quot;Pong received ping</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5464138632-20">[</span><span class="p" data-group-id="5464138632-20">]</span><span class="p" data-group-id="5464138632-19">)</span><span class="p">,</span><span class="w">
            </span><span class="n">Ping_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w">
            </span><span class="nf">pong</span><span class="p" data-group-id="5464138632-21">(</span><span class="p" data-group-id="5464138632-21">)</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span><span class="w">

</span><span class="nf">start_pong</span><span class="p" data-group-id="5464138632-22">(</span><span class="p" data-group-id="5464138632-22">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">register</span><span class="p" data-group-id="5464138632-23">(</span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="nf">spawn</span><span class="p" data-group-id="5464138632-24">(</span><span class="ss">tut17</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5464138632-25">[</span><span class="p" data-group-id="5464138632-25">]</span><span class="p" data-group-id="5464138632-24">)</span><span class="p" data-group-id="5464138632-23">)</span><span class="p">.</span><span class="w">

</span><span class="nf">start_ping</span><span class="p" data-group-id="5464138632-26">(</span><span class="n">Pong_Node</span><span class="p" data-group-id="5464138632-26">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">spawn</span><span class="p" data-group-id="5464138632-27">(</span><span class="ss">tut17</span><span class="p">,</span><span class="w"> </span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5464138632-28">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="5464138632-28">]</span><span class="p" data-group-id="5464138632-27">)</span><span class="p">.</span></code></pre><p>Let us assume there are two computers called gollum and kosken. First a node is
started on kosken, called ping, and then a node on gollum, called pong.</p><p>On kosken (on a Linux/UNIX system):</p><pre><code class="text">kosken&gt; erl -sname ping
Erlang (BEAM) emulator version 5.2.3.7 [hipe] [threads:0]

Eshell V5.2.3.7  (abort with ^G)
(ping@kosken)1&gt;</code></pre><p>On gollum:</p><pre><code class="text">gollum&gt; erl -sname pong
Erlang (BEAM) emulator version 5.2.3.7 [hipe] [threads:0]

Eshell V5.2.3.7  (abort with ^G)
(pong@gollum)1&gt;</code></pre><p>Now the &quot;pong&quot; process on gollum is started:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(pong@gollum)1&gt; </span><span class="nc">tut17</span><span class="p">:</span><span class="nf">start_pong</span><span class="p" data-group-id="3923313067-1">(</span><span class="p" data-group-id="3923313067-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span></code></pre><p>And the &quot;ping&quot; process on kosken is started (from the code above you can see
that a parameter of the <code class="inline">start_ping</code> function is the node name of the Erlang
system where &quot;pong&quot; is running):</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(ping@kosken)1&gt; </span><span class="nc">tut17</span><span class="p">:</span><span class="nf">start_ping</span><span class="p" data-group-id="7946387993-1">(</span><span class="ss">pong@gollum</span><span class="p" data-group-id="7946387993-1">)</span><span class="p">.</span><span class="w">
</span><span class="o">&lt;</span><span class="mf">0.37</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="ss">ping</span><span class="w"> </span><span class="ss">finished</span></code></pre><p>As shown, the ping pong program has run. On the &quot;pong&quot; side:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(pong@gollum)2&gt; </span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="nf">finished</span><span class="w">
</span><span class="p" data-group-id="6818476647-1">(</span><span class="ss">pong@gollum</span><span class="p" data-group-id="6818476647-1">)</span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span></code></pre><p>Looking at the <code class="inline">tut17</code> code, you see that the <code class="inline">pong</code> function itself is
unchanged, the following lines work in the same way irrespective of on which
node the &quot;ping&quot; process is executes:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="5729716917-1">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="n">Ping_PID</span><span class="p" data-group-id="5729716917-1">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="5729716917-2">(</span><span class="s">&quot;Pong received ping</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5729716917-3">[</span><span class="p" data-group-id="5729716917-3">]</span><span class="p" data-group-id="5729716917-2">)</span><span class="p">,</span><span class="w">
    </span><span class="n">Ping_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span></code></pre><p>Thus, Erlang pids contain information about where the process executes. So if
you know the pid of a process, the &quot;!&quot; operator can be used to send it a
message disregarding if the process is on the same node or on a different node.</p><p>A difference is how messages are sent to a registered process on another node:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3156867964-1">{</span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="3156867964-1">}</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="3156867964-2">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="nf">self</span><span class="p" data-group-id="3156867964-3">(</span><span class="p" data-group-id="3156867964-3">)</span><span class="p" data-group-id="3156867964-2">}</span><span class="p">,</span></code></pre><p>A tuple <code class="inline">{registered_name,node_name}</code> is used instead of just the
<code class="inline">registered_name</code>.</p><p>In the previous example, &quot;ping&quot; and &quot;pong&quot; were started from the shells of two
separate Erlang nodes. <code class="inline">spawn</code> can also be used to start processes in other
nodes.</p><p>The next example is the ping pong program, yet again, but this time &quot;ping&quot; is
started in another node:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="7432336477-1">(</span><span class="ss">tut18</span><span class="p" data-group-id="7432336477-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="7432336477-2">(</span><span class="p" data-group-id="7432336477-3">[</span><span class="ss">start</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="ss">ping</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">/</span><span class="mi">0</span><span class="p" data-group-id="7432336477-3">]</span><span class="p" data-group-id="7432336477-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">ping</span><span class="p" data-group-id="7432336477-4">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="7432336477-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7432336477-5">{</span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="7432336477-5">}</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">finished</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7432336477-6">(</span><span class="s">&quot;ping finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7432336477-7">[</span><span class="p" data-group-id="7432336477-7">]</span><span class="p" data-group-id="7432336477-6">)</span><span class="p">;</span><span class="w">

</span><span class="nf">ping</span><span class="p" data-group-id="7432336477-8">(</span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="7432336477-8">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7432336477-9">{</span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="7432336477-9">}</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="7432336477-10">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="nf">self</span><span class="p" data-group-id="7432336477-11">(</span><span class="p" data-group-id="7432336477-11">)</span><span class="p" data-group-id="7432336477-10">}</span><span class="p">,</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="ss">pong</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7432336477-12">(</span><span class="s">&quot;Ping received pong</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7432336477-13">[</span><span class="p" data-group-id="7432336477-13">]</span><span class="p" data-group-id="7432336477-12">)</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="nf">ping</span><span class="p" data-group-id="7432336477-14">(</span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Pong_Node</span><span class="p" data-group-id="7432336477-14">)</span><span class="p">.</span><span class="w">

</span><span class="nf">pong</span><span class="p" data-group-id="7432336477-15">(</span><span class="p" data-group-id="7432336477-15">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="ss">finished</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7432336477-16">(</span><span class="s">&quot;Pong finished</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7432336477-17">[</span><span class="p" data-group-id="7432336477-17">]</span><span class="p" data-group-id="7432336477-16">)</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="7432336477-18">{</span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="n">Ping_PID</span><span class="p" data-group-id="7432336477-18">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7432336477-19">(</span><span class="s">&quot;Pong received ping</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7432336477-20">[</span><span class="p" data-group-id="7432336477-20">]</span><span class="p" data-group-id="7432336477-19">)</span><span class="p">,</span><span class="w">
            </span><span class="n">Ping_PID</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w">
            </span><span class="nf">pong</span><span class="p" data-group-id="7432336477-21">(</span><span class="p" data-group-id="7432336477-21">)</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span><span class="w">

</span><span class="nf">start</span><span class="p" data-group-id="7432336477-22">(</span><span class="n">Ping_Node</span><span class="p" data-group-id="7432336477-22">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">register</span><span class="p" data-group-id="7432336477-23">(</span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="nf">spawn</span><span class="p" data-group-id="7432336477-24">(</span><span class="ss">tut18</span><span class="p">,</span><span class="w"> </span><span class="ss">pong</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7432336477-25">[</span><span class="p" data-group-id="7432336477-25">]</span><span class="p" data-group-id="7432336477-24">)</span><span class="p" data-group-id="7432336477-23">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">spawn</span><span class="p" data-group-id="7432336477-26">(</span><span class="n">Ping_Node</span><span class="p">,</span><span class="w"> </span><span class="ss">tut18</span><span class="p">,</span><span class="w"> </span><span class="ss">ping</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7432336477-27">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nf">node</span><span class="p" data-group-id="7432336477-28">(</span><span class="p" data-group-id="7432336477-28">)</span><span class="p" data-group-id="7432336477-27">]</span><span class="p" data-group-id="7432336477-26">)</span><span class="p">.</span></code></pre><p>Assuming an Erlang system called ping (but not the &quot;ping&quot; process) has already
been started on kosken, then on gollum this is done:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(pong@gollum)1&gt; </span><span class="nc">tut18</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="0334338069-1">(</span><span class="ss">ping@kosken</span><span class="p" data-group-id="0334338069-1">)</span><span class="p">.</span><span class="w">
</span><span class="o">&lt;</span><span class="mf">3934.39</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">ping</span><span class="w">
</span><span class="n">Ping</span><span class="w"> </span><span class="ss">received</span><span class="w"> </span><span class="ss">pong</span><span class="w">
</span><span class="n">Pong</span><span class="w"> </span><span class="ss">finished</span><span class="w">
</span><span class="ss">ping</span><span class="w"> </span><span class="ss">finished</span></code></pre><p>Notice that all the output is received on gollum. This is because the I/O system
finds out where the process is spawned from and sends all output there.</p><h2 id="a-larger-example" class="section-heading">
  <a href="#a-larger-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">A Larger Example</span>
</h2>
<p>Now for a larger example with a simple &quot;messenger&quot;. The messenger is a program
that allows users to log in on different nodes and send simple messages to each
other.</p><p>Before starting, notice the following:</p><ul><li>This example only shows the message passing logic - no attempt has been made
to provide a nice graphical user interface, although this can also be done in
Erlang.</li><li>This sort of problem can be solved easier by use of the facilities in OTP,
which also provide methods for updating code on the fly and so on (see
<a href="../../doc/system/design_principles.html">OTP Design Principles</a>).</li><li>The first program contains some inadequacies regarding handling of nodes which
disappear. These are corrected in a later version of the program.</li></ul><p>The messenger is set up by allowing &quot;clients&quot; to connect to a central server and
say who and where they are. That is, a user does not need to know the name of
the Erlang node where another user is located to send a message.</p><p>File <code class="inline">messenger.erl</code>:</p><p><a href="" id="ex"></a></p><pre><code class="makeup erlang" translate="no"><span class="c1">%%% Message passing utility.</span><span class="w">
</span><span class="c1">%%% User interface:</span><span class="w">
</span><span class="c1">%%% logon(Name)</span><span class="w">
</span><span class="c1">%%%     One user at a time can log in from each Erlang node in the</span><span class="w">
</span><span class="c1">%%%     system messenger: and choose a suitable Name. If the Name</span><span class="w">
</span><span class="c1">%%%     is already logged in at another node or if someone else is</span><span class="w">
</span><span class="c1">%%%     already logged in at the same node, login will be rejected</span><span class="w">
</span><span class="c1">%%%     with a suitable error message.</span><span class="w">
</span><span class="c1">%%% logoff()</span><span class="w">
</span><span class="c1">%%%     Logs off anybody at that node</span><span class="w">
</span><span class="c1">%%% message(ToName, Message)</span><span class="w">
</span><span class="c1">%%%     sends Message to ToName. Error messages if the user of this</span><span class="w">
</span><span class="c1">%%%     function is not logged on or if ToName is not logged on at</span><span class="w">
</span><span class="c1">%%%     any node.</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% One node in the network of Erlang nodes runs a server which maintains</span><span class="w">
</span><span class="c1">%%% data about the logged on users. The server is registered as &quot;messenger&quot;</span><span class="w">
</span><span class="c1">%%% Each node where there is a user logged on runs a client process registered</span><span class="w">
</span><span class="c1">%%% as &quot;mess_client&quot;</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% Protocol between the client processes and the server</span><span class="w">
</span><span class="c1">%%% ----------------------------------------------------</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% To server: {ClientPid, logon, UserName}</span><span class="w">
</span><span class="c1">%%% Reply {messenger, stop, user_exists_at_other_node} stops the client</span><span class="w">
</span><span class="c1">%%% Reply {messenger, logged_on} logon was successful</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% To server: {ClientPid, logoff}</span><span class="w">
</span><span class="c1">%%% Reply: {messenger, logged_off}</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% To server: {ClientPid, logoff}</span><span class="w">
</span><span class="c1">%%% Reply: no reply</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% To server: {ClientPid, message_to, ToName, Message} send a message</span><span class="w">
</span><span class="c1">%%% Reply: {messenger, stop, you_are_not_logged_on} stops the client</span><span class="w">
</span><span class="c1">%%% Reply: {messenger, receiver_not_found} no user with this name logged on</span><span class="w">
</span><span class="c1">%%% Reply: {messenger, sent} Message has been sent (but no guarantee)</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% To client: {message_from, Name, Message},</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% Protocol between the &quot;commands&quot; and the client</span><span class="w">
</span><span class="c1">%%% ----------------------------------------------</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% Started: messenger:client(Server_Node, Name)</span><span class="w">
</span><span class="c1">%%% To client: logoff</span><span class="w">
</span><span class="c1">%%% To client: {message_to, ToName, Message}</span><span class="w">
</span><span class="c1">%%%</span><span class="w">
</span><span class="c1">%%% Configuration: change the server_node() function to return the</span><span class="w">
</span><span class="c1">%%% name of the node where the messenger server runs</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="8442485907-1">(</span><span class="ss">messenger</span><span class="p" data-group-id="8442485907-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="8442485907-2">(</span><span class="p" data-group-id="8442485907-3">[</span><span class="ss">start_server</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">server</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">logon</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">logoff</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">message</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">client</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="8442485907-3">]</span><span class="p" data-group-id="8442485907-2">)</span><span class="p">.</span><span class="w">

</span><span class="c1">%%% Change the function below to return the name of the node where the</span><span class="w">
</span><span class="c1">%%% messenger server runs</span><span class="w">
</span><span class="nf">server_node</span><span class="p" data-group-id="8442485907-4">(</span><span class="p" data-group-id="8442485907-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">messenger@super</span><span class="p">.</span><span class="w">

</span><span class="c1">%%% This is the server process for the &quot;messenger&quot;</span><span class="w">
</span><span class="c1">%%% the user list has the format [{ClientPid1, Name1},{ClientPid22, Name2},...]</span><span class="w">
</span><span class="nf">server</span><span class="p" data-group-id="8442485907-5">(</span><span class="n">User_List</span><span class="p" data-group-id="8442485907-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="p" data-group-id="8442485907-6">{</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="ss">logon</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p" data-group-id="8442485907-6">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">New_User_List</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">server_logon</span><span class="p" data-group-id="8442485907-7">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-7">)</span><span class="p">,</span><span class="w">
            </span><span class="nf">server</span><span class="p" data-group-id="8442485907-8">(</span><span class="n">New_User_List</span><span class="p" data-group-id="8442485907-8">)</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="8442485907-9">{</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="ss">logoff</span><span class="p" data-group-id="8442485907-9">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">New_User_List</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">server_logoff</span><span class="p" data-group-id="8442485907-10">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-10">)</span><span class="p">,</span><span class="w">
            </span><span class="nf">server</span><span class="p" data-group-id="8442485907-11">(</span><span class="n">New_User_List</span><span class="p" data-group-id="8442485907-11">)</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="8442485907-12">{</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="ss">message_to</span><span class="p">,</span><span class="w"> </span><span class="n">To</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p" data-group-id="8442485907-12">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nf">server_transfer</span><span class="p" data-group-id="8442485907-13">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">To</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-13">)</span><span class="p">,</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="8442485907-14">(</span><span class="s">&quot;list is now: </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8442485907-15">[</span><span class="n">User_List</span><span class="p" data-group-id="8442485907-15">]</span><span class="p" data-group-id="8442485907-14">)</span><span class="p">,</span><span class="w">
            </span><span class="nf">server</span><span class="p" data-group-id="8442485907-16">(</span><span class="n">User_List</span><span class="p" data-group-id="8442485907-16">)</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span><span class="w">

</span><span class="c1">%%% Start the server</span><span class="w">
</span><span class="nf">start_server</span><span class="p" data-group-id="8442485907-17">(</span><span class="p" data-group-id="8442485907-17">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">register</span><span class="p" data-group-id="8442485907-18">(</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="nf">spawn</span><span class="p" data-group-id="8442485907-19">(</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">server</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8442485907-20">[</span><span class="p" data-group-id="8442485907-21">[</span><span class="p" data-group-id="8442485907-21">]</span><span class="p" data-group-id="8442485907-20">]</span><span class="p" data-group-id="8442485907-19">)</span><span class="p" data-group-id="8442485907-18">)</span><span class="p">.</span><span class="w">


</span><span class="c1">%%% Server adds a new user to the user list</span><span class="w">
</span><span class="nf">server_logon</span><span class="p" data-group-id="8442485907-22">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-22">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="c1">%% check if logged on anywhere else</span><span class="w">
    </span><span class="k">case</span><span class="w"> </span><span class="nc">lists</span><span class="p">:</span><span class="nf">keymember</span><span class="p" data-group-id="8442485907-23">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-23">)</span><span class="w"> </span><span class="k">of</span><span class="w">
        </span><span class="ss">true</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">From</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-24">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">stop</span><span class="p">,</span><span class="w"> </span><span class="ss">user_exists_at_other_node</span><span class="p" data-group-id="8442485907-24">}</span><span class="p">,</span><span class="w">  </span><span class="c1">%reject logon</span><span class="w">
            </span><span class="n">User_List</span><span class="p">;</span><span class="w">
        </span><span class="ss">false</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">From</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-25">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">logged_on</span><span class="p" data-group-id="8442485907-25">}</span><span class="p">,</span><span class="w">
            </span><span class="p" data-group-id="8442485907-26">[</span><span class="p" data-group-id="8442485907-27">{</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p" data-group-id="8442485907-27">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-26">]</span><span class="w">        </span><span class="c1">%add user to the list</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span><span class="w">

</span><span class="c1">%%% Server deletes a user from the user list</span><span class="w">
</span><span class="nf">server_logoff</span><span class="p" data-group-id="8442485907-28">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-28">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">lists</span><span class="p">:</span><span class="nf">keydelete</span><span class="p" data-group-id="8442485907-29">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-29">)</span><span class="p">.</span><span class="w">


</span><span class="c1">%%% Server transfers a message between user</span><span class="w">
</span><span class="nf">server_transfer</span><span class="p" data-group-id="8442485907-30">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">To</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-30">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="c1">%% check that the user is logged on and who he is</span><span class="w">
    </span><span class="k">case</span><span class="w"> </span><span class="nc">lists</span><span class="p">:</span><span class="nf">keysearch</span><span class="p" data-group-id="8442485907-31">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-31">)</span><span class="w"> </span><span class="k">of</span><span class="w">
        </span><span class="ss">false</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">From</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-32">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">stop</span><span class="p">,</span><span class="w"> </span><span class="ss">you_are_not_logged_on</span><span class="p" data-group-id="8442485907-32">}</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="8442485907-33">{</span><span class="ss">value</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8442485907-34">{</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p" data-group-id="8442485907-34">}</span><span class="p" data-group-id="8442485907-33">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nf">server_transfer</span><span class="p" data-group-id="8442485907-35">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">To</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-35">)</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span><span class="w">
</span><span class="c1">%%% If the user exists, send the message</span><span class="w">
</span><span class="nf">server_transfer</span><span class="p" data-group-id="8442485907-36">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">To</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-36">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="c1">%% Find the receiver and send the message</span><span class="w">
    </span><span class="k">case</span><span class="w"> </span><span class="nc">lists</span><span class="p">:</span><span class="nf">keysearch</span><span class="p" data-group-id="8442485907-37">(</span><span class="n">To</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="8442485907-37">)</span><span class="w"> </span><span class="k">of</span><span class="w">
        </span><span class="ss">false</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">From</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-38">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">receiver_not_found</span><span class="p" data-group-id="8442485907-38">}</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="8442485907-39">{</span><span class="ss">value</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8442485907-40">{</span><span class="n">ToPid</span><span class="p">,</span><span class="w"> </span><span class="n">To</span><span class="p" data-group-id="8442485907-40">}</span><span class="p" data-group-id="8442485907-39">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">ToPid</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-41">{</span><span class="ss">message_from</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p" data-group-id="8442485907-41">}</span><span class="p">,</span><span class="w">
            </span><span class="n">From</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-42">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">sent</span><span class="p" data-group-id="8442485907-42">}</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span><span class="w">


</span><span class="c1">%%% User Commands</span><span class="w">
</span><span class="nf">logon</span><span class="p" data-group-id="8442485907-43">(</span><span class="n">Name</span><span class="p" data-group-id="8442485907-43">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">case</span><span class="w"> </span><span class="nf">whereis</span><span class="p" data-group-id="8442485907-44">(</span><span class="ss">mess_client</span><span class="p" data-group-id="8442485907-44">)</span><span class="w"> </span><span class="k">of</span><span class="w">
        </span><span class="ss">undefined</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nf">register</span><span class="p" data-group-id="8442485907-45">(</span><span class="ss">mess_client</span><span class="p">,</span><span class="w">
                     </span><span class="nf">spawn</span><span class="p" data-group-id="8442485907-46">(</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">client</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8442485907-47">[</span><span class="nf">server_node</span><span class="p" data-group-id="8442485907-48">(</span><span class="p" data-group-id="8442485907-48">)</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p" data-group-id="8442485907-47">]</span><span class="p" data-group-id="8442485907-46">)</span><span class="p" data-group-id="8442485907-45">)</span><span class="p">;</span><span class="w">
        </span><span class="p">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">already_logged_on</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span><span class="w">

</span><span class="nf">logoff</span><span class="p" data-group-id="8442485907-49">(</span><span class="p" data-group-id="8442485907-49">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">mess_client</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="ss">logoff</span><span class="p">.</span><span class="w">

</span><span class="nf">message</span><span class="p" data-group-id="8442485907-50">(</span><span class="n">ToName</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p" data-group-id="8442485907-50">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">case</span><span class="w"> </span><span class="nf">whereis</span><span class="p" data-group-id="8442485907-51">(</span><span class="ss">mess_client</span><span class="p" data-group-id="8442485907-51">)</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="c1">% Test if the client is running</span><span class="w">
        </span><span class="ss">undefined</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="ss">not_logged_on</span><span class="p">;</span><span class="w">
        </span><span class="p">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">mess_client</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-52">{</span><span class="ss">message_to</span><span class="p">,</span><span class="w"> </span><span class="n">ToName</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p" data-group-id="8442485907-52">}</span><span class="p">,</span><span class="w">
             </span><span class="ss">ok</span><span class="w">
</span><span class="k">end</span><span class="p">.</span><span class="w">


</span><span class="c1">%%% The client process which runs on each server node</span><span class="w">
</span><span class="nf">client</span><span class="p" data-group-id="8442485907-53">(</span><span class="n">Server_Node</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p" data-group-id="8442485907-53">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="8442485907-54">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="n">Server_Node</span><span class="p" data-group-id="8442485907-54">}</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-55">{</span><span class="nf">self</span><span class="p" data-group-id="8442485907-56">(</span><span class="p" data-group-id="8442485907-56">)</span><span class="p">,</span><span class="w"> </span><span class="ss">logon</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p" data-group-id="8442485907-55">}</span><span class="p">,</span><span class="w">
    </span><span class="nf">await_result</span><span class="p" data-group-id="8442485907-57">(</span><span class="p" data-group-id="8442485907-57">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">client</span><span class="p" data-group-id="8442485907-58">(</span><span class="n">Server_Node</span><span class="p" data-group-id="8442485907-58">)</span><span class="p">.</span><span class="w">

</span><span class="nf">client</span><span class="p" data-group-id="8442485907-59">(</span><span class="n">Server_Node</span><span class="p" data-group-id="8442485907-59">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="ss">logoff</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="p" data-group-id="8442485907-60">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="n">Server_Node</span><span class="p" data-group-id="8442485907-60">}</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-61">{</span><span class="nf">self</span><span class="p" data-group-id="8442485907-62">(</span><span class="p" data-group-id="8442485907-62">)</span><span class="p">,</span><span class="w"> </span><span class="ss">logoff</span><span class="p" data-group-id="8442485907-61">}</span><span class="p">,</span><span class="w">
            </span><span class="nf">exit</span><span class="p" data-group-id="8442485907-63">(</span><span class="ss">normal</span><span class="p" data-group-id="8442485907-63">)</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="8442485907-64">{</span><span class="ss">message_to</span><span class="p">,</span><span class="w"> </span><span class="n">ToName</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p" data-group-id="8442485907-64">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="p" data-group-id="8442485907-65">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="n">Server_Node</span><span class="p" data-group-id="8442485907-65">}</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8442485907-66">{</span><span class="nf">self</span><span class="p" data-group-id="8442485907-67">(</span><span class="p" data-group-id="8442485907-67">)</span><span class="p">,</span><span class="w"> </span><span class="ss">message_to</span><span class="p">,</span><span class="w"> </span><span class="n">ToName</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p" data-group-id="8442485907-66">}</span><span class="p">,</span><span class="w">
            </span><span class="nf">await_result</span><span class="p" data-group-id="8442485907-68">(</span><span class="p" data-group-id="8442485907-68">)</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="8442485907-69">{</span><span class="ss">message_from</span><span class="p">,</span><span class="w"> </span><span class="n">FromName</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p" data-group-id="8442485907-69">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="8442485907-70">(</span><span class="s">&quot;Message from </span><span class="si">~p</span><span class="s">: </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8442485907-71">[</span><span class="n">FromName</span><span class="p">,</span><span class="w"> </span><span class="n">Message</span><span class="p" data-group-id="8442485907-71">]</span><span class="p" data-group-id="8442485907-70">)</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="nf">client</span><span class="p" data-group-id="8442485907-72">(</span><span class="n">Server_Node</span><span class="p" data-group-id="8442485907-72">)</span><span class="p">.</span><span class="w">

</span><span class="c1">%%% wait for a response from the server</span><span class="w">
</span><span class="nf">await_result</span><span class="p" data-group-id="8442485907-73">(</span><span class="p" data-group-id="8442485907-73">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="p" data-group-id="8442485907-74">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">stop</span><span class="p">,</span><span class="w"> </span><span class="n">Why</span><span class="p" data-group-id="8442485907-74">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="c1">% Stop the client</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="8442485907-75">(</span><span class="s">&quot;</span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8442485907-76">[</span><span class="n">Why</span><span class="p" data-group-id="8442485907-76">]</span><span class="p" data-group-id="8442485907-75">)</span><span class="p">,</span><span class="w">
            </span><span class="nf">exit</span><span class="p" data-group-id="8442485907-77">(</span><span class="ss">normal</span><span class="p" data-group-id="8442485907-77">)</span><span class="p">;</span><span class="w">
        </span><span class="p" data-group-id="8442485907-78">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="n">What</span><span class="p" data-group-id="8442485907-78">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">  </span><span class="c1">% Normal response</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="8442485907-79">(</span><span class="s">&quot;</span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8442485907-80">[</span><span class="n">What</span><span class="p" data-group-id="8442485907-80">]</span><span class="p" data-group-id="8442485907-79">)</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span></code></pre><p>To use this program, you need to:</p><ul><li>Configure the <code class="inline">server_node()</code> function.</li><li>Copy the compiled code (<code class="inline">messenger.beam</code>) to the directory on each computer
where you start Erlang.</li></ul><p>In the following example using this program, nodes are started on four different
computers. If you do not have that many machines available on your network, you
can start several nodes on the same machine.</p><p>Four Erlang nodes are started up: messenger@super, c1@bilbo, c2@kosken,
c3@gollum.</p><p>First the server at messenger@super is started up:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(messenger@super)1&gt; </span><span class="nc">messenger</span><span class="p">:</span><span class="nf">start_server</span><span class="p" data-group-id="8396467483-1">(</span><span class="p" data-group-id="8396467483-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span></code></pre><p>Now Peter logs on at c1@bilbo:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(c1@bilbo)1&gt; </span><span class="nc">messenger</span><span class="p">:</span><span class="nf">logon</span><span class="p" data-group-id="1998834823-1">(</span><span class="ss">peter</span><span class="p" data-group-id="1998834823-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span><span class="w">
</span><span class="ss">logged_on</span></code></pre><p>James logs on at c2@kosken:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(c2@kosken)1&gt; </span><span class="nc">messenger</span><span class="p">:</span><span class="nf">logon</span><span class="p" data-group-id="6943019264-1">(</span><span class="ss">james</span><span class="p" data-group-id="6943019264-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span><span class="w">
</span><span class="ss">logged_on</span></code></pre><p>And Fred logs on at c3@gollum:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(c3@gollum)1&gt; </span><span class="nc">messenger</span><span class="p">:</span><span class="nf">logon</span><span class="p" data-group-id="1589013221-1">(</span><span class="ss">fred</span><span class="p" data-group-id="1589013221-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span><span class="w">
</span><span class="ss">logged_on</span></code></pre><p>Now Peter sends Fred a message:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(c1@bilbo)2&gt; </span><span class="nc">messenger</span><span class="p">:</span><span class="nf">message</span><span class="p" data-group-id="2667315189-1">(</span><span class="ss">fred</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="2667315189-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="w">
</span><span class="ss">sent</span></code></pre><p>Fred receives the message and sends a message to Peter and logs off:</p><pre><code class="makeup erlang" translate="no"><span class="n">Message</span><span class="w"> </span><span class="ss">from</span><span class="w"> </span><span class="nc">peter</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="gp unselectable">
(c3@gollum)2&gt; </span><span class="nc">messenger</span><span class="p">:</span><span class="nf">message</span><span class="p" data-group-id="0338045191-1">(</span><span class="ss">peter</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;go away, I&#39;m busy&quot;</span><span class="p" data-group-id="0338045191-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="w">
</span><span class="nf">sent</span><span class="w">
</span><span class="p" data-group-id="0338045191-2">(</span><span class="ss">c3@gollum</span><span class="p" data-group-id="0338045191-2">)</span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">messenger</span><span class="p">:</span><span class="nf">logoff</span><span class="p" data-group-id="0338045191-3">(</span><span class="p" data-group-id="0338045191-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">logoff</span></code></pre><p>James now tries to send a message to Fred:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(c2@kosken)2&gt; </span><span class="nc">messenger</span><span class="p">:</span><span class="nf">message</span><span class="p" data-group-id="4017059855-1">(</span><span class="ss">fred</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;peter doesn&#39;t like you&quot;</span><span class="p" data-group-id="4017059855-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="w">
</span><span class="ss">receiver_not_found</span></code></pre><p>But this fails as Fred has already logged off.</p><p>First let us look at some of the new concepts that have been introduced.</p><p>There are two versions of the <code class="inline">server_transfer</code> function: one with four
arguments (<code class="inline">server_transfer/4</code>) and one with five (<code class="inline">server_transfer/5</code>). These
are regarded by Erlang as two separate functions.</p><p>Notice how to write the <code class="inline">server</code> function so that it calls itself, through
<code class="inline">server(User_List)</code>, and thus creates a loop. The Erlang compiler is &quot;clever&quot;
and optimizes the code so that this really is a sort of loop and not a proper
function call. But this only works if there is no code after the call.
Otherwise, the compiler expects the call to return and make a proper function
call. This would result in the process getting bigger and bigger for every loop.</p><p>Functions in the <code class="inline">lists</code> module are used. This is a very useful module and a
study of the manual page is recommended (<code class="inline">erl -man lists</code>).
<code class="inline">lists:keymember(Key,Position,Lists)</code> looks through a list of tuples and looks
at <code class="inline">Position</code> in each tuple to see if it is the same as <code class="inline">Key</code>. The first element
is position 1. If it finds a tuple where the element at <code class="inline">Position</code> is the same
as <code class="inline">Key</code>, it returns <code class="inline">true</code>, otherwise <code class="inline">false</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">3&gt; </span><span class="nc">lists</span><span class="p">:</span><span class="nf">keymember</span><span class="p" data-group-id="7885594627-1">(</span><span class="ss">a</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7885594627-2">[</span><span class="p" data-group-id="7885594627-3">{</span><span class="ss">x</span><span class="p">,</span><span class="ss">y</span><span class="p">,</span><span class="ss">z</span><span class="p" data-group-id="7885594627-3">}</span><span class="p">,</span><span class="p" data-group-id="7885594627-4">{</span><span class="ss">b</span><span class="p">,</span><span class="ss">b</span><span class="p">,</span><span class="ss">b</span><span class="p" data-group-id="7885594627-4">}</span><span class="p">,</span><span class="p" data-group-id="7885594627-5">{</span><span class="ss">b</span><span class="p">,</span><span class="ss">a</span><span class="p">,</span><span class="ss">c</span><span class="p" data-group-id="7885594627-5">}</span><span class="p">,</span><span class="p" data-group-id="7885594627-6">{</span><span class="ss">q</span><span class="p">,</span><span class="ss">r</span><span class="p">,</span><span class="ss">s</span><span class="p" data-group-id="7885594627-6">}</span><span class="p" data-group-id="7885594627-2">]</span><span class="p" data-group-id="7885594627-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span><span class="gp unselectable">
4&gt; </span><span class="nc">lists</span><span class="p">:</span><span class="nf">keymember</span><span class="p" data-group-id="7885594627-7">(</span><span class="ss">p</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7885594627-8">[</span><span class="p" data-group-id="7885594627-9">{</span><span class="ss">x</span><span class="p">,</span><span class="ss">y</span><span class="p">,</span><span class="ss">z</span><span class="p" data-group-id="7885594627-9">}</span><span class="p">,</span><span class="p" data-group-id="7885594627-10">{</span><span class="ss">b</span><span class="p">,</span><span class="ss">b</span><span class="p">,</span><span class="ss">b</span><span class="p" data-group-id="7885594627-10">}</span><span class="p">,</span><span class="p" data-group-id="7885594627-11">{</span><span class="ss">b</span><span class="p">,</span><span class="ss">a</span><span class="p">,</span><span class="ss">c</span><span class="p" data-group-id="7885594627-11">}</span><span class="p">,</span><span class="p" data-group-id="7885594627-12">{</span><span class="ss">q</span><span class="p">,</span><span class="ss">r</span><span class="p">,</span><span class="ss">s</span><span class="p" data-group-id="7885594627-12">}</span><span class="p" data-group-id="7885594627-8">]</span><span class="p" data-group-id="7885594627-7">)</span><span class="p">.</span><span class="w">
</span><span class="ss">false</span></code></pre><p><code class="inline">lists:keydelete</code> works in the same way but deletes the first tuple found (if
any) and returns the remaining list:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">5&gt; </span><span class="nc">lists</span><span class="p">:</span><span class="nf">keydelete</span><span class="p" data-group-id="7689933137-1">(</span><span class="ss">a</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7689933137-2">[</span><span class="p" data-group-id="7689933137-3">{</span><span class="ss">x</span><span class="p">,</span><span class="ss">y</span><span class="p">,</span><span class="ss">z</span><span class="p" data-group-id="7689933137-3">}</span><span class="p">,</span><span class="p" data-group-id="7689933137-4">{</span><span class="ss">b</span><span class="p">,</span><span class="ss">b</span><span class="p">,</span><span class="ss">b</span><span class="p" data-group-id="7689933137-4">}</span><span class="p">,</span><span class="p" data-group-id="7689933137-5">{</span><span class="ss">b</span><span class="p">,</span><span class="ss">a</span><span class="p">,</span><span class="ss">c</span><span class="p" data-group-id="7689933137-5">}</span><span class="p">,</span><span class="p" data-group-id="7689933137-6">{</span><span class="ss">q</span><span class="p">,</span><span class="ss">r</span><span class="p">,</span><span class="ss">s</span><span class="p" data-group-id="7689933137-6">}</span><span class="p" data-group-id="7689933137-2">]</span><span class="p" data-group-id="7689933137-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7689933137-7">[</span><span class="p" data-group-id="7689933137-8">{</span><span class="ss">x</span><span class="p">,</span><span class="ss">y</span><span class="p">,</span><span class="ss">z</span><span class="p" data-group-id="7689933137-8">}</span><span class="p">,</span><span class="p" data-group-id="7689933137-9">{</span><span class="ss">b</span><span class="p">,</span><span class="ss">b</span><span class="p">,</span><span class="ss">b</span><span class="p" data-group-id="7689933137-9">}</span><span class="p">,</span><span class="p" data-group-id="7689933137-10">{</span><span class="ss">q</span><span class="p">,</span><span class="ss">r</span><span class="p">,</span><span class="ss">s</span><span class="p" data-group-id="7689933137-10">}</span><span class="p" data-group-id="7689933137-7">]</span></code></pre><p><code class="inline">lists:keysearch</code> is like <code class="inline">lists:keymember</code>, but it returns
<code class="inline">{value,Tuple_Found}</code> or the atom <code class="inline">false</code>.</p><p>There are many very useful functions in the <code class="inline">lists</code> module.</p><p>An Erlang process (conceptually) runs until it does a <code class="inline">receive</code> and there is no
message which it wants to receive in the message queue. &quot;conceptually&quot; is used
here because the Erlang system shares the CPU time between the active processes
in the system.</p><p>A process terminates when there is nothing more for it to do, that is, the last
function it calls simply returns and does not call another function. Another way
for a process to terminate is for it to call <a href="../../erts-14.2.2/doc/html/erlang.html#exit/1"><code class="inline">exit/1</code></a>. The argument
to <a href="../../erts-14.2.2/doc/html/erlang.html#exit/1"><code class="inline">exit/1</code></a> has a special meaning, which is discussed later. In this
example, <a href="../../erts-14.2.2/doc/html/erlang.html#exit/1"><code class="inline">exit(normal)</code></a> is done, which has the same effect as a
process running out of functions to call.</p><p>The BIF <a href="../../erts-14.2.2/doc/html/erlang.html#whereis/1"><code class="inline">whereis(RegisteredName)</code></a> checks if a registered process
of name <code class="inline">RegisteredName</code> exists. If it exists, the pid of that process is
returned. If it does not exist, the atom <code class="inline">undefined</code> is returned.</p><p>You should by now be able to understand most of the code in the
messenger-module. Let us study one case in detail: a message is sent from one
user to another.</p><p>The first user &quot;sends&quot; the message in the example above by:</p><pre><code class="makeup erlang" translate="no"><span class="nc">messenger</span><span class="p">:</span><span class="nf">message</span><span class="p" data-group-id="1900003076-1">(</span><span class="ss">fred</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="1900003076-1">)</span></code></pre><p>After testing that the client process exists:</p><pre><code class="makeup erlang" translate="no"><span class="nf">whereis</span><span class="p" data-group-id="4779012899-1">(</span><span class="ss">mess_client</span><span class="p" data-group-id="4779012899-1">)</span></code></pre><p>And a message is sent to <code class="inline">mess_client</code>:</p><pre><code class="makeup erlang" translate="no"><span class="ss">mess_client</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="8542271939-1">{</span><span class="ss">message_to</span><span class="p">,</span><span class="w"> </span><span class="ss">fred</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="8542271939-1">}</span></code></pre><p>The client sends the message to the server by:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3476307893-1">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">messenger@super</span><span class="p" data-group-id="3476307893-1">}</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="3476307893-2">{</span><span class="nf">self</span><span class="p" data-group-id="3476307893-3">(</span><span class="p" data-group-id="3476307893-3">)</span><span class="p">,</span><span class="w"> </span><span class="ss">message_to</span><span class="p">,</span><span class="w"> </span><span class="ss">fred</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="3476307893-2">}</span><span class="p">,</span></code></pre><p>And waits for a reply from the server.</p><p>The server receives this message and calls:</p><pre><code class="makeup erlang" translate="no"><span class="nf">server_transfer</span><span class="p" data-group-id="7218454334-1">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="ss">fred</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="7218454334-1">)</span><span class="p">,</span></code></pre><p>This checks that the pid <code class="inline">From</code> is in the <code class="inline">User_List</code>:</p><pre><code class="makeup erlang" translate="no"><span class="nc">lists</span><span class="p">:</span><span class="nf">keysearch</span><span class="p" data-group-id="9480076188-1">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="9480076188-1">)</span></code></pre><p>If <code class="inline">keysearch</code> returns the atom <code class="inline">false</code>, some error has occurred and the server
sends back the message:</p><pre><code class="makeup erlang" translate="no"><span class="n">From</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="5218532486-1">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">stop</span><span class="p">,</span><span class="w"> </span><span class="ss">you_are_not_logged_on</span><span class="p" data-group-id="5218532486-1">}</span></code></pre><p>This is received by the client, which in turn does <a href="../../erts-14.2.2/doc/html/erlang.html#exit/1"><code class="inline">exit(normal)</code></a>
and terminates. If <code class="inline">keysearch</code> returns <code class="inline">{value,{From,Name}}</code> it is certain that
the user is logged on and that his name (peter) is in variable <code class="inline">Name</code>.</p><p>Let us now call:</p><pre><code class="makeup erlang" translate="no"><span class="nf">server_transfer</span><span class="p" data-group-id="7963422884-1">(</span><span class="n">From</span><span class="p">,</span><span class="w"> </span><span class="ss">peter</span><span class="p">,</span><span class="w"> </span><span class="ss">fred</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="7963422884-1">)</span></code></pre><p>Notice that as this is <code class="inline">server_transfer/5</code>, it is not the same as the previous
function <code class="inline">server_transfer/4</code>. Another <code class="inline">keysearch</code> is done on <code class="inline">User_List</code> to find
the pid of the client corresponding to fred:</p><pre><code class="makeup erlang" translate="no"><span class="nc">lists</span><span class="p">:</span><span class="nf">keysearch</span><span class="p" data-group-id="3754103130-1">(</span><span class="ss">fred</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">User_List</span><span class="p" data-group-id="3754103130-1">)</span></code></pre><p>This time argument 2 is used, which is the second element in the tuple. If this
returns the atom <code class="inline">false</code>, fred is not logged on and the following message is
sent:</p><pre><code class="makeup erlang" translate="no"><span class="n">From</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="2579620698-1">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">receiver_not_found</span><span class="p" data-group-id="2579620698-1">}</span><span class="p">;</span></code></pre><p>This is received by the client.</p><p>If <code class="inline">keysearch</code> returns:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="1216778412-1">{</span><span class="ss">value</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1216778412-2">{</span><span class="n">ToPid</span><span class="p">,</span><span class="w"> </span><span class="ss">fred</span><span class="p" data-group-id="1216778412-2">}</span><span class="p" data-group-id="1216778412-1">}</span></code></pre><p>The following message is sent to fred's client:</p><pre><code class="makeup erlang" translate="no"><span class="n">ToPid</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="1991692471-1">{</span><span class="ss">message_from</span><span class="p">,</span><span class="w"> </span><span class="ss">peter</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="1991692471-1">}</span><span class="p">,</span></code></pre><p>The following message is sent to peter's client:</p><pre><code class="makeup erlang" translate="no"><span class="n">From</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="9919876081-1">{</span><span class="ss">messenger</span><span class="p">,</span><span class="w"> </span><span class="ss">sent</span><span class="p" data-group-id="9919876081-1">}</span></code></pre><p>Fred's client receives the message and prints it:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="4342556600-1">{</span><span class="ss">message_from</span><span class="p">,</span><span class="w"> </span><span class="ss">peter</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="4342556600-1">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="4342556600-2">(</span><span class="s">&quot;Message from </span><span class="si">~p</span><span class="s">: </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4342556600-3">[</span><span class="ss">peter</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="4342556600-3">]</span><span class="p" data-group-id="4342556600-2">)</span></code></pre><p>Peter's client receives the message in the <code class="inline">await_result</code> function.</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="seq_prog.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          â† Previous Page
        </span>
        <span class="title">
Sequential Programming
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="robustness.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page â†’
        </span>
        <span class="title">
Robustness
        </span>
      </a>

  </div>
</div>
      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

              <a href="Erlang System Documentation.epub" title="ePub version">
                Download ePub version
              </a>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.31.1) for the

            <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

        </p>
      </footer>
    </div>
  </div>
</main>
</div>


  </body>
</html>
