<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ssh_connection_SUITE:start_shell_exec result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ssh_connection_suite.src.html#start_shell_exec-1">ssh_connection_SUITE:start_shell_exec/1</a> (click for source code)

=== Config value:

    [{ptty_supported,true},
     {watchdog,&lt;0.17215.0&gt;},
     {tc_logfile,"/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@16e96cc34c9f.2024-09-24_09.03.25/make_test_dir.ssh_test.logs/run.2024-09-24_09.03.26/ssh_connection_suite.start_shell_exec.html"},
     {tc_group_properties,[]},
     {tc_group_path,[]},
     {data_dir,"/buildroot/otp/lib/ssh/make_test_dir/ssh_test/ssh_connection_SUITE_data/"},
     {priv_dir,"/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@16e96cc34c9f.2024-09-24_09.03.25/make_test_dir.ssh_test.logs/run.2024-09-24_09.03.26/log_private/"}]

=== Current directory is "/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@16e96cc34c9f.2024-09-24_09.03.25"

=== Started at 2024-09-24 09:06:18

<br />

</pre>
<div class="default"><pre><b>*** User 2024-09-24 09:06:18.910 ***</b><a id=e-10423 class="link-to-entry" href="#e-10423">&#x1f517;</a>
ssh_test_lib:200 Calling ssh:daemon(any, 0, [{system_dir,
                                              "/buildroot/otp/lib/ssh/make_test_dir/ssh_test/ssh_connection_SUITE_data/"},
                                             {user_dir,
                                              "/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@16e96cc34c9f.2024-09-24_09.03.25/make_test_dir.ssh_test.logs/run.2024-09-24_09.03.26/log_private/nopubkey"},
                                             {password,"morot"},
                                             {exec,
                                              {ssh_connection_SUITE,
                                               ssh_exec_echo,
                                               ["foo"]}}])
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-24 09:06:18.911 ***</b><a id=e-10424 class="link-to-entry" href="#e-10424">&#x1f517;</a>
ssh_test_lib:204 ssh:daemon_info(<0.17689.0>) ->
 {ok,[{port,45033},
      {ip,{0,0,0,0}},
      {profile,default},
      {options,[{exec,{ssh_connection_SUITE,ssh_exec_echo,["foo"]}},
                {password,"morot"},
                {pref_public_key_algs,['ssh-ed25519','ssh-ed448',
                                       'ecdsa-sha2-nistp521',
                                       'ecdsa-sha2-nistp384',
                                       'ecdsa-sha2-nistp256','rsa-sha2-512',
                                       'rsa-sha2-256']},
                {system_dir,"/buildroot/otp/lib/ssh/make_test_dir/ssh_test/ssh_connection_SUITE_data/"},
                {user_dir,"/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@16e96cc34c9f.2024-09-24_09.03.25/make_test_dir.ssh_test.logs/run.2024-09-24_09.03.26/log_private/nopubkey"}]}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-24 09:06:18.916 ***</b><a id=e-10425 class="link-to-entry" href="#e-10425">&#x1f517;</a>
ssh_test_lib:175 ssh:connect({0,0,0,0}, 45033, [{silently_accept_hosts,true},
                                                {user,"foo"},
                                                {password,"morot"},
                                                {user_interaction,true},
                                                {user_dir,
                                                 "/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@16e96cc34c9f.2024-09-24_09.03.25/make_test_dir.ssh_test.logs/run.2024-09-24_09.03.26/log_private/nopubkey"}])
 -> {ok,<0.17693.0>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-24 09:06:18.917 ***</b><a id=e-10426 class="link-to-entry" href="#e-10426">&#x1f517;</a>
ssh_connection_SUITE:2015 Got unexpected {#Ref<0.3974904378.2277244931.161372>,
                                          #{meta =>
                                             #{error_logger =>
                                                #{tag => error,
                                                  report_cb =>
                                                   fun gen_server:format_log/1},
                                               line => 2646,
                                               pid => <0.17701.0>,
                                               time => 1727161578917839,
                                               file => "gen_server.erl",
                                               gl => <0.17683.0>,
                                               domain => [otp],
                                               mfa =>
                                                {gen_server,error_info,8},
                                               report_cb =>
                                                fun gen_server:format_log/2},
                                            msg =>
                                             {report,
                                              #{label =>
                                                 {gen_server,terminate},
                                                name => <0.17701.0>,
                                                reason =>
                                                 {{badrecord,undefined},
                                                  [{prim_tty,handle_request,
                                                    2,
                                                    [{file,"prim_tty.erl"},
                                                     {line,750}]},
                                                   {ssh_cli,io_requests,4,
                                                    [{file,"ssh_cli.erl"},
                                                     {line,487}]},
                                                   {ssh_cli,handle_msg,2,
                                                    [{file,"ssh_cli.erl"},
                                                     {line,313}]},
                                                   {ssh_client_channel,
                                                    handle_info,2,
                                                    [{file,
                                                      "ssh_client_channel.erl"},
                                                     {line,517}]},
                                                   {gen_server,
                                                    try_handle_info,3,
                                                    [{file,"gen_server.erl"},
                                                     {line,2345}]},
                                                   {gen_server,handle_msg,6,
                                                    [{file,"gen_server.erl"},
                                                     {line,2433}]},
                                                   {proc_lib,init_p_do_apply,
                                                    3,
                                                    [{file,"proc_lib.erl"},
                                                     {line,329}]}]},
                                                log => [],
                                                state =>
                                                 {state,<0.17696.0>,ssh_cli,
                                                  {state,<0.17696.0>,0,
                                                   undefined,utf8,undefined,
                                                   <0.17702.0>,
                                                   {shell,start,[]},
                                                   {ssh_connection_SUITE,
                                                    ssh_exec_echo,
                                                    ["foo"]},
                                                   undefined},
                                                  0,false},
                                                client_info => undefined,
                                                last_message =>
                                                 {<0.17702.0>,
                                                  {requests,
                                                   [new_prompt,
                                                    {insert_chars,unicode,
                                                     "(test_server@16e96cc34c9f)1> "}]}},
                                                process_label => undefined}},
                                            level => error}}
Expect: {ssh_cm,<0.17693.0>,{data,0,0,<<"Eshell V">>}}

</pre></div>
<pre>

</pre>
<div class="ct_error_notify"><pre><b>*** CT Error Notification 2024-09-24 09:06:18.918 ***</b><a id=e-10429 class="link-to-entry" href="#e-10429">&#x1f517;</a>
ssh_connection_SUITE:start_shell_exec failed on line 1006
Reason: {test_case_failed,Strange shell response}

<a href="#end">Full error description and stacktrace</a>
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssh_connection_SUITE:start_shell_exec/1 2024-09-24 09:06:18.918 ***</b><a id=e-10427 class="link-to-entry" href="#e-10427">&#x1f517;</a>
=ERROR REPORT==== 24-Sep-2024::09:06:18.917839 ===
** Generic server &lt;0.17701.0&gt; terminating 
** Last message in was {&lt;0.17702.0&gt;,
                        {requests,
                            [new_prompt,
                             {insert_chars,unicode,
                                 "(test_server@16e96cc34c9f)1&gt; "}]}}
** When Server state == {state,&lt;0.17696.0&gt;,ssh_cli,
                            {state,&lt;0.17696.0&gt;,0,undefined,utf8,undefined,
                                &lt;0.17702.0&gt;,
                                {shell,start,[]},
                                {ssh_connection_SUITE,ssh_exec_echo,["foo"]},
                                undefined},
                            0,false}
** Reason for termination ==
** {{badrecord,undefined},
    [{prim_tty,handle_request,2,[{file,"prim_tty.erl"},{line,750}]},
     {ssh_cli,io_requests,4,[{file,"ssh_cli.erl"},{line,487}]},
     {ssh_cli,handle_msg,2,[{file,"ssh_cli.erl"},{line,313}]},
     {ssh_client_channel,handle_info,2,
                         [{file,"ssh_client_channel.erl"},{line,517}]},
     {gen_server,try_handle_info,3,[{file,"gen_server.erl"},{line,2345}]},
     {gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,2433}]},
     {proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,329}]}]}


</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssh_connection_SUITE:start_shell_exec/1 2024-09-24 09:06:18.918 ***</b><a id=e-10428 class="link-to-entry" href="#e-10428">&#x1f517;</a>
=CRASH REPORT==== 24-Sep-2024::09:06:18.918176 ===
  crasher:
    initial call: ssh_client_channel:init/1
    pid: &lt;0.17701.0&gt;
    registered_name: []
    exception error: {badrecord,undefined}
      in function  prim_tty:handle_request/2 (prim_tty.erl, line 750)
      in call from ssh_cli:io_requests/4 (ssh_cli.erl, line 487)
      in call from ssh_cli:handle_msg/2 (ssh_cli.erl, line 313)
      in call from ssh_client_channel:handle_info/2 (ssh_client_channel.erl, line 517)
      in call from gen_server:try_handle_info/3 (gen_server.erl, line 2345)
      in call from gen_server:handle_msg/6 (gen_server.erl, line 2433)
    ancestors: [&lt;0.17698.0&gt;,&lt;0.17694.0&gt;,&lt;0.17689.0&gt;,sshd_sup,ssh_sup,
                  &lt;0.17684.0&gt;]
    message_queue_len: 1
    messages: [{ssh_cm,&lt;0.17696.0&gt;,{closed,0}}]
    links: [&lt;0.17698.0&gt;,&lt;0.17702.0&gt;]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 29
    reductions: 521
  neighbours:


</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssh_connection_SUITE:start_shell_exec/1 2024-09-24 09:06:18.918 ***</b><a id=e-10430 class="link-to-entry" href="#e-10430">&#x1f517;</a>
=SUPERVISOR REPORT==== 24-Sep-2024::09:06:18.918511 ===
    supervisor: {&lt;0.17698.0&gt;,ssh_channel_sup}
    errorContext: child_terminated
    reason: {{badrecord,undefined},
             [{prim_tty,handle_request,2,[{file,"prim_tty.erl"},{line,750}]},
              {ssh_cli,io_requests,4,[{file,"ssh_cli.erl"},{line,487}]},
              {ssh_cli,handle_msg,2,[{file,"ssh_cli.erl"},{line,313}]},
              {ssh_client_channel,handle_info,2,
                                  [{file,"ssh_client_channel.erl"},
                                   {line,517}]},
              {gen_server,try_handle_info,3,
                          [{file,"gen_server.erl"},{line,2345}]},
              {gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,2433}]},
              {proc_lib,init_p_do_apply,3,
                        [{file,"proc_lib.erl"},{line,329}]}]}
    offender: [{pid,&lt;0.17701.0&gt;},
               {id,#Ref&lt;0.3974904378.2277244931.161690&gt;},
               {mfargs,{ssh_server_channel,start_link,undefined}},
               {restart_type,temporary},
               {significant,false},
               {shutdown,5000},
               {child_type,worker}]


</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-24 09:06:19.419 ***</b><a id=e-10431 class="link-to-entry" href="#e-10431">&#x1f517;</a>
------------
Interesting event found:
#{meta =>
      #{error_logger =>
            #{tag => error_report,type => supervisor_report,
              report_cb => fun supervisor:format_log/1},
        line => 1306,pid => <0.17698.0>,time => 1727161578918511,
        file => "supervisor.erl",gl => <0.17683.0>,
        domain => [otp,sasl],
        logger_formatter => #{title => "SUPERVISOR REPORT"},
        mfa => {supervisor,do_restart,3},
        report_cb => fun supervisor:format_log/2},
  msg =>
      {report,
          #{label => {supervisor,child_terminated},
            report =>
                [{supervisor,{<0.17698.0>,ssh_channel_sup}},
                 {errorContext,child_terminated},
                 {reason,
                     {{badrecord,undefined},
                      [{prim_tty,handle_request,2,
                           [{file,"prim_tty.erl"},{line,750}]},
                       {ssh_cli,io_requests,4,
                           [{file,"ssh_cli.erl"},{line,487}]},
                       {ssh_cli,handle_msg,2,
                           [{file,"ssh_cli.erl"},{line,313}]},
                       {ssh_client_channel,handle_info,2,
                           [{file,"ssh_client_channel.erl"},{line,517}]},
                       {gen_server,try_handle_info,3,
                           [{file,"gen_server.erl"},{line,2345}]},
                       {gen_server,handle_msg,6,
                           [{file,"gen_server.erl"},{line,2433}]},
                       {proc_lib,init_p_do_apply,3,
                           [{file,"proc_lib.erl"},{line,329}]}]}},
                 {offender,
                     [{pid,<0.17701.0>},
                      {id,#Ref<0.3974904378.2277244931.161690>},
                      {mfargs,{ssh_server_channel,start_link,undefined}},
                      {restart_type,temporary},
                      {significant,false},
                      {shutdown,5000},
                      {child_type,worker}]}]}},
  level => error}
==========

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-24 09:06:19.419 ***</b><a id=e-10432 class="link-to-entry" href="#e-10432">&#x1f517;</a>
------------
Interesting event found:
#{meta =>
      #{error_logger => #{tag => error_report,type => crash_report},
        line => 948,pid => <0.17701.0>,time => 1727161578918176,
        file => "proc_lib.erl",gl => <0.17683.0>,
        domain => [otp,sasl],
        logger_formatter => #{title => "CRASH REPORT"},
        mfa => {proc_lib,crash_report,4},
        report_cb => fun proc_lib:report_cb/2},
  msg =>
      {report,
          #{label => {proc_lib,crash},
            report =>
                [[{initial_call,{ssh_client_channel,init,['Argument__1']}},
                  {pid,<0.17701.0>},
                  {registered_name,[]},
                  {process_label,undefined},
                  {error_info,
                      {error,
                          {badrecord,undefined},
                          [{prim_tty,handle_request,2,
                               [{file,"prim_tty.erl"},{line,750}]},
                           {ssh_cli,io_requests,4,
                               [{file,"ssh_cli.erl"},{line,487}]},
                           {ssh_cli,handle_msg,2,
                               [{file,"ssh_cli.erl"},{line,313}]},
                           {ssh_client_channel,handle_info,2,
                               [{file,"ssh_client_channel.erl"},{line,517}]},
                           {gen_server,try_handle_info,3,
                               [{file,"gen_server.erl"},{line,2345}]},
                           {gen_server,handle_msg,6,
                               [{file,"gen_server.erl"},{line,2433}]},
                           {proc_lib,init_p_do_apply,3,
                               [{file,"proc_lib.erl"},{line,329}]}]}},
                  {ancestors,
                      [<0.17698.0>,<0.17694.0>,<0.17689.0>,sshd_sup,ssh_sup,
                       <0.17684.0>]},
                  {message_queue_len,1},
                  {messages,[{ssh_cm,<0.17696.0>,{closed,0}}]},
                  {links,[<0.17698.0>,<0.17702.0>]},
                  {dictionary,[]},
                  {trap_exit,true},
                  {status,running},
                  {heap_size,610},
                  {stack_size,29},
                  {reductions,521}],
                 []]}},
  level => error}
==========

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-24 09:06:19.420 ***</b><a id=e-10433 class="link-to-entry" href="#e-10433">&#x1f517;</a>

Total logger events: 2
All events:
[ {<0.17698.0>,ssh_channel_sup} <- <0.17701.0]   error  {supervisor,child_terminated} {badrecord,undefined  {id,#Ref<0.3974904378.22772449   ssh_server_channel:start_link(                               undefined)  {significant,false}  {restart_type,temporary}
[                                 <0.17701.0>]   error               {proc_lib,crash}              running            {registered_name,[]}   ssh_client_channel:      init(                         ['Argument__1'])

</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssh_connection_SUITE:start_shell_exec/1 2024-09-24 09:06:19.422 ***</b><a id=e-10434 class="link-to-entry" href="#e-10434">&#x1f517;</a>
=INFO REPORT==== 24-Sep-2024::09:06:19.421937 ===
    application: ssh
    exited: stopped
    type: temporary


</pre></div>
<pre>

</pre>
<div class="ct_error_notify"><pre><b>*** CT Error Notification 2024-09-24 09:06:19.422 ***</b><a id=e-10435 class="link-to-entry" href="#e-10435">&#x1f517;</a>
Error detected: "unexpected event cnt: 2"

<a href="#end">Full error description and stacktrace</a>
</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2024-09-24 09:06:19
=== Location: {ssh_connection_SUITE,start_shell_exec}
=== === Reason: "unexpected event cnt: 2"
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2024 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Tue Sep 24 2024 09:06:18<!--/date--><br />
</div>
</center>
</body>
</html>
