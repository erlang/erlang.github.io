<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ssh_connection_SUITE:exec_erlang_term result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ssh_connection_suite.src.html#exec_erlang_term-1">ssh_connection_SUITE:exec_erlang_term/1</a> (click for source code)

=== Config value:

    [{ptty_supported,true},
     {watchdog,&lt;0.18225.0&gt;},
     {tc_logfile,"/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@a6f2d851ab72.2024-09-23_13.18.32/make_test_dir.ssh_test.logs/run.2024-09-23_13.18.33/ssh_connection_suite.exec_erlang_term.html"},
     {tc_group_properties,[]},
     {tc_group_path,[]},
     {data_dir,"/buildroot/otp/lib/ssh/make_test_dir/ssh_test/ssh_connection_SUITE_data/"},
     {priv_dir,"/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@a6f2d851ab72.2024-09-23_13.18.32/make_test_dir.ssh_test.logs/run.2024-09-23_13.18.33/log_private/"}]

=== Current directory is "/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@a6f2d851ab72.2024-09-23_13.18.32"

=== Started at 2024-09-23 13:20:49

<br />

</pre>
<div class="default"><pre><b>*** User 2024-09-23 13:20:49.281 ***</b><a id=e-10336 class="link-to-entry" href="#e-10336">&#x1f517;</a>
ssh_test_lib:200 Calling ssh:daemon(any, 0, [{system_dir,
                                              "/buildroot/otp/lib/ssh/make_test_dir/ssh_test/ssh_connection_SUITE_data/"},
                                             {user_dir,
                                              "/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@a6f2d851ab72.2024-09-23_13.18.32/make_test_dir.ssh_test.logs/run.2024-09-23_13.18.33/log_private/nopubkey"},
                                             {password,"morot"}])
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-23 13:20:49.283 ***</b><a id=e-10337 class="link-to-entry" href="#e-10337">&#x1f517;</a>
ssh_test_lib:204 ssh:daemon_info(<0.18495.0>) ->
 {ok,[{port,38903},
      {ip,{0,0,0,0}},
      {profile,default},
      {options,[{password,"morot"},
                {pref_public_key_algs,['ssh-ed25519','ssh-ed448',
                                       'ecdsa-sha2-nistp521',
                                       'ecdsa-sha2-nistp384',
                                       'ecdsa-sha2-nistp256','rsa-sha2-512',
                                       'rsa-sha2-256']},
                {system_dir,"/buildroot/otp/lib/ssh/make_test_dir/ssh_test/ssh_connection_SUITE_data/"},
                {user_dir,"/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@a6f2d851ab72.2024-09-23_13.18.32/make_test_dir.ssh_test.logs/run.2024-09-23_13.18.33/log_private/nopubkey"}]}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-23 13:20:49.287 ***</b><a id=e-10338 class="link-to-entry" href="#e-10338">&#x1f517;</a>
ssh_test_lib:175 ssh:connect({0,0,0,0}, 38903, [{silently_accept_hosts,true},
                                                {user,"foo"},
                                                {password,"morot"},
                                                {user_interaction,true},
                                                {user_dir,
                                                 "/buildroot/otp/lib/ssh/make_test_dir/ct_logs/ct_run.test_server@a6f2d851ab72.2024-09-23_13.18.32/make_test_dir.ssh_test.logs/run.2024-09-23_13.18.33/log_private/nopubkey"}])
 -> {ok,<0.18503.0>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-23 13:20:49.288 ***</b><a id=e-10339 class="link-to-entry" href="#e-10339">&#x1f517;</a>
ssh_connection_SUITE:1909 Got unexpected {#Ref<0.2049638346.751304705.178715>,
                                          #{meta =>
                                             #{error_logger =>
                                                #{tag => error,
                                                  report_cb =>
                                                   fun gen_server:format_log/1},
                                               line => 2646,
                                               pid => <0.18508.0>,
                                               time => 1727090449288901,
                                               file => "gen_server.erl",
                                               gl => <0.18489.0>,
                                               domain => [otp],
                                               mfa =>
                                                {gen_server,error_info,8},
                                               report_cb =>
                                                fun gen_server:format_log/2},
                                            msg =>
                                             {report,
                                              #{label =>
                                                 {gen_server,terminate},
                                                name => <0.18508.0>,
                                                reason =>
                                                 {{badrecord,undefined},
                                                  [{prim_tty,handle_request,
                                                    2,
                                                    [{file,"prim_tty.erl"},
                                                     {line,750}]},
                                                   {ssh_cli,io_requests,4,
                                                    [{file,"ssh_cli.erl"},
                                                     {line,487}]},
                                                   {ssh_cli,handle_msg,2,
                                                    [{file,"ssh_cli.erl"},
                                                     {line,313}]},
                                                   {ssh_client_channel,
                                                    handle_info,2,
                                                    [{file,
                                                      "ssh_client_channel.erl"},
                                                     {line,517}]},
                                                   {gen_server,
                                                    try_handle_info,3,
                                                    [{file,"gen_server.erl"},
                                                     {line,2345}]},
                                                   {gen_server,handle_msg,6,
                                                    [{file,"gen_server.erl"},
                                                     {line,2433}]},
                                                   {proc_lib,init_p_do_apply,
                                                    3,
                                                    [{file,"proc_lib.erl"},
                                                     {line,329}]}]},
                                                log => [],
                                                state =>
                                                 {state,<0.18500.0>,ssh_cli,
                                                  {state,<0.18500.0>,0,
                                                   undefined,utf8,undefined,
                                                   <0.18509.0>,
                                                   {shell,start,[]},
                                                   undefined,undefined},
                                                  0,false},
                                                last_message =>
                                                 {<0.18509.0>,
                                                  {requests,
                                                   [new_prompt,
                                                    {insert_chars,unicode,
                                                     "(test_server@a6f2d851ab72)1> "}]}},
                                                process_label => undefined,
                                                client_info => undefined}},
                                            level => error}}
Expect: {ssh_cm,<0.18503.0>,{data,0,0,<<"Eshell V">>}}

</pre></div>
<pre>

</pre>
<div class="ct_error_notify"><pre><b>*** CT Error Notification 2024-09-23 13:20:49.289 ***</b><a id=e-10341 class="link-to-entry" href="#e-10341">&#x1f517;</a>
ssh_connection_SUITE:exec_erlang_term failed on line 921
Reason: {test_case_failed,Strange shell response}

<a href="#end">Full error description and stacktrace</a>
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssh_connection_SUITE:exec_erlang_term/1 2024-09-23 13:20:49.289 ***</b><a id=e-10340 class="link-to-entry" href="#e-10340">&#x1f517;</a>
=ERROR REPORT==== 23-Sep-2024::13:20:49.288901 ===
** Generic server &lt;0.18508.0&gt; terminating 
** Last message in was {&lt;0.18509.0&gt;,
                        {requests,
                            [new_prompt,
                             {insert_chars,unicode,
                                 "(test_server@a6f2d851ab72)1&gt; "}]}}
** When Server state == {state,&lt;0.18500.0&gt;,ssh_cli,
                               {state,&lt;0.18500.0&gt;,0,undefined,utf8,undefined,
                                      &lt;0.18509.0&gt;,
                                      {shell,start,[]},
                                      undefined,undefined},
                               0,false}
** Reason for termination ==
** {{badrecord,undefined},
    [{prim_tty,handle_request,2,[{file,"prim_tty.erl"},{line,750}]},
     {ssh_cli,io_requests,4,[{file,"ssh_cli.erl"},{line,487}]},
     {ssh_cli,handle_msg,2,[{file,"ssh_cli.erl"},{line,313}]},
     {ssh_client_channel,handle_info,2,
                         [{file,"ssh_client_channel.erl"},{line,517}]},
     {gen_server,try_handle_info,3,[{file,"gen_server.erl"},{line,2345}]},
     {gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,2433}]},
     {proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,329}]}]}


</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssh_connection_SUITE:exec_erlang_term/1 2024-09-23 13:20:49.289 ***</b><a id=e-10342 class="link-to-entry" href="#e-10342">&#x1f517;</a>
=CRASH REPORT==== 23-Sep-2024::13:20:49.289230 ===
  crasher:
    initial call: ssh_client_channel:init/1
    pid: &lt;0.18508.0&gt;
    registered_name: []
    exception error: {badrecord,undefined}
      in function  prim_tty:handle_request/2 (prim_tty.erl, line 750)
      in call from ssh_cli:io_requests/4 (ssh_cli.erl, line 487)
      in call from ssh_cli:handle_msg/2 (ssh_cli.erl, line 313)
      in call from ssh_client_channel:handle_info/2 (ssh_client_channel.erl, line 517)
      in call from gen_server:try_handle_info/3 (gen_server.erl, line 2345)
      in call from gen_server:handle_msg/6 (gen_server.erl, line 2433)
    ancestors: [&lt;0.18502.0&gt;,&lt;0.18499.0&gt;,&lt;0.18495.0&gt;,sshd_sup,ssh_sup,
                  &lt;0.18490.0&gt;]
    message_queue_len: 1
    messages: [{ssh_cm,&lt;0.18500.0&gt;,{closed,0}}]
    links: [&lt;0.18502.0&gt;,&lt;0.18509.0&gt;]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 29
    reductions: 527
  neighbours:


</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssh_connection_SUITE:exec_erlang_term/1 2024-09-23 13:20:49.289 ***</b><a id=e-10343 class="link-to-entry" href="#e-10343">&#x1f517;</a>
=SUPERVISOR REPORT==== 23-Sep-2024::13:20:49.289601 ===
    supervisor: {&lt;0.18502.0&gt;,ssh_channel_sup}
    errorContext: child_terminated
    reason: {{badrecord,undefined},
             [{prim_tty,handle_request,2,[{file,"prim_tty.erl"},{line,750}]},
              {ssh_cli,io_requests,4,[{file,"ssh_cli.erl"},{line,487}]},
              {ssh_cli,handle_msg,2,[{file,"ssh_cli.erl"},{line,313}]},
              {ssh_client_channel,handle_info,2,
                                  [{file,"ssh_client_channel.erl"},
                                   {line,517}]},
              {gen_server,try_handle_info,3,
                          [{file,"gen_server.erl"},{line,2345}]},
              {gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,2433}]},
              {proc_lib,init_p_do_apply,3,
                        [{file,"proc_lib.erl"},{line,329}]}]}
    offender: [{pid,&lt;0.18508.0&gt;},
               {id,#Ref&lt;0.2049638346.751042563.6840&gt;},
               {mfargs,{ssh_server_channel,start_link,undefined}},
               {restart_type,temporary},
               {significant,false},
               {shutdown,5000},
               {child_type,worker}]


</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-09-23 13:20:49.790 ***</b><a id=e-10344 class="link-to-entry" href="#e-10344">&#x1f517;</a>

Event number: 2
Events:
[#{meta =>
       #{error_logger =>
             #{tag => error_report,type => supervisor_report,
               report_cb => fun supervisor:format_log/1},
         line => 1306,pid => <0.18502.0>,time => 1727090449289601,
         file => "supervisor.erl",gl => <0.18489.0>,
         domain => [otp,sasl],
         logger_formatter => #{title => "SUPERVISOR REPORT"},
         mfa => {supervisor,do_restart,3},
         report_cb => fun supervisor:format_log/2},
   msg =>
       {report,
           #{label => {supervisor,child_terminated},
             report =>
                 [{supervisor,{<0.18502.0>,ssh_channel_sup}},
                  {errorContext,child_terminated},
                  {reason,
                      {{badrecord,undefined},
                       [{prim_tty,handle_request,2,
                            [{file,"prim_tty.erl"},{line,750}]},
                        {ssh_cli,io_requests,4,
                            [{file,"ssh_cli.erl"},{line,487}]},
                        {ssh_cli,handle_msg,2,
                            [{file,"ssh_cli.erl"},{line,313}]},
                        {ssh_client_channel,handle_info,2,
                            [{file,"ssh_client_channel.erl"},{line,517}]},
                        {gen_server,try_handle_info,3,
                            [{file,"gen_server.erl"},{line,2345}]},
                        {gen_server,handle_msg,6,
                            [{file,"gen_server.erl"},{line,2433}]},
                        {proc_lib,init_p_do_apply,3,
                            [{file,"proc_lib.erl"},{line,329}]}]}},
                  {offender,
                      [{pid,<0.18508.0>},
                       {id,#Ref<0.2049638346.751042563.6840>},
                       {mfargs,{ssh_server_channel,start_link,undefined}},
                       {restart_type,temporary},
                       {significant,false},
                       {shutdown,5000},
                       {child_type,worker}]}]}},
   level => error},
 #{meta =>
       #{error_logger => #{tag => error_report,type => crash_report},
         line => 948,pid => <0.18508.0>,time => 1727090449289230,
         file => "proc_lib.erl",gl => <0.18489.0>,
         domain => [otp,sasl],
         logger_formatter => #{title => "CRASH REPORT"},
         mfa => {proc_lib,crash_report,4},
         report_cb => fun proc_lib:report_cb/2},
   msg =>
       {report,
           #{label => {proc_lib,crash},
             report =>
                 [[{initial_call,{ssh_client_channel,init,['Argument__1']}},
                   {pid,<0.18508.0>},
                   {registered_name,[]},
                   {process_label,undefined},
                   {error_info,
                       {error,
                           {badrecord,undefined},
                           [{prim_tty,handle_request,2,
                                [{file,"prim_tty.erl"},{line,750}]},
                            {ssh_cli,io_requests,4,
                                [{file,"ssh_cli.erl"},{line,487}]},
                            {ssh_cli,handle_msg,2,
                                [{file,"ssh_cli.erl"},{line,313}]},
                            {ssh_client_channel,handle_info,2,
                                [{file,"ssh_client_channel.erl"},{line,517}]},
                            {gen_server,try_handle_info,3,
                                [{file,"gen_server.erl"},{line,2345}]},
                            {gen_server,handle_msg,6,
                                [{file,"gen_server.erl"},{line,2433}]},
                            {proc_lib,init_p_do_apply,3,
                                [{file,"proc_lib.erl"},{line,329}]}]}},
                   {ancestors,
                       [<0.18502.0>,<0.18499.0>,<0.18495.0>,sshd_sup,ssh_sup,
                        <0.18490.0>]},
                   {message_queue_len,1},
                   {messages,[{ssh_cm,<0.18500.0>,{closed,0}}]},
                   {links,[<0.18502.0>,<0.18509.0>]},
                   {dictionary,[]},
                   {trap_exit,true},
                   {status,running},
                   {heap_size,610},
                   {stack_size,29},
                   {reductions,527}],
                  []]}},
   level => error}]
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssh_connection_SUITE:exec_erlang_term/1 2024-09-23 13:20:49.792 ***</b><a id=e-10345 class="link-to-entry" href="#e-10345">&#x1f517;</a>
=INFO REPORT==== 23-Sep-2024::13:20:49.792363 ===
    application: ssh
    exited: stopped
    type: temporary


</pre></div>
<pre>

</pre>
<div class="ct_error_notify"><pre><b>*** CT Error Notification 2024-09-23 13:20:49.792 ***</b><a id=e-10346 class="link-to-entry" href="#e-10346">&#x1f517;</a>
Error detected: "Unexpected 2 events found"

<a href="#end">Full error description and stacktrace</a>
</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2024-09-23 13:20:49
=== Location: {ssh_connection_SUITE,exec_erlang_term}
=== === Reason: "Unexpected 2 events found"
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2024 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Mon Sep 23 2024 13:20:49<!--/date--><br />
</div>
</center>
</body>
</html>
