<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test socket_api_SUITE:api_opt_sock_broadcast result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="socket_api_suite.src.html#api_opt_sock_broadcast-1">socket_api_SUITE:api_opt_sock_broadcast/1</a> (click for source code)

=== Config value:

    [{watchdog,&lt;0.123954.0&gt;},
     {kernel_factor,5},
     {label,{host,undefined}},
     {tc_logfile,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@4583cecce87a.2024-08-25_10.31.54/make_test_dir.kernel_test.logs/run.2024-08-25_10.32.30/socket_api_suite.api_opt_sock_broadcast.html"},
     {tc_group_properties,[{name,options_socket}]},
     {tc_group_path,[[{name,options}]]},
     {data_dir,"/buildroot/otp/lib/kernel/make_test_dir/kernel_test/socket_api_SUITE_data/"},
     {priv_dir,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@4583cecce87a.2024-08-25_10.31.54/make_test_dir.kernel_test.logs/run.2024-08-25_10.32.30/log_private/"},
     {nodenames,[]}]

=== Current directory is "/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@4583cecce87a.2024-08-25_10.31.54"

=== Started at 2024-08-25 11:26:26

<br />
init_per_testcase(api_opt_sock_broadcast) -&gt; entry with
   Config: [{watchdog,&lt;0.123982.0&gt;},
            {kernel_factor,5},
            {label,{host,undefined}},
            {tc_logfile,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@4583cecce87a.2024-08-25_10.31.54/make_test_dir.kernel_test.logs/run.2024-08-25_10.32.30/socket_api_suite.api_opt_sock_broadcast.html"},
            {tc_group_properties,[{name,options_socket}]},
            {tc_group_path,[[{name,options}]]},
            {data_dir,"/buildroot/otp/lib/kernel/make_test_dir/kernel_test/socket_api_SUITE_data/"},
            {priv_dir,"/buildroot/otp/lib/kernel/make_test_dir/ct_logs/ct_run.test_server@4583cecce87a.2024-08-25_10.31.54/make_test_dir.kernel_test.logs/run.2024-08-25_10.32.30/log_private/"},
            {nodenames,[]}]

[11:26:26.599] start tester evaluator
[11:26:26.599] await evaluator(s)
[11:26:26][tester][&lt;0.123984.0&gt;] evaluate command  1: which local address
[11:26:26][tester][&lt;0.123984.0&gt;] local host info: 
   Name:           "eth0"
   Addr:           {172,17,0,2}
   Broadcast Addr: {172,17,255,255}
[11:26:26][tester][&lt;0.123984.0&gt;] evaluate command  2: [socket 1] create UDP socket (listening 1)
[11:26:26][tester][&lt;0.123984.0&gt;] evaluate command  3: [socket 1] Bind UDP socket (to limited broadcast address)
[11:26:26][tester][&lt;0.123984.0&gt;] Try bind (socket 1) to: 
   #{addr =&gt; broadcast,family =&gt; inet}
[11:26:26][tester][&lt;0.123984.0&gt;] Expected Success (bound): 49728
[11:26:26][tester][&lt;0.123984.0&gt;] evaluate command  4: [socket 1] UDP socket sockname
[11:26:26][tester][&lt;0.123984.0&gt;] SA: #{port =&gt; 49728,
                                       addr =&gt; {255,255,255,255},
                                       family =&gt; inet}
[11:26:26][tester][&lt;0.123984.0&gt;] evaluate command  5: sleep
[11:26:27][tester][&lt;0.123984.0&gt;] evaluate command  6: [socket 2] create UDP socket (listening 2)
[11:26:27][tester][&lt;0.123984.0&gt;] evaluate command  7: [socket 2] Bind UDP socket (to subnet-directed broadcast address)
[11:26:27][tester][&lt;0.123984.0&gt;] Try bind (socket 1) to: 
   #{addr =&gt; {172,17,255,255},family =&gt; inet}
[11:26:27][tester][&lt;0.123984.0&gt;] Expected Success (bound): 38900
[11:26:27][tester][&lt;0.123984.0&gt;] evaluate command  8: [socket 2] UDP socket sockname
[11:26:27][tester][&lt;0.123984.0&gt;] SA: #{port =&gt; 38900,
                                       addr =&gt; {172,17,255,255},
                                       family =&gt; inet}
[11:26:27][tester][&lt;0.123984.0&gt;] evaluate command  9: sleep
[11:26:28][tester][&lt;0.123984.0&gt;] evaluate command 10: [socket 3] create UDP socket (sender)
[11:26:28][tester][&lt;0.123984.0&gt;] evaluate command 11: [socket 3][get] verify UDP socket (before bind and set)
[11:26:28][tester][&lt;0.123984.0&gt;] Expected Success: broadcast not allowed
[11:26:28][tester][&lt;0.123984.0&gt;] evaluate command 12: [socket 3] Try make broadcast allowed
[11:26:28][tester][&lt;0.123984.0&gt;] Expected Success: broadcast now allowed
[11:26:28][tester][&lt;0.123984.0&gt;] evaluate command 13: [socket 3] verify UDP socket broadcast allowed
[11:26:28][tester][&lt;0.123984.0&gt;] Expected Success: broadcast allowed
[11:26:28][tester][&lt;0.123984.0&gt;] evaluate command 14: [socket 3] Bind UDP socket (to local address)
[11:26:28][tester][&lt;0.123984.0&gt;] Try bind (socket 2) to: 
   #{addr =&gt; {172,17,0,2},family =&gt; inet}
[11:26:28][tester][&lt;0.123984.0&gt;] Expected Success (bound): 48366
[11:26:28][tester][&lt;0.123984.0&gt;] evaluate command 15: [socket 3] verify UDP socket (after set)
[11:26:28][tester][&lt;0.123984.0&gt;] Expected Success: broadcast allowed
[11:26:28][tester][&lt;0.123984.0&gt;] evaluate command 16: sleep
[11:26:29][tester][&lt;0.123984.0&gt;] evaluate command 17: [socket 3] try send to limited broadcast address
[11:26:29][tester][&lt;0.123984.0&gt;] try send to broadcast address: 
   #{port =&gt; 49728,addr =&gt; broadcast,family =&gt; inet}
[11:26:29][tester][&lt;0.123984.0&gt;] Expected Success: broadcast message sent
[11:26:29][tester][&lt;0.123984.0&gt;] evaluate command 18: [socket 1] try recv
[11:26:29][tester][&lt;0.123984.0&gt;] Expected Success: received message
[11:26:29][tester][&lt;0.123984.0&gt;] evaluate command 19: sleep
[11:26:30][tester][&lt;0.123984.0&gt;] evaluate command 20: [socket 2] try send to subnet-directed broadcast address
[11:26:30][tester][&lt;0.123984.0&gt;] try send to broadcast address: 
   #{port =&gt; 38900,addr =&gt; {172,17,255,255},family =&gt; inet}
[11:26:30][tester][&lt;0.123984.0&gt;] &lt;ERROR&gt; Unexpected Failure: eacces =&gt; SKIP
[11:26:30][tester][&lt;0.123984.0&gt;] command 20 skip: 
   eacces
[11:26:30] await_finish -&gt; skip (exit) received: 
   Pid:    &lt;0.123984.0&gt;
   Reason: eacces
[11:26:30] evaluator 'tester' (&lt;0.123984.0&gt;) issued SKIP: 
   eacces
[11:26:30] ensure (1) evaluator(s) are terminated
[11:26:30] issue skip
<a name="end"></a>


=== Ended at 2024-08-25 11:26:30
=== Location: {socket_api_SUITE,api_opt_sock_broadcast}
=== Reason: eacces
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2024 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Sun Aug 25 2024 11:26:26<!--/date--><br />
</div>
</center>
</body>
</html>
