<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ssl_cert_SUITE:no_auth result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ssl_cert_suite.src.html#no_auth-1">ssl_cert_SUITE:no_auth/1</a> (click for source code)

=== Config value:

    [{cert_key_alg,dsa},
     {extra_client,
         [{signature_algs,[{sha,dsa}]},
          {ciphers,
              [#{prf =&gt; sha384,cipher =&gt; aes_256_gcm,key_exchange =&gt; dhe_dss,
                 mac =&gt; aead},
               #{prf =&gt; sha256,cipher =&gt; aes_128_gcm,key_exchange =&gt; dhe_dss,
                 mac =&gt; aead}]},
          {signature_algs,[{sha,dsa}]}]},
     {extra_server,
         [{signature_algs,[{sha,dsa}]},
          {ciphers,
              [#{prf =&gt; sha384,cipher =&gt; aes_256_gcm,key_exchange =&gt; dhe_dss,
                 mac =&gt; aead},
               #{prf =&gt; sha256,cipher =&gt; aes_128_gcm,key_exchange =&gt; dhe_dss,
                 mac =&gt; aead}]},
          {signature_algs,[{sha,dsa}]}]},
     {client_cert_opts,
         [{certfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_client_cert.pem"},
          {keyfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_client_key.pem"},
          {cacertfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_client_cacerts.pem"}]},
     {server_cert_opts,
         [{certfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cert.pem"},
          {keyfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_key.pem"},
          {cacertfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cacerts.pem"}]},
     {server_dsa_opts,
         [{certfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cert.pem"},
          {keyfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_key.pem"},
          {cacertfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cacerts.pem"}]},
     {server_dsa_verify_opts,
         [{verify,verify_peer},
          {certfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cert.pem"},
          {keyfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_key.pem"},
          {cacertfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cacerts.pem"}]},
     {client_dsa_opts,
         [{certfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_client_cert.pem"},
          {keyfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_client_key.pem"},
          {cacertfile,
              "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_client_cacerts.pem"}]},
     {watchdog,&lt;0.24323.0&gt;},
     {version,'tlsv1.2'},
     {protocol,tls},
     {client_type,erlang},
     {server_type,erlang},
     {tc_logfile,
         "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/ssl_cert_suite.no_auth.19683.html"},
     {tc_group_properties,[{name,dsa}]},
     {tc_group_path,[[{name,'tlsv1.2'}]]},
     {data_dir,
         "/buildroot/otp/lib/ssl/make_test_dir/ssl_test/ssl_cert_SUITE_data/"},
     {priv_dir,
         "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/"}]

=== Current directory is "/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03"

=== Started at 2025-01-13 16:44:40

<br />

</pre>
<div class="default"><pre><b>*** User 2025-01-13 16:44:40.108 ***</b><a id=e-15641 class="link-to-entry" href="#e-15641">&#x1f517;</a>
(&lt;0.24325.0&gt; ssl_test_lib:3712 in ct_log_supported_protocol_versions) TLS/SSL version [{3,
                                                                                        3}]
 
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2025-01-13 16:44:40.108 ***</b><a id=e-15642 class="link-to-entry" href="#e-15642">&#x1f517;</a>
(&lt;0.24328.0&gt; ssl_test_lib:605 in run_server) 
ssl:listen(0, [{verify,verify_none},
               {signature_algs,[{sha,dsa}]},
               {ciphers,[#{prf =&gt; sha384,cipher =&gt; aes_256_gcm,
                           key_exchange =&gt; dhe_dss,mac =&gt; aead},
                         #{prf =&gt; sha256,cipher =&gt; aes_128_gcm,
                           key_exchange =&gt; dhe_dss,mac =&gt; aead}]},
               {signature_algs,[{sha,dsa}]},
               {certfile,"/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cert.pem"},
               {keyfile,"/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_key.pem"},
               {cacertfile,"/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cacerts.pem"}])

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2025-01-13 16:44:40.109 ***</b><a id=e-15643 class="link-to-entry" href="#e-15643">&#x1f517;</a>
(&lt;0.24328.0&gt; ssl_test_lib:777 in connect) ssl:transport_accept({sslsocket,
                                                                nil,
                                                                {#Port&lt;0.5864&gt;,
                                                                 {config,
                                                                  #{signature_algs =&gt;
                                                                     [{sha,
                                                                       dsa}],
                                                                    renegotiate_at =&gt;
                                                                     268435456,
                                                                    early_data =&gt;
                                                                     disabled,
                                                                    stateless_tickets_seed =&gt;
                                                                     undefined,
                                                                    honor_ecc_order =&gt;
                                                                     false,
                                                                    reuse_sessions =&gt;
                                                                     true,
                                                                    secure_renegotiate =&gt;
                                                                     true,
                                                                    honor_cipher_order =&gt;
                                                                     false,
                                                                    partial_chain =&gt;
                                                                     #Fun&lt;ssl.4.6350814&gt;,
                                                                    verify =&gt;
                                                                     verify_none,
                                                                    sni_fun =&gt;
                                                                     #Fun&lt;ssl.10.6350814&gt;,
                                                                    eccs =&gt;
                                                                     {elliptic_curves,
                                                                      [{1,3,
                                                                        101,
                                                                        110},
                                                                       {1,3,
                                                                        101,
                                                                        111},
                                                                       {1,3,
                                                                        132,0,
                                                                        35},
                                                                       {1,3,
                                                                        36,3,
                                                                        3,2,8,
                                                                        1,1,
                                                                        13},
                                                                       {1,3,
                                                                        132,0,
                                                                        34},
                                                                       {1,3,
                                                                        36,3,
                                                                        3,2,8,
                                                                        1,1,
                                                                        11},
                                                                       {1,2,
                                                                        840,
                                                                        10045,
                                                                        3,1,7},
                                                                       {1,3,
                                                                        36,3,
                                                                        3,2,8,
                                                                        1,1,
                                                                        7}]},
                                                                    supported_groups =&gt;
                                                                     {supported_groups,
                                                                      [x25519,
                                                                       x448,
                                                                       secp521r1,
                                                                       secp384r1,
                                                                       secp256r1,
                                                                       brainpoolP512r1tls13,
                                                                       brainpoolP384r1tls13,
                                                                       brainpoolP256r1tls13]},
                                                                    client_renegotiation =&gt;
                                                                     true,
                                                                    log_level =&gt;
                                                                     notice,
                                                                    ciphers =&gt;
                                                                     [&lt;&lt;0,163&gt;&gt;,
                                                                      &lt;&lt;0,162&gt;&gt;],
                                                                    crl_check =&gt;
                                                                     false,
                                                                    key_update_at =&gt;
                                                                     388736063997,
                                                                    psk_identity =&gt;
                                                                     undefined,
                                                                    protocol =&gt;
                                                                     tls,
                                                                    max_handshake_size =&gt;
                                                                     131072,
                                                                    fail_if_no_peer_cert =&gt;
                                                                     false,
                                                                    user_lookup_fun =&gt;
                                                                     undefined,
                                                                    cacertfile =&gt;
                                                                     &lt;&lt;"/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cacerts.pem"&gt;&gt;,
                                                                    srp_identity =&gt;
                                                                     undefined,
                                                                    allow_any_ca_purpose =&gt;
                                                                     false,
                                                                    handshake =&gt;
                                                                     full,
                                                                    anti_replay =&gt;
                                                                     undefined,
                                                                    verify_fun =&gt;
                                                                     {#Fun&lt;ssl.5.6350814&gt;,
                                                                      []},
                                                                    session_tickets =&gt;
                                                                     disabled,
                                                                    cacerts =&gt;
                                                                     undefined,
                                                                    reuse_session =&gt;
                                                                     #Fun&lt;ssl.12.6350814&gt;,
                                                                    alpn_preferred_protocols =&gt;
                                                                     undefined,
                                                                    certs_keys =&gt;
                                                                     [#{keyfile =&gt;
                                                                         &lt;&lt;"/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_key.pem"&gt;&gt;,
                                                                        certfile =&gt;
                                                                         &lt;&lt;"/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_server_cert.pem"&gt;&gt;}],
                                                                    versions =&gt;
                                                                     [{3,3}],
                                                                    cert_policy_opts =&gt;
                                                                     [],
                                                                    signature_algs_cert =&gt;
                                                                     undefined,
                                                                    customize_hostname_check =&gt;
                                                                     [],
                                                                    crl_cache =&gt;
                                                                     {ssl_crl_cache,
                                                                      {internal,
                                                                       []}},
                                                                    cookie =&gt;
                                                                     true},
                                                                  [{packet_size,
                                                                    0},
                                                                   {packet,0},
                                                                   {header,0},
                                                                   {active,
                                                                    false},
                                                                   {mode,
                                                                    binary}],
                                                                  [{packet_size,
                                                                    0},
                                                                   {packet,0},
                                                                   {header,0},
                                                                   {active,
                                                                    true},
                                                                   {mode,
                                                                    list}],
                                                                  [{option_tracker,
                                                                    &lt;0.24329.0&gt;},
                                                                   {session_tickets_tracker,
                                                                    disabled},
                                                                   {session_id_tracker,
                                                                    &lt;0.24330.0&gt;}],
                                                                  undefined,
                                                                  [{packet_size,
                                                                    0},
                                                                   {packet,0},
                                                                   {header,0},
                                                                   {active,
                                                                    false},
                                                                   {mode,
                                                                    binary}],
                                                                  {gen_tcp,
                                                                   tcp,
                                                                   tcp_closed,
                                                                   tcp_error,
                                                                   tcp_passive},
                                                                  tls_gen_connection}}})

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2025-01-13 16:44:40.109 ***</b><a id=e-15644 class="link-to-entry" href="#e-15644">&#x1f517;</a>
(&lt;0.24331.0&gt; ssl_test_lib:1107 in run_client) 
ssl:connect("30526023604d", 60289)@test_server@30526023604d

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2025-01-13 16:44:40.109 ***</b><a id=e-15645 class="link-to-entry" href="#e-15645">&#x1f517;</a>
(&lt;0.24331.0&gt; ssl_test_lib:1108 in run_client) SSLOpts:
 [{verify,verify_none},{signature_algs,[{sha,dsa}]},{ciphers,[#{prf =&gt; sha384,cipher =&gt; aes_256_gcm,key_exchange =&gt; dhe_dss,mac =&gt; aead},#{prf =&gt; sha256,cipher =&gt; aes_128_gcm,key_exchange =&gt; dhe_dss,mac =&gt; aead}]},{signature_algs,[{sha,dsa}]},{certfile,"/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_client_cert.pem"},{keyfile,"/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_client_key.pem"},{cacertfile,"/buildroot/otp/lib/ssl/make_test_dir/ct_logs/ct_run.test_server@30526023604d.2025-01-13_16.34.03/make_test_dir.ssl_test.logs/run.2025-01-13_16.34.23/log_private/dsa_client_cacerts.pem"}]
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2025-01-13 16:44:40.110 ***</b><a id=e-15646 class="link-to-entry" href="#e-15646">&#x1f517;</a>
(&lt;0.24328.0&gt; ssl_test_lib:779 in connect) 
ssl:handshake({sslsocket,{gen_tcp,#Port&lt;0.5867&gt;,tls_connection,
                                  [{option_tracker,&lt;0.24329.0&gt;},
                                   {session_tickets_tracker,disabled},
                                   {session_id_tracker,&lt;0.24330.0&gt;}]},
                         [&lt;0.24338.0&gt;,&lt;0.24337.0&gt;]}, infinity)

</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssl_cert_SUITE:no_auth/1 in dsa 2025-01-13 16:44:40.111 ***</b><a id=e-15647 class="link-to-entry" href="#e-15647">&#x1f517;</a>
=NOTICE REPORT==== 13-Jan-2025::16:44:40.111076 ===
TLS server: In state hello at tls_handshake.erl:269 generated SERVER ALERT: Fatal - Handshake Failure
 - malformed_handshake_data

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2025-01-13 16:44:40.111 ***</b><a id=e-15648 class="link-to-entry" href="#e-15648">&#x1f517;</a>
(&lt;0.24328.0&gt; ssl_test_lib:785 in connect) 
ssl:handshake@test_server@30526023604d ret {error,
                                            {tls_alert,
                                             {handshake_failure,
                                              "TLS server: In state hello at tls_handshake.erl:269 generated SERVER ALERT: Fatal - Handshake Failure\n malformed_handshake_data"}}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2025-01-13 16:44:40.111 ***</b><a id=e-15649 class="link-to-entry" href="#e-15649">&#x1f517;</a>
(&lt;0.24328.0&gt; ssl_test_lib:628 in do_run_server) Server error result {error,
                                                                     {tls_alert,
                                                                      {handshake_failure,
                                                                       "TLS server: In state hello at tls_handshake.erl:269 generated SERVER ALERT: Fatal - Handshake Failure\n malformed_handshake_data"}}}

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2025-01-13 16:44:40.120 ***</b><a id=e-15651 class="link-to-entry" href="#e-15651">&#x1f517;</a>
(&lt;0.24331.0&gt; ssl_test_lib:1161 in client_loop) 
Client: connection failed: {tls_alert,
                               {handshake_failure,
                                   "TLS client: In state hello received SERVER ALERT: Fatal - Handshake Failure\n"}} 

</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ssl_cert_SUITE:no_auth/1 in dsa 2025-01-13 16:44:40.120 ***</b><a id=e-15650 class="link-to-entry" href="#e-15650">&#x1f517;</a>
=NOTICE REPORT==== 13-Jan-2025::16:44:40.120426 ===
TLS client: In state hello received SERVER ALERT: Fatal - Handshake Failure


</pre></div>
<pre>

</pre>
<div class="ct_error_notify"><pre><b>*** CT Error Notification 2025-01-13 16:44:40.121 ***</b><a id=e-15652 class="link-to-entry" href="#e-15652">&#x1f517;</a>
ssl_test_lib:basic_test failed on line 2274
Reason: {test_case_failed,{{expected,
                       [{&lt;0.24328.0&gt;,ok},
                        {{connect_failed,
                             {tls_alert,
                                 {handshake_failure,
                                     "TLS client: In state hello received SERVER ALERT: Fatal - Handshake Failure\n"}}},
                         ok}]},
                   {got,
                       {&lt;0.24328.0&gt;,
                        {error,
                            {tls_alert,
                                {handshake_failure,
                                    "TLS server: In state hello at tls_handshake.erl:269 generated SERVER ALERT: Fatal - Handshake Failure\n malformed_handshake_data"}}}}}}}

<a href="#end">Full error description and stacktrace</a>
</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2025-01-13 16:44:40
=== Location: [{ssl_test_lib,basic_test,2274},
              {test_server,ts_tc,1794},
              {test_server,run_test_case_eval1,1303},
              {test_server,run_test_case_eval,1235}]
=== === Reason: {test_case_failed,
                  {{expected,
                    [{&lt;0.24328.0&gt;,ok},
                     {{connect_failed,
                       {tls_alert,
                        {handshake_failure,
                         "TLS client: In state hello received SERVER ALERT: Fatal - Handshake Failure\n"}}},
                      ok}]},
                   {got,
                    {&lt;0.24328.0&gt;,
                     {error,
                      {tls_alert,
                       {handshake_failure,
                        "TLS server: In state hello at tls_handshake.erl:269 generated SERVER ALERT: Fatal - Handshake Failure\n malformed_handshake_data"}}}}}}}
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2025 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Mon Jan 13 2025 16:44:40<!--/date--><br />
</div>
</center>
</body>
</html>
