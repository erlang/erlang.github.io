<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test zip_SUITE:unicode result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="zip_suite.src.html#unicode-1">zip_SUITE:unicode/1</a> (click for source code)

=== Config value:

    [{started,[os_mon]},
     {watchdog,&lt;0.405815.0&gt;},
     {tc_logfile,"/buildroot/otp/lib/stdlib/make_test_dir/ct_logs/ct_run.test_server@8c8469d4c9ff.2024-06-18_13.22.08/make_test_dir.stdlib_test.logs/run.2024-06-18_13.22.54/zip_suite.unicode.html"},
     {tc_group_properties,[]},
     {tc_group_path,[]},
     {data_dir,"/buildroot/otp/lib/stdlib/make_test_dir/stdlib_test/zip_SUITE_data/"},
     {priv_dir,"/buildroot/otp/lib/stdlib/make_test_dir/ct_logs/ct_run.test_server@8c8469d4c9ff.2024-06-18_13.22.08/make_test_dir.stdlib_test.logs/run.2024-06-18_13.22.54/log_private/"},
     {nodenames,[]}]

=== Current directory is "/buildroot/otp/lib/stdlib/make_test_dir/ct_logs/ct_run.test_server@8c8469d4c9ff.2024-06-18_13.22.08"

=== Started at 2024-06-18 13:53:49

<br />

</pre>
<div class="default"><pre><b>*** User 2024-06-18 13:53:49.415 ***</b><a id=e-6592 class="link-to-entry" href="#e-6592">&#x1f517;</a>
Free memory: 14232 MByte

</pre></div>
<pre>
*** zip:zip(). Testing FileName a.txt, Comment a

adding: "a.txt"

zip:table/1 returns
  [{zip_comment,[97]},
   {zip_file,[97,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,48}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [97]

checking filename [97,46,116,120,116]

and filename comment []

extracting: "a.txt"

zip:unzip/2 returns
  [[97,46,116,120,116]]

*** zip(1). Testing FileName a.txt, Comment a

os:cmd/1 returns [32,32,97,100,100,105,110,103,58,32,97,46,116,120,116,32,40,
                  115,116,111,114,101,100,32,48,37,41,10,69,110,116,101,114,
                  32,99,111,109,109,101,110,116,32,102,111,114,32,97,46,116,
                  120,116,58,10]

zip:table/1 returns
  [{zip_comment,[]},
   {zip_file,[97,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [97],
             0,8}]

checking archive comment []

checking filename [97,46,116,120,116]

and filename comment [97]

extracting: "a.txt"

zip:unzip/2 returns
  [[97,46,116,120,116]]

*** zip:zip(). Testing FileName ö.txt, Comment a

adding: "ö.txt"

zip:table/1 returns
  [{zip_comment,[97]},
   {zip_file,[246,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,48}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [97]

checking filename [246,46,116,120,116]

and filename comment []

extracting: "ö.txt"

zip:unzip/2 returns
  [[246,46,116,120,116]]

*** zip(1). Testing FileName ö.txt, Comment a

os:cmd/1 returns [32,32,97,100,100,105,110,103,58,32,246,46,116,120,116,32,40,
                  115,116,111,114,101,100,32,48,37,41,10,69,110,116,101,114,
                  32,99,111,109,109,101,110,116,32,102,111,114,32,246,46,116,
                  120,116,58,10]

zip:table/1 returns
  [{zip_comment,[]},
   {zip_file,[246,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [97],
             0,8}]

checking archive comment []

checking filename [246,46,116,120,116]

and filename comment [97]

extracting: "ö.txt"

zip:unzip/2 returns
  [[246,46,116,120,116]]

*** zip:zip(). Testing FileName Ѐ.txt, Comment a

adding: "Ѐ.txt"

zip:table/1 returns
  [{zip_comment,[97]},
   {zip_file,[1024,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,48}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [97]

checking filename [1024,46,116,120,116]

and filename comment []

extracting: "Ѐ.txt"

zip:unzip/2 returns
  [[1024,46,116,120,116]]

*** zip(1). Testing FileName Ѐ.txt, Comment a

os:cmd/1 returns [32,32,97,100,100,105,110,103,58,32,1024,46,116,120,116,32,
                  40,115,116,111,114,101,100,32,48,37,41,10,69,110,116,101,
                  114,32,99,111,109,109,101,110,116,32,102,111,114,32,1024,46,
                  116,120,116,58,10]

zip:table/1 returns
  [{zip_comment,[]},
   {zip_file,[1024,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [97],
             0,8}]

checking archive comment []

checking filename [1024,46,116,120,116]

and filename comment [97]

extracting: "Ѐ.txt"

zip:unzip/2 returns
  [[1024,46,116,120,116]]

*** zip:zip(). Testing FileName a.txt, Comment ö

adding: "a.txt"

zip:table/1 returns
  [{zip_comment,[246]},
   {zip_file,[97,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,48}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [246]

checking filename [97,46,116,120,116]

and filename comment []

extracting: "a.txt"

zip:unzip/2 returns
  [[97,46,116,120,116]]

*** zip(1). Testing FileName a.txt, Comment ö

os:cmd/1 returns [32,32,97,100,100,105,110,103,58,32,97,46,116,120,116,32,40,
                  115,116,111,114,101,100,32,48,37,41,10,69,110,116,101,114,
                  32,99,111,109,109,101,110,116,32,102,111,114,32,97,46,116,
                  120,116,58,10]

zip:table/1 returns
  [{zip_comment,[]},
   {zip_file,[97,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [246],
             0,8}]

checking archive comment []

checking filename [97,46,116,120,116]

and filename comment [246]

extracting: "a.txt"

zip:unzip/2 returns
  [[97,46,116,120,116]]

*** zip:zip(). Testing FileName ö.txt, Comment ö

adding: "ö.txt"

zip:table/1 returns
  [{zip_comment,[246]},
   {zip_file,[246,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,48}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [246]

checking filename [246,46,116,120,116]

and filename comment []

extracting: "ö.txt"

zip:unzip/2 returns
  [[246,46,116,120,116]]

*** zip(1). Testing FileName ö.txt, Comment ö

os:cmd/1 returns [32,32,97,100,100,105,110,103,58,32,246,46,116,120,116,32,40,
                  115,116,111,114,101,100,32,48,37,41,10,69,110,116,101,114,
                  32,99,111,109,109,101,110,116,32,102,111,114,32,246,46,116,
                  120,116,58,10]

zip:table/1 returns
  [{zip_comment,[]},
   {zip_file,[246,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [246],
             0,8}]

checking archive comment []

checking filename [246,46,116,120,116]

and filename comment [246]

extracting: "ö.txt"

zip:unzip/2 returns
  [[246,46,116,120,116]]

*** zip:zip(). Testing FileName Ѐ.txt, Comment ö

adding: "Ѐ.txt"

zip:table/1 returns
  [{zip_comment,[246]},
   {zip_file,[1024,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,48}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [246]

checking filename [1024,46,116,120,116]

and filename comment []

extracting: "Ѐ.txt"

zip:unzip/2 returns
  [[1024,46,116,120,116]]

*** zip(1). Testing FileName Ѐ.txt, Comment ö

os:cmd/1 returns [32,32,97,100,100,105,110,103,58,32,1024,46,116,120,116,32,
                  40,115,116,111,114,101,100,32,48,37,41,10,69,110,116,101,
                  114,32,99,111,109,109,101,110,116,32,102,111,114,32,1024,46,
                  116,120,116,58,10]

zip:table/1 returns
  [{zip_comment,[]},
   {zip_file,[1024,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [246],
             0,8}]

checking archive comment []

checking filename [1024,46,116,120,116]

and filename comment [246]

extracting: "Ѐ.txt"

zip:unzip/2 returns
  [[1024,46,116,120,116]]

*** zip:zip(). Testing FileName a.txt, Comment Ѐ

adding: "a.txt"

zip:table/1 returns
  [{zip_comment,[1024]},
   {zip_file,[97,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,48}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [1024]

checking filename [97,46,116,120,116]

and filename comment []

extracting: "a.txt"

zip:unzip/2 returns
  [[97,46,116,120,116]]

*** zip(1). Testing FileName a.txt, Comment Ѐ

os:cmd/1 returns [32,32,97,100,100,105,110,103,58,32,97,46,116,120,116,32,40,
                  115,116,111,114,101,100,32,48,37,41,10,69,110,116,101,114,
                  32,99,111,109,109,101,110,116,32,102,111,114,32,97,46,116,
                  120,116,58,10]

zip:table/1 returns
  [{zip_comment,[]},
   {zip_file,[97,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [1024],
             0,8}]

checking archive comment []

checking filename [97,46,116,120,116]

and filename comment [1024]

extracting: "a.txt"

zip:unzip/2 returns
  [[97,46,116,120,116]]

*** zip:zip(). Testing FileName ö.txt, Comment Ѐ

adding: "ö.txt"

zip:table/1 returns
  [{zip_comment,[1024]},
   {zip_file,[246,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,48}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [1024]

checking filename [246,46,116,120,116]

and filename comment []

extracting: "ö.txt"

zip:unzip/2 returns
  [[246,46,116,120,116]]

*** zip(1). Testing FileName ö.txt, Comment Ѐ

os:cmd/1 returns [32,32,97,100,100,105,110,103,58,32,246,46,116,120,116,32,40,
                  115,116,111,114,101,100,32,48,37,41,10,69,110,116,101,114,
                  32,99,111,109,109,101,110,116,32,102,111,114,32,246,46,116,
                  120,116,58,10]

zip:table/1 returns
  [{zip_comment,[]},
   {zip_file,[246,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [1024],
             0,8}]

checking archive comment []

checking filename [246,46,116,120,116]

and filename comment [1024]

extracting: "ö.txt"

zip:unzip/2 returns
  [[246,46,116,120,116]]

*** zip:zip(). Testing FileName Ѐ.txt, Comment Ѐ

adding: "Ѐ.txt"

zip:table/1 returns
  [{zip_comment,[1024]},
   {zip_file,[1024,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,48}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [1024]

checking filename [1024,46,116,120,116]

and filename comment []

extracting: "Ѐ.txt"

zip:unzip/2 returns
  [[1024,46,116,120,116]]

*** zip(1). Testing FileName Ѐ.txt, Comment Ѐ

os:cmd/1 returns [32,32,97,100,100,105,110,103,58,32,1024,46,116,120,116,32,
                  40,115,116,111,114,101,100,32,48,37,41,10,69,110,116,101,
                  114,32,99,111,109,109,101,110,116,32,102,111,114,32,1024,46,
                  116,120,116,58,10]

zip:table/1 returns
  [{zip_comment,[]},
   {zip_file,[1024,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [1024],
             0,8}]

checking archive comment []

checking filename [1024,46,116,120,116]

and filename comment [1024]

extracting: "Ѐ.txt"

zip:unzip/2 returns
  [[1024,46,116,120,116]]

*** Testing archive Comment a

adding: "a.txt"

os:cmd/1 returns [99,117,114,114,101,110,116,32,122,105,112,32,102,105,108,
                  101,32,99,111,109,109,101,110,116,32,105,115,58,10,97,10,
                  101,110,116,101,114,32,110,101,119,32,122,105,112,32,102,
                  105,108,101,32,99,111,109,109,101,110,116,32,40,101,110,100,
                  32,119,105,116,104,32,46,41,58,10]

zip:table/1 returns
  [{zip_comment,[97]},
   {zip_file,[97,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [97]

checking filename [97,46,116,120,116]

and filename comment []

extracting: "a.txt"

zip:unzip/2 returns
  [[97,46,116,120,116]]

*** Testing archive Comment ö

adding: "a.txt"

os:cmd/1 returns [99,117,114,114,101,110,116,32,122,105,112,32,102,105,108,
                  101,32,99,111,109,109,101,110,116,32,105,115,58,10,246,10,
                  101,110,116,101,114,32,110,101,119,32,122,105,112,32,102,
                  105,108,101,32,99,111,109,109,101,110,116,32,40,101,110,100,
                  32,119,105,116,104,32,46,41,58,10]

zip:table/1 returns
  [{zip_comment,[246]},
   {zip_file,[97,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [246]

checking filename [97,46,116,120,116]

and filename comment []

extracting: "a.txt"

zip:unzip/2 returns
  [[97,46,116,120,116]]

*** Testing archive Comment Ѐ

adding: "a.txt"

os:cmd/1 returns [99,117,114,114,101,110,116,32,122,105,112,32,102,105,108,
                  101,32,99,111,109,109,101,110,116,32,105,115,58,10,1024,10,
                  101,110,116,101,114,32,110,101,119,32,122,105,112,32,102,
                  105,108,101,32,99,111,109,109,101,110,116,32,40,101,110,100,
                  32,119,105,116,104,32,46,41,58,10]

zip:table/1 returns
  [{zip_comment,[1024]},
   {zip_file,[97,46,116,120,116],
             {file_info,8,regular,read_write,
                        {{2024,6,18},{13,53,50}},
                        {{2024,6,18},{13,53,49}},
                        undefined,420,1,0,0,0,0,0},
             [],0,8}]

checking archive comment [1024]

checking filename [97,46,116,120,116]

and filename comment []

extracting: "a.txt"

zip:unzip/2 returns
  [[97,46,116,120,116]]


</pre>
<div class="ct_error_notify"><pre><b>*** CT Error Notification 2024-06-18 13:53:49.517 ***</b><a id=e-6593 class="link-to-entry" href="#e-6593">&#x1f517;</a>
zip:encode_string failed on line 2520
Reason: {thrown,{{bad_unicode,...},[...]}}

<a href="#end">Full error description and stacktrace</a>
</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2024-06-18 13:53:49
=== Location: {zip_SUITE,unicode}
=== === Reason: {thrown,
                     {{bad_unicode,[9999999]},
                      [{zip,encode_string,1,[{file,"zip.erl"},{line,2520}]},
                       {zip,get_zip_options,2,[{file,"zip.erl"},{line,1029}]},
                       {zip,do_zip,3,[{file,"zip.erl"},{line,646}]},
                       {zip_SUITE,test_bad_comment,1,
                           [{file,"zip_SUITE.erl"},{line,1173}]},
                       {zip_SUITE,unicode,1,
                           [{file,"zip_SUITE.erl"},{line,1056}]},
                       {test_server,ts_tc,3,
                           [{file,"test_server.erl"},{line,1794}]},
                       {test_server,run_test_case_eval1,6,
                           [{file,"test_server.erl"},{line,1303}]},
                       {test_server,run_test_case_eval,9,
                           [{file,"test_server.erl"},{line,1235}]}]}}
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2024 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Tue Jun 18 2024 13:53:49<!--/date--><br />
</div>
</center>
</body>
</html>
